/*Property of Forty Foot Designs, LLC., 2011-2017.  All rights reserved.
 Use the following file to compress
 http://localhost:8888/compileJs.php
 **/
var DROP_CONSTANT={TEST:"test",LIVE:"live",FAKE_LIVE:"fake"};function Drop(a,b,c){this.state="";this.one=a;this.two=b;this.id=c;this.tip=0;this.dropDead="";this.dropable=null;this.requestId=this.failReason="";this.motivationAmount=0;this.hzOutputForLogging=this.pickupEmailAddress=this.paypalHandler=this.dropSequence=this.dropType="";this.paymentMadeByPreapproval="false";this.recap=this.direction=this.legacyObject=""}
Drop.prototype.dropTripNow=function(a){var b="HTT/"+this.one.empNum+"/"+this.two.empNum;$("#seqPopupDecsDataId").html("<pre>Initiating test drop...</pre>");a==DROP_CONSTANT.LIVE&&($("#seqPopupDecsDataId").html("<pre>Initiating live drop...</pre>"),b="HT");functionToCallOnSuccess=DIRECTION_DROP;this.callCommand(b,functionToCallOnSuccess)};Drop.prototype.callCommand=function(a,b){command=a;apaOutput="";_7BotAy(b)};var TRADE_CONSTANT={TEST:"test",LIVE:"live",FAKE_LIVE:"fake"};
function Trade(a,b,c){this.one=a;this.two=b;this.id=c;this.tip=0;this.dropDead="";this.tradeable=null;this.requestId=this.failReason="";this.motivationAmount=0;this.hzOutputForLogging=this.pickupEmailAddress=this.paypalHandler="";this.paymentMadeByPreapproval="false";this.recap=this.direction=this.htmdCommand=this.legacyObject=""}
Trade.prototype.tradeNow=function(a){if("OPEN"==this.one.empNum){var b="HTT/"+this.two.empNum+"/"+this.one.empNum;functionToCallOnSuccess=DIRECTION_PICKUP}else b="HTT/"+this.one.empNum+"/"+this.two.empNum,functionToCallOnSuccess=DIRECTION_TRADE;$("#seqPopupDecsDataId").html("<pre>Initiating test trade...</pre>");a==TRADE_CONSTANT.LIVE&&($("#seqPopupDecsDataId").html("<pre>Initiating live trade...</pre>"),b="HT");this.callCommand(b,functionToCallOnSuccess)};Trade.prototype.dropNow=function(a){};
Trade.prototype.waitForOutput=function(){};Trade.prototype.callCommand=function(a,b){command=a;apaOutput="";_7BotAy(b)};function _4gHz1J(a,b,c,d,e,g,h,k,f,n,l){this.empNum=a;this.userSetDropDeadTime=b;this.earliestDropDeadTime=c;this.seqNumberDate1=d;this.seq1Departs=e;this.seq1Arrives="";this.seqNumberDate2=g;this.seq2Departs=h;this.seqNumberDate3=k;this.seq3Departs=f;this.seqNumberDate4=n;this.seq4Departs=l}
function _A7c7l8(a,b,c,d){this.empNum=a;this.dropDropDeadTime=b;this.seqNumberDate1=c;this.seq1Departs=d}var viewState,eventValidation,viewStateGenerator,empNum="",apaPassword="",decsPassword="",loggedIn=!1,apaOutput="",gettingOutput=!1,resetting=!1,command="",myLoginWaiter,myCommandWaiter,maxResets=0,logoutApaWhenDisconnecting=!1,patClarkCommand=!0,securityRestrictionAttempts=0,retries=0;
function _23w0KA(){clearInterval(myLoginWaiter);clearInterval(myCommandWaiter);resetting=!1;apaOutput=0;gettingOutput=!1}
function _dQ4u8Z(a){0==APA_LIVE?_StTIkc(a):(_ZHmq6z(SHOW),universalPostRequest_login_Apa=$.ajax({type:"POST",url:"https://tasc.alliedpilots.org",success:function(b,c,d){$("#content2").html(c+" : "+d.status);200==d.status&&(-1<b.indexOf("<title>")?(c=b.indexOf("<title>"),d=b.indexOf("</title>"),-1<b.substring(c+7,d).indexOf("TASC APA")?_StTIkc(a):-1<b.indexOf("Home Page")&&(viewState=_F0c7G4(b),eventValidation=_TeEJml(b),viewStateGenerator=_eNErVp(b),_Xu8ZNL(a))):-1<b.indexOf("__VIEWSTATE")?(viewState=
_F0c7G4(b),eventValidation=_TeEJml(b),viewStateGenerator=_eNErVp(b),_Xu8ZNL(a)):alertify.alert("Unable APA login.  Contact Support"))},error:function(a,c,d){_23w0KA();userAborted?userAborted=!1:alertify.error("Error.  Check your connection.");$("#updateHiseqId").show()},complete:function(a,c){_ZHmq6z(HIDE)}}),universalRequestsArray.push(universalPostRequest_login_Apa))}
function _Xu8ZNL(a){0==validPin?_rG23sh():0==apaPassword.length?setTimeout(function(){gettingOutput=!1;dbSet("apaPassword","");dbSet("empNum","");_DFW1mY()},450):0==empNum.length?setTimeout(function(){gettingOutput=!1;dbSet("apaPassword","");dbSet("empNum","");_DFW1mY()},450):0==APA_LIVE?_StTIkc(a):(_ZHmq6z(SHOW),universalPostRequest_loginApa_2=$.ajax({type:"POST",url:"https://login.alliedpilots.org/default.aspx?ReturnUrl=https%3a%2f%2ftasc.alliedpilots.org%2fcreds.ashx",data:{__EVENTTARGET:"",__EVENTARGUMENT:"",
__VIEWSTATE:viewState,__EVENTVALIDATION:eventValidation,__VIEWSTATEGENERATOR:viewStateGenerator,ctl00$MainContent$tbUser:empNum,ctl00$MainContent$tbPassword:apaPassword,ctl00$MainContent$Button1:"Login"},success:function(b,c,d){200==d.status&&((-1<b.indexOf("TASC HOME")||-1<b.indexOf("SABRE LOGIN"))&&-1<b.indexOf(empNum)?_StTIkc(a):(b=b.toLowerCase(),-1<b.indexOf("login failed")&&($("#content5").html(""),apaOutput="",alertify.error("Invalid ID or APA Password",function(){}),setTimeout(function(){gettingOutput=
!1;dbSet("apaPassword","");dbSet("empNum","");_DFW1mY()},450))))},error:function(a,c,d){_23w0KA();userAborted?userAborted=!1:alertify.error("Error.  Check your connection.")},complete:function(a,c){_ZHmq6z(HIDE)}}),universalRequestsArray.push(universalPostRequest_loginApa_2))}
function _StTIkc(a){0==validPin?_rG23sh():0==APA_LIVE?_Ig5FI3(a):(_ZHmq6z(SHOW),universalPostRequest_tascSabreLogin_1=$.ajax({type:"GET",url:"https://tasc.alliedpilots.org/sabre/sabrelogin.aspx",success:function(b,c,d){200==d.status&&-1<b.indexOf("Sabre User ID")&&(viewState=_F0c7G4(b),eventValidation=_TeEJml(b),viewStateGenerator=_eNErVp(b),_Ig5FI3(a))},error:function(a,c,d){_23w0KA();$("#updateHiseqId").show();userAborted?userAborted=!1:alertify.error("Error.  Check your connection.")},complete:function(a,
c){_ZHmq6z(HIDE)}}),universalRequestsArray.push(universalPostRequest_tascSabreLogin_1))}
function _Ig5FI3(a){if(0==validPin)_rG23sh();else if(0==APA_LIVE)loggedIn=!0,1==resetting&&(resetting=!1,_7BotAy(a,0));else if(0==decsPassword.length)alertify.error("Invalid DECS password."),apaOutput="",setTimeout(function(){_IXtSJ1();gettingOutput=!1;dbSet("decsPassword","");_DFW1mY()},450);else if(0==APA_LIVE)1==resetting&&(resetting=!1,_7BotAy(a,0));else{var b={__EVENTTARGET:"",__EVENTARGUMENT:"",__VIEWSTATE:viewState,__VIEWSTATEGENERATOR:viewStateGenerator,__EVENTVALIDATION:eventValidation,ctl00$cph_main$DecsUserIdTextBox:empNum,
ctl00$cph_main$DecsPwdTextBox:decsPassword,ctl00$cph_main$DecsLogInButton:"Submit"};_ZHmq6z(SHOW);universalPostRequest_tascSabreLogin_2=$.ajax({type:"POST",url:"https://tasc.alliedpilots.org/sabre/sabrelogin.aspx",data:b,success:function(b,d,e){if(1<maxResets)alertify.error("Unable to login.  Please restart the app, then try again."),_ZHmq6z(HIDE);else if(maxResets++,200==e.status)if(-1<b.indexOf("Invalid ID or Sabre Password")||-1<b.indexOf("DECS SignIn Problem")||-1<b.indexOf("There was a problem signing into Sabre"))1==
resetting&&(resetting=!1),setTimeout(function(){_IXtSJ1();gettingOutput=!1;dbSet("decsPassword","");_DFW1mY()},450);else{if(-1<b.indexOf('<div class="SabreWrap">'))for(d=document.createElement("html"),d.innerHTML=b,d=d.getElementsByTagName("div"),e=0;e<d.length;e++){var c=d[e];if("SabreWrap"==c.className&&(-1<c.innerHTML.indexOf("IN PERSONAL MODE")||-1<c.innerHTML.indexOf(empNum)||""==c.innerHTML)){loggedIn=!0;passwordsWereManuallyEntered&&_TxDUAf();1==resetting&&(resetting=!1);if(0==command.length){weAreTestingOrTradingNow=
!1;alertify.error("Error.  Tap SYNC WITH DECS in 'My Trips' to try again.");return}$("#resetDecsButtonId").show();_NIfTxt(a);return}}viewState=_F0c7G4(b);eventValidation=_TeEJml(b);viewStateGenerator=_eNErVp(b);loggedIn=!0;1==resetting&&(resetting=!1,_7BotAy(a,0))}},error:function(a,b,e){_23w0KA();$("#updateHiseqId").show();userAborted?userAborted=!1:alertify.error("Error.  Check your connection.")},complete:function(a,b){_ZHmq6z(HIDE)}});universalRequestsArray.push(universalPostRequest_tascSabreLogin_2)}}
function _7BotAy(a,b){if(0==validPin)_rG23sh();else if(subExpired)alertify.error("Subscription expired");else if(2<b)weAreTestingOrTradingNow=!1,alertify.error("Reset error.  Please try again by tapping SYNC WITH DECS.");else if(0==command.length)setTimeout(function(){b+=1;_7BotAy(a,b)},450);else if(0==loggedIn)weAreTestingOrTradingNow=!1,apaOutput="",resetting=!0,_dQ4u8Z(a);else{if(1==gettingOutput)return"Processing a previous request. Stand by.";var c=_ueFoOD(a);"Processing a previous request. Stand by."==
c?alertify.error(c):"Not logged in"==c&&alertify.error("Unknown error.  Please refresh.")}}function _ueFoOD(a){if(0==validPin)_rG23sh();else{if(0==loggedIn)return"Not logged in";gettingOutput=!0;apaOutput="";_NIfTxt(a)}}function _DmxACA(){$("#content5").html(apaOutput);command=apaOutput=""}
function _MVufdU(a){if(0==decsPassword.length)alertify.error("Invalid DECS password.  Contact Support");else if(0==APA_LIVE)_NIfTxt(a);else{var b={__LASTFOCUS:"",__EVENTTARGET:"",__EVENTARGUMENT:"",__VIEWSTATE:viewState,__VIEWSTATEGENERATOR:viewStateGenerator,__EVENTVALIDATION:eventValidation,ctl00$cph_hdrLeft$DecsTextBox:command,ctl00$cph_hdrLeft$DecsButton:"Send"};_ZHmq6z(SHOW);universalPostRequest_getPost_Command=$.ajax({type:"POST",url:"https://tasc.alliedpilots.org/Sabre/Decs.aspx?SI=IN+PERSONAL+MODE%0a+%0a",
data:b,success:function(b,d,e){if(200==e.status){if(-1<b.indexOf("SABRE LOGIN")){$("#content5").html("resetting connection to DECS...");apaOutput="";_23w0KA();reset(a);return}maxResets=0;b.indexOf('<div class="SabreWrap">');gettingOutput=!1;apaOutput=b}302==e.status&&(apaOutput="not logged in",loggedIn=!1);gettingOutput=!1},error:function(a,b,e){_23w0KA();userAborted?userAborted=!1:alertify.error("Error.  Check your connection.")},complete:function(a,b){_ZHmq6z(HIDE)}});universalRequestsArray.push(universalPostRequest_getPost_Command)}}
function _8m23r0(a){a=a.split("\n");for(var b=0;b<a.length;b++){var c=a[b].indexOf("<a"),d=a[b].indexOf('">');-1<c&&0<d&&(c=a[b].substring(c,d+2),a[b]=a[b].replace(c,""),a[b]=a[b].replace("</a>",""))}for(b=0;b<a.length;b++)-1<a[b].indexOf("<img")&&(a[b]="");return a.join("\n").trim()}
function _uoAZYB(a){a=a.split("\n");for(var b=0;b<a.length;b++){var c=a[b].indexOf("<a"),d=a[b].indexOf('">');if(-1<c&&0<d){c=a[b].substring(c,d+2);d=c.indexOf("FOSLINE=HSS");d=c.substring(d).split("/");var e=d[2].length,g=d[2];4==e&&(g=d[2]+" ");3==e&&(g=d[2]+"  ");2==e&&(g=d[2]+"   ");1==e&&(g=d[2]+"    ");a[b]=a[b].replace(c,"");a[b]=a[b].replace(d[2],g);a[b]=a[b].replace("</a>","")}}for(b=0;b<a.length;b++)-1<a[b].indexOf("<img")&&(a[b]="");return a.join("\n").trim()}
function _NIfTxt(a){command=command.toUpperCase();if("HI33/D/16JUN/LTEST"==command){apaOutput=_hGARuR();apaOutput=apaOutput.replace(/red/g,"yellow");apaOutput="<span data-display='generalDecsWindowDecsDataId' id='hi33Long1Id' class='hi33 hi33LongId'>LONG ONLY</span> <span data-display='generalDecsWindowDecsDataId' id='hi33Short1Id'  class='hi33 hi33ShortId'>SHORT ONLY</span>  <span data-display='generalDecsWindowDecsDataId' id='hi33All1Id'  class='hi33 hi33AllId'>ALL</span> <span class='hi33 hi33Help'>????</span><br />Groups:  <span data-display='generalDecsWindowDecsDataId' id='hi33Group11Id'  class='hi33 hi33AllId'>1</span> <span data-display='generalDecsWindowDecsDataId' id='hi33Group21Id'  class='hi33 hi33AllId'>2</span> <span data-display='generalDecsWindowDecsDataId' id='hi33Group31Id'  class='hi33 hi33AllId'>3</span> <span data-display='generalDecsWindowDecsDataId' id='hi33Group41Id'  class='hi33 hi33AllId'>4</span> <span data-display='generalDecsWindowDecsDataId' id='hi33Group51Id'  class='hi33 hi33AllId'>5</span>"+
apaOutput;var b=_27VgIe(command,apaOutput);b=_YySzCr(b);b=_HGoLI3(command,b);$("#generalDecsWindowDecsDataId").html("<pre>"+command+"\n"+b+"</pre>");$("#generalDecsWindowInputWindowId").val(command);_0VehHv();dbSet(HI33_KEY_GENERAL,"<pre>"+command+"\n"+b+"</pre>");_5cAvYi();gettingOutput=!1}else{b=patClarkCommand?"https://tasc.alliedpilots.org/sabre/Decs.aspx?LINK=FALSE&FOSLINE=":"https://tasc.alliedpilots.org/sabre/Decs.aspx?FOSLINE=";0==APA_LIVE&&(b="https://www.aapocket.com/market/testGetDecsOutput.php?t=ghtjlwryrohsogbeo&FOSLINE=");
var c="";if(simulateTradingCommandsOnly){if(0==APA_LIVE&&-1<command.indexOf("HT")||-1<command.indexOf("HZ"))b="http://localhost:8888/market/testGetDecsOutput.php?FOSLINE=";if(1==APA_LIVE&&-1<command.indexOf("HT")||-1<command.indexOf("HZ"))b="https://www.aapocket.com/market/testGetDecsOutput.php?t=ghtjlwryrohsogbeo&FOSLINE=";simFailHT&&(-1<command.indexOf("HT/")||-1<command.indexOf("HTT/"))&&(command="FAIL_"+command);simFailHTSA&&-1<command.indexOf("HTS/A")&&(command="FAIL_"+command);simFailHTOA&&
-1<command.indexOf("HTO/A")&&(command="FAIL_"+command);simFailHTSB&&-1<command.indexOf("HTS/B")&&(command="FAIL_"+command);simFailHTMD&&"HTMD"==command&&(command="FAIL_"+command);simFailHZ&&"HZ"==command&&(command="FAIL_"+command);if("HZ"==command){var d=dbGet(activeDrop);null!=d?"test"==d.direction&&(c="&test=true"):"test"==dbGet(activeTrade).direction&&(c="&test=true");null!=currentDfpActionObject&&(c="&dfpTest=true")}}b=b+command+c;gettingOutput=!0;_ZHmq6z(SHOW);universalPostRequest_get_Command=
$.ajax({type:"GET",url:b,success:function(b,c,d){$("#generalDecsWindowDecsDataId").attr("data-stamp",(new Date).getTime());$("#seqPopupDecsDataId").attr("data-stamp",(new Date).getTime());gettingOutput=!1;if(200==d.status){if(-1<b.indexOf("SABRE LOGIN")){$("#content5").html("resetting connection to DECS...");apaOutput="";_23w0KA();reset(a);return}if(patClarkCommand)apaOutput=b;else if(-1<b.indexOf('<div class="SabreWrap">')){c=document.createElement("html");c.innerHTML=b;c=c.getElementsByTagName("div");
for(var e=0;e<c.length;e++)if(b=c[e],"SabreWrap"==b.className){apaOutput=b.innerHTML;break}}else{if(a==DIRECTION_TRADE||a==DIRECTION_DETERMINE_OWNER){var f=dbGet(activeTrade);f.tradeable=null;dbSet(activeTrade,f);_IXtSJ1()}a==DIRECTION_DROP&&_IXtSJ1();if(a==DIRECTION_HSS_AFTER_DROP){alertify.alert("There was a problem verifying if the drop went through.  Tap SYNC WITH DECS to determine if the drop went through.");return}if(a==DIRECTION_HSS_AFTER_DROP){alertify.alert("There was a problem verifying if the drop went through.  Tap SYNC WITH DECS to determine if the drop executed. <br /><br />If an incentive payment was made and the drop did not execute, contact LiteSabre Support.");
return}if(a==DIRECTION_HSS_AFTER_FIRST_TRADE_HSS||a==DIRECTION_HSS_AFTER_SECOND_TRADE_HSS){alertify.alert("There was a problem verifying if the trade went through.  Tap SYNC WITH DECS to determine if the trade executed. <br /><br />If an incentive payment was made and the trade did not execute, contact LiteSabre Support.");return}alertify.error(command+"<br />Unable TASC. Try again later.");command="IG";return}retries=maxResets=0;apaOutput="HI1"==command||"HI2"==command?_uoAZYB(apaOutput):_8m23r0(apaOutput);
if(-1<apaOutput.indexOf("ENTER PERSONAL MODE WITH PASSWORD")){$("#content5").html("resetting connection to DECS...");apaOutput="";reset(a);return}if(-1<apaOutput.indexOf("DECS SignIn Problem: Invalid ID or Sabre Password")){apaOutput="";alertify.error("Invalid ID or DECS Password");setTimeout(function(){_IXtSJ1();gettingOutput=!1;dbSet("decsPassword","");_DFW1mY()},450);return}"HI1"==command&&-1<apaOutput.indexOf("MONTH ENDING")&&-1<apaOutput.indexOf(dbGet("empNum"))&&(dbSet("hi1",(new Date).getTime()+
"::\n"+apaOutput),setTimeout(function(){_v2BRMl($("#hiSwitcherId").html())},300));"HI2"==command&&-1<apaOutput.indexOf("MONTH ENDING")&&-1<apaOutput.indexOf(dbGet("empNum"))&&(dbSet("hi2",(new Date).getTime()+"::\n"+apaOutput),setTimeout(function(){_v2BRMl($("#hiSwitcherId").html())},300));"HI10"==command&&-1<apaOutput.indexOf("PLN CLR EQP POS SC REASON")&&-1<apaOutput.indexOf(dbGet("empNum"))&&dbSet("hi10",(new Date).getTime()+"::"+apaOutput);"HISEQ"==command&&-1<apaOutput.indexOf("PILOT TRIP TRADE WITH OPEN TIME STATUS")&&
-1<apaOutput.indexOf(dbGet("empNum"))&&(dbSet("rawHiseq",(new Date).getTime()+"::"+apaOutput),b=_zlhuCj(apaOutput),dbSet("hiseq",(new Date).getTime()+"::"+b));if(a==DIRECTION_HSS_AFTER_DROP||a==DIRECTION_HSS_AFTER_FIRST_TRADE_HSS||a==DIRECTION_HSS_AFTER_SECOND_TRADE_HSS){b=[0];b[1]=command;b[2]=apaOutput;if(-1<apaOutput.indexOf("NOT FOUND SEQ/DATE")){_m9g9nz(command);f=dbGet("invalidSequences");""==f?(f=[],f[0]=command):f.push(command);dbSet("invalidSequences",f);alertify.error("There was an unknown error.  Check your schedule.");
return}if(a==DIRECTION_HSS_AFTER_DROP){if(-1<apaOutput.indexOf("SEQ ")&&-1<apaOutput.indexOf(empNum)){alertify.alert("Drop failed.<br />You are still listed on the drop sequence.  Check your schedule.");return}if(-1<apaOutput.indexOf("SEQ ")){_3ibai5(command,command+"<pre>"+apaOutput+"</pre>");return}}if(a==DIRECTION_HSS_AFTER_FIRST_TRADE_HSS||a==DIRECTION_HSS_AFTER_SECOND_TRADE_HSS){f=dbGet(activeTrade);var g=f.two.seqNumberDate1;if(-1<command.indexOf(f.one.seqNumberDate1)){if(f=f.one.empNum,-1<
apaOutput.indexOf(f)&&0==simulateTradingCommandsOnly){alertify.alert("The trade could not be verified.  Check your schedule.");return}}else if(-1<command.indexOf(g)&&(f=f.one.empNum,-1==apaOutput.indexOf(f)&&0==simulateTradingCommandsOnly)){alertify.alert("The trade could not be verified.  Check your schedule.");return}}_94PLTo(b,a);return}if(a==DIRECTION_HSS){b=dbGet(command);b[2]=apaOutput;if(-1<apaOutput.indexOf("NOT FOUND SEQ/DATE")){_m9g9nz(command);f=dbGet("invalidSequences");""==f?(f=[],f[0]=
command):f.push(command);dbSet("invalidSequences",f);setTimeout(function(){_IefpBk()},300);return}dbSet(command,b);_94PLTo(b,"");return}if(a==DIRECTION_HSS_FOR_NEW_OWNER){b=[];b[2]=apaOutput;b[1]=command;b[0]=DIRECTION_HSS_FOR_NEW_OWNER;f=dbGet(activeTrade);g=f.id;var h=$("#inPlayCommandId_"+g).html();d=!1;if(command=="HSS/"+h&&(h=command.split("/"),c=h[1],("CA"==c||"RC"==c||"FO"==c||"FB"==c||"FC"==c)&&-1<apaOutput.indexOf(h[2])))if(h=determineEmployeeNumberOfPosOnHss(c,apaOutput),"open"==h)f.tradeable=
!1,f.failReason="open",dbSet(activeTrade,f),_IXtSJ1(),alertify.alert("This trip is now open.  You can try trading for it in open time.  This list will now refresh."),_ICh3Gd(b),d=!0;else if(h.match(/^[0-9]{6}$/)&&(c=$("#inPlayOwnerEmpNum_"+g).html(),c.match(/^[0-9]{6}$/))){h!=c?(_ICh3Gd(b),f=command+"<pre>"+apaOutput+"</pre>",$("#inPlayContentsId_"+g).html(f),$("#inPlayPopupDecsDataId").html($("#inPlayContentsId_"+g).html()),$("#inPlayOwnerEmpNum_"+g).html(h),_avyjE2(g,h)):(f.tradeable=!1,f.failReason=
"INVALID SEQUENCE/DATE - PLS TRY AGAIN",dbSet(activeTrade,f),_IXtSJ1());return}d||(f.tradeable=!1,f.failReason="Unable to determine the owner of this trip",dbSet(activeTrade,f),_IXtSJ1());return}if(a==DIRECTION_NONE)return;if(a==DIRECTION_FILL_MISSING_TRIPS){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){securityRestrictionAttempts++;if(1<securityRestrictionAttempts){securityRestrictionAttempts=0;alertify.error("SECURITY RESTRICTION");return}apaOutput="";reset(DIRECTION_FILL_MISSING_TRIPS);return}0<
missingHssContentCommandsArray.length&&missingHssContentCommandsArray.shift();if(-1<apaOutput.indexOf("INVALID")||-1<apaOutput.indexOf("NOT FOUND")){if(0<missingHssContentCommandsArray.length){command=missingHssContentCommandsArray[0];apaOutput="";_7BotAy(DIRECTION_FILL_MISSING_TRIPS,0);return}}else if(-1<apaOutput.indexOf("SEQ ")){b=[0];b[1]=command;b[2]=apaOutput;_94PLTo(b,DIRECTION_FILL_MISSING_TRIPS);return}_YkoskJ(dbGet("hi1"),dbGet("hi2"));return}if(a==DIRECTION_POST){$("#seqPopupDecsDataId").html("<pre>"+
apaOutput+"</pre>");$("#seqPopupInputWindowId").val("");if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){securityRestrictionAttempts++;if(1<securityRestrictionAttempts){securityRestrictionAttempts=0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");return}$("#seqPopupDecsDataId").html("<pre>DECS is resetting...</pre>");apaOutput="";reset(DIRECTION_DROP)}return}if(a==DIRECTION_COLOR_OF_SEQUENCE){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){securityRestrictionAttempts++;if(1<securityRestrictionAttempts){securityRestrictionAttempts=
0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");alertify.error("SECURITY RESTRICTION");return}$("#"+colorId).html("<span style='color:red'>resetting...</a>");apaOutput="";reset(DIRECTION_COLOR_OF_SEQUENCE);return}f=command.replace("HIQUAL/","");if(-1<apaOutput.indexOf(" RED ")){$("#"+colorId).html("<span style='color:red'>TTOT STATUS RED</a>");b=$("#openTripTradeBoxDecsDataId").html();dbSet(f,b);return}if(-1<apaOutput.indexOf(" GREEN")){$("#"+colorId).html("<span style='color:green'>TTOT STATUS GREEN</a>");
b=$("#openTripTradeBoxDecsDataId").html();dbSet(f,b);return}if(-1<apaOutput.indexOf(" OFF ")){$("#"+colorId).html("<span style='color:gray'>TTOT STATUS OFF</a>");b=$("#openTripTradeBoxDecsDataId").html();dbSet(f,b);return}if(-1<apaOutput.indexOf("SEQ ORIGINATES TODAY OR TOMORROW")){$("#"+colorId).html("<span style='color:gray'>TTOT STATUS NONE</a>");b=$("#openTripTradeBoxDecsDataId").html();dbSet(f,b);return}$("#"+colorId).html("<span style='color:black'>error.  try again.</a>");return}if(a==DIRECTION_OPEN_TRIP){if(-1<
apaOutput.indexOf("NOT FOUND")){f="<pre><span class='clearBox'>CLEAR</span></pre>";b=_27VgIe(command,apaOutput);b=_HGoLI3(command,b);$("#openTripTradeBoxDecsDataId").html("<pre>"+f+command+"\n"+b+"</pre>");_jt9FVJ();_5cAvYi();$("#googleCalConflictsLinkId").show();return}f=Math.floor(1E4*Math.random()+1);b=command.replace("HSS/","");f="<pre><span id='sevenPickupId' class='quickTradePickupDrag' data-command='"+command+"'>CLICK AND DRAG FOR QUICK TRADE</span><span class='clearBox'>CLEAR</span>\n<span id='"+
f+"'data-id='"+f+"' data-command='HIQUAL/"+b+"' class='currentColorOfSeq'>TTOT STATUS</span></pre>";b=_27VgIe(command,apaOutput);b=_HGoLI3(command,b);$("#openTripTradeBoxDecsDataId").html("<pre>"+f+command+"\n"+b+"</pre>");_jt9FVJ();_5cAvYi();$("#googleCalConflictsLinkId").show();savedPickupDataBeforeHover="<pre>"+f+command+"\n"+b+"</pre>";_FQcB7J();dbSet(command,savedPickupDataBeforeHover);_5cAvYi();b=[0];b[1]=command;b[2]=apaOutput;f=command.replace("HSS/","");dbSet(f,command+"\n"+apaOutput);_QKA7SQ();
_94PLTo(b,DIRECTION_HSS_SILENT_UPDATE);return}if(a==DIRECTION_DISPLAY_HISEQ){$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");$("#seqPopupInputWindowId").val("");if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){securityRestrictionAttempts++;if(1<securityRestrictionAttempts){securityRestrictionAttempts=0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");return}$("#seqPopupDecsDataId").html("<pre>resetting...</pre>");$("#seqPopupInputWindowId").val("");apaOutput="";reset(DIRECTION_DISPLAY_HISEQ);
return}-1<apaOutput.indexOf("PILOT TRIP TRADE WITH OPEN TIME STATUS")&&-1<apaOutput.indexOf(dbGet("empNum"))&&(dbSet("rawHiseq",(new Date).getTime()+"::"+apaOutput),b=_zlhuCj(apaOutput),$("#seqPopupDecsDataId").html("<pre>"+b+"</pre>"),$("#hiseqDisplay").unbind().click(function(){$("#autoDropTabId").trigger("click")}),$("#seqPopupInputWindowId").val(""),$(".hiseqGo").unbind().click(function(){command=$(this).attr("data-command");apaOutput="";_7BotAy(DIRECTION_GENERAL_POPUP,0)}),dbSet("hiseq",(new Date).getTime()+
"::"+b));return}if(a==DIRECTION_MANUAL){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")||-1<apaOutput.indexOf("MUST BE IN YOUR PERSONAL MODE")||-1<apaOutput.indexOf("MUST BE IN PERSONAL MODE")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");return}$("#seqPopupDecsDataId").html("<pre>resetting...</pre>");$("#seqPopupInputWindowId").val("");apaOutput=
"";reset(DIRECTION_MANUAL);return}-1<command.indexOf("HI33")&&(apaOutput=apaOutput.replace(/red/g,"yellow"),apaOutput="<span data-display='seqPopupDecsDataId' id='hi33Long2Id' class='hi33 hi33LongId'>LONG ONLY</span> <span data-display='seqPopupDecsDataId' id='hi33Short2Id' class='hi33 hi33ShortId'>SHORT ONLY</span>  <span data-display='seqPopupDecsDataId' id='hi33All2Id' class='hi33 hi33AllId'>ALL</span> <span class='hi33 hi33Help'>????</span><br />"+apaOutput);if(-1<apaOutput.indexOf("PILOT TRIP TRADE WITH OPEN TIME STATUS")&&
-1<apaOutput.indexOf(dbGet("empNum"))){dbSet("rawHiseq",(new Date).getTime()+"::"+apaOutput);b=_zlhuCj(apaOutput);$("#seqPopupDecsDataId").html("<pre>"+b+"</pre>");$("#hiseqDisplay").unbind().click(function(){$("#autoDropTabId").trigger("click")});$("#seqPopupInputWindowId").val("");$(".hiseqGo").unbind().click(function(){command=$(this).attr("data-command");apaOutput="";_7BotAy(DIRECTION_GENERAL_POPUP,0)});dbSet("hiseq",(new Date).getTime()+"::"+b);return}f=_27VgIe(command,apaOutput);f=_YySzCr(f);
f=_HGoLI3(command,f);$("#seqPopupDecsDataId").html("<pre>"+command+"\n"+f+"</pre>");$("#seqPopupInputWindowId").val("");_0VehHv();dbSet(HI33_KEY_SEQ,"<pre>"+command+"\n"+f+"</pre>");_XJ8PvV(command,"<pre>"+f+"</pre>");_5cAvYi();-1<command.indexOf("HSS/")&&(b=[0],b[1]=command,b[2]=apaOutput,f=command.replace("HSS/",""),dbSet(f,command+"\n"+apaOutput),_94PLTo(b,DIRECTION_HSS_SILENT_UPDATE));return}if(a==DIRECTION_GENERAL_POPUP){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")||-1<apaOutput.indexOf("MUST BE IN YOUR PERSONAL MODE")||
-1<apaOutput.indexOf("MUST BE IN PERSONAL MODE")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");return}$("#seqPopupDecsDataId").html("<pre>resetting...</pre>");$("#seqPopupInputWindowId").val("");apaOutput="";reset(a);return}-1<command.indexOf("HI33")&&(apaOutput=apaOutput.replace(/red/g,"yellow"),apaOutput="<span data-display='seqPopupDecsDataId' id='hi33Long3Id' class='hi33 hi33LongId'>LONG ONLY</span> <span data-display='seqPopupDecsDataId' id='hi33Short3Id' class='hi33 hi33ShortId'>SHORT ONLY</span>  <span data-display='seqPopupDecsDataId' id='hi33All3Id' class='hi33 hi33AllId'>ALL</span> <span class='hi33 hi33Help'>????</span><br />"+
apaOutput);if(-1<apaOutput.indexOf("TRIP TRADE NOT COMPLETE. PLZ ENTER HZ TO FINISH OR IG TO IGNORE")){$("#seqPopupDecsDataId").html("<pre>RESETTING.  Try your command again.</pre>");$("#seqPopupInputWindowId").val("");command="IG";_NIfTxt(DIRECTION_NONE);return}-1<command.indexOf("HSS/")&&(b=[0],b[1]=command,b[2]=apaOutput,f=command.replace("HSS/",""),dbSet(f,command+"\n"+apaOutput),_94PLTo(b,DIRECTION_HSS_SILENT_UPDATE));if(-1<command.indexOf("HIPOST")){command="HISEQ";$("#seqPopupDecsDataId").html("<pre>"+
apaOutput+"</pre>");$("#seqPopupInputWindowId").val("");_NIfTxt(a);return}if(-1<command.indexOf("HISEQ")){$("#seqPopupDecsDataId").html("<pre>"+dbGet("hiseq")+"</pre>");$("#hiseqDisplay").unbind().click(function(){$("#autoDropTabId").trigger("click")});$("#seqPopupInputWindowId").val("");$(".hiseqGo").unbind().click(function(){command=$(this).attr("data-command");apaOutput="";_7BotAy(a,0)});_YkoskJ(dbGet("hi1"),dbGet("hi2"));return}b=_27VgIe(command,apaOutput);b=_HGoLI3(command,b);$("#seqPopupDecsDataId").html("<pre>"+
b+"</pre>");$("#seqPopupInputWindowId").val("");if("HI1"==command||"HI2"==command)$("#seqPopupDecsDataId").html("<pre>"+_YySzCr(apaOutput)+"</pre>"),$("#seqPopupInputWindowId").val(""),_0VehHv();dbSet(HI33_KEY_SEQ,"<pre>"+b+"</pre>");_XJ8PvV(command,"<pre>"+b+"</pre>");_5cAvYi();return}if(a==DIRECTION_GENERAL_WINDOW){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")||-1<apaOutput.indexOf("MUST BE IN YOUR PERSONAL MODE")||-1<apaOutput.indexOf("MUST BE IN PERSONAL MODE")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&
(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;$("#generalDecsWindowDecsDataId").html("<pre>"+apaOutput+"</pre>");return}$("#generalDecsWindowDecsDataId").html("<pre>resetting...</pre>");$("#generalDecsWindowInputWindowId").val("");apaOutput="";reset(a);return}-1<command.indexOf("HI33")&&(apaOutput=apaOutput.replace(/red/g,"yellow"),apaOutput="<span data-display='generalDecsWindowDecsDataId' id='hi33Long1Id' class='hi33 hi33LongId'>LONG ONLY</span> <span data-display='generalDecsWindowDecsDataId' id='hi33Short1Id'  class='hi33 hi33ShortId'>SHORT ONLY</span>  <span data-display='generalDecsWindowDecsDataId' id='hi33All1Id'  class='hi33 hi33AllId'>ALL</span> <span class='hi33 hi33Help'>????</span><br />"+
apaOutput);if(-1<apaOutput.indexOf("TRIP TRADE NOT COMPLETE. PLZ ENTER HZ TO FINISH OR IG TO IGNORE")){$("#generalDecsWindowDecsDataId").html("<pre>RESETTING.  Try your command again.</pre>");command="IG";_NIfTxt(DIRECTION_NONE);return}b="";-1<command.indexOf("N4D/")||-1<command.indexOf("N4I/")?(-1<apaOutput.indexOf("OPEN SEQUENCES")&&_xQjMZY(command,apaOutput),b=_N1IVzP(command,apaOutput)):-1<command.indexOf("N3D/")||-1<command.indexOf("N3I/")||-1<command.indexOf("N3DO/")||-1<command.indexOf("N3IO/")?
b=_N1IVzP(command,apaOutput):-1<command.indexOf("HISEQ")?b=_zlhuCj(apaOutput):(b=_27VgIe(command,apaOutput),b=_HGoLI3(command,b));$("#generalDecsWindowDecsDataId").html("<pre>"+b+"</pre>");if("HI1"==command||"HI2"==command)$("#generalDecsWindowDecsDataId").html("<pre>"+_YySzCr(apaOutput)+"</pre>"),_0VehHv();-1<command.indexOf("HI33")&&dbSet(HI33_KEY_GENERAL,"<pre>"+b+"</pre>");_VaRyNo(command,"<pre>"+b+"</pre>");_5cAvYi();-1<command.indexOf("HSS/")&&(b=[0],b[1]=command,b[2]=apaOutput,f=command.replace("HSS/",
""),dbSet(f,command+"\n"+apaOutput),_94PLTo(b,DIRECTION_HSS_SILENT_UPDATE));return}if(a==DIRECTION_DETERMINE_OWNER){command=hssCommandToDetermineOwner;_NIfTxt(DIRECTION_HSS_FOR_NEW_OWNER);return}a==DIRECTION_MISSING_N4_COMMANDS&&0<missingN4CommandsArray.length&&(b=missingN4CommandsArray.pop(),-1<b.indexOf("N4")?(-1<apaOutput.indexOf("OPEN SEQUENCES")&&_xQjMZY(command,apaOutput,null),command=b,_7BotAy(DIRECTION_MISSING_N4_COMMANDS,0)):-1<b.indexOf("[")&&(b=JSON.parse(b),_xQjMZY(command,apaOutput,b)));
if(a==DIRECTION_DROP_ALL_DFPS){$("#dfpOutputId").html(command);if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){securityRestrictionAttempts++;if(1<securityRestrictionAttempts){securityRestrictionAttempts=0;alertify.error("SECURITY RESTRICTION");return}apaOutput="";reset(DIRECTION_DROP_ALL_DFPS);return}if(-1<command.indexOf("HIDFP/")){-1<apaOutput.indexOf("THE FOLLOWING DFPS WILL BE DROPPED")?(command="HZ",_NIfTxt(DIRECTION_DROP_ALL_DFPS)):(command="IG",_NIfTxt(DIRECTION_NONE));return}if("HZ"==command){$("#dfpOutputId").html("");
-1<apaOutput.indexOf("DFPS ADJUSTED")?_SjdxsJ(!0):($("#dfpOutputId").html(""),alertify.error("Unable to drop DFPs. Please try again, or restart the app."));return}}if(a==DIRECTION_MOVE_DFP){$("#dfpOutputId").html(command);if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;alertify.error("SECURITY RESTRICTION");return}apaOutput="";reset(DIRECTION_MOVE_DFP);return}if(-1<
command.indexOf("HIDFP*/")&&-1<apaOutput.indexOf("MONTH ENDING")){command="NHR/24/"+currentDfpActionObject.originatingDate;_NIfTxt(DIRECTION_MOVE_DFP);return}if(-1<command.indexOf("NHR/24/")&&-1<apaOutput.indexOf("MONTH ENDING")){if("drop"==currentDfpActionObject.action){command="HZ";_NIfTxt(DIRECTION_MOVE_DFP);return}if("move"==currentDfpActionObject.action){command="NHA/24/"+currentDfpActionObject.destinationDate;_NIfTxt(DIRECTION_MOVE_DFP);return}}if(-1<command.indexOf("NHA/24/")&&-1<apaOutput.indexOf("MONTH ENDING")){command=
"HZ";_NIfTxt(DIRECTION_MOVE_DFP);return}if(-1<command.indexOf("HZ")&&-1<apaOutput.indexOf("DFPS ADJUSTED")){_gw81L2(currentDfpActionObject.originatingDate,null,null,"complete");_BQl63W()?_bCN9dz():setTimeout(function(){$("#dfpOutputId").html("");_SjdxsJ(!0)},500);return}if("IG"==command){_BQl63W()?_bCN9dz():setTimeout(function(){$("#dfpOutputId").html("");_SjdxsJ(!0)},500);return}-1<apaOutput.indexOf("ACTIVITY NOT FOUND")&&(_gw81L2(currentDfpActionObject.originatingDate,null,null,"ACTIVITY NOT FOUND"),
alertify.alert("There is no DFP on "+currentDfpActionObject.originatingDate+".<br />Action ignored.",function(){command="IG";_NIfTxt(DIRECTION_MOVE_DFP)}));-1<apaOutput.indexOf("DFPS WHICH HAVE ALREADY STARTED MUST BE WAIVED IN A SEPARATE TRANSACTION")&&(_gw81L2(currentDfpActionObject.originatingDate,null,null,"DFPS WHICH HAVE ALREADY STARTED MUST BE WAIVED IN A SEPARATE TRANSACTION"),alertify.alert("DFPS WHICH HAVE ALREADY STARTED MUST BE WAIVED IN A SEPARATE TRANSACTION.<br />Action ignored.",function(){command=
"IG";_NIfTxt(DIRECTION_MOVE_DFP)}));-1<apaOutput.indexOf("DFP ALREADY COMPLETED - UPDATE NOT ALLOWED")&&(_gw81L2(currentDfpActionObject.originatingDate,null,null,"DFP ALREADY COMPLETED - UPDATE NOT ALLOWED"),alertify.alert("DFP ALREADY COMPLETED - UPDATE NOT ALLOWED.<br />Action ignored.",function(){command="IG";_NIfTxt(DIRECTION_MOVE_DFP)}));_gw81L2(currentDfpActionObject.originatingDate,null,null,apaOutput);alertify.alert(apaOutput+"<br />Action ignored.",function(){command="IG";_NIfTxt(DIRECTION_MOVE_DFP)})}if(a==
DIRECTION_TRADEABLE_TRIPS){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")||-1<apaOutput.indexOf("MUST BE IN YOUR PERSONAL MODE")||-1<apaOutput.indexOf("MUST BE IN PERSONAL MODE")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;alertify.error("SECURITY RESTRICTION");return}apaOutput="";reset(DIRECTION_TRADEABLE_TRIPS);return}if(-1<command.indexOf("N4T/")){if(-1<apaOutput.indexOf("TTOT RED/RED TRADE FINDER")){n4tData=
apaOutput;command=command.replace("N4T/","N4TL/");_NIfTxt(DIRECTION_TRADEABLE_TRIPS);return}if(-1<apaOutput.indexOf("THIS SEQ IS GREEN")){h=$(".ui-jqgrid-title").html();b=h.indexOf("<span");h=h.substring(0,b).trim();h=h.replace("Tradeable trips for ","");$("#list").setCaption(h+" This sequence is green.<span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});tradeableTripsAreBeingRequested=!1;return}if(-1<apaOutput.indexOf("CONFLICTS WITH")){h=
$(".ui-jqgrid-title").html();b=h.indexOf("<span");h=h.substring(0,b).trim();h=h.replace("Tradeable trips for ","");$("#list").setCaption(h+" <span style='color:red'>ERROR</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});tradeableTripsAreBeingRequested=!1;alertify.alert(apaOutput);return}if(-1<apaOutput.indexOf("SORRY ")){h=$(".ui-jqgrid-title").html();b=h.indexOf("<span");h=h.substring(0,b).trim();h=h.replace("Tradeable trips for ",
"");$("#list").setCaption(h+" <span style='color:red'>No tradeable trips found.</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});tradeableTripsAreBeingRequested=!1;return}if(-1<apaOutput.indexOf("CANT TTOT TODAY OR TOMORROWS SEQUENCES")){h=$(".ui-jqgrid-title").html();b=h.indexOf("<span");h=h.substring(0,b).trim();h=h.replace("Tradeable trips for ","");$("#list").setCaption(h+" <span style='color:red'>Seq departs today or tomorrow.</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");
$("#groupingToggleId").unbind().click(function(){_gMLwAq()});tradeableTripsAreBeingRequested=!1;return}if(-1<apaOutput.indexOf("TTOT IS TURNED OFF FOR THIS DATE")){h=$(".ui-jqgrid-title").html();b=h.indexOf("<span");h=h.substring(0,b).trim();h=h.replace("Tradeable trips for ","");$("#list").setCaption(h+" <span style='color:red'>TTOT is currently turned off.</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});tradeableTripsAreBeingRequested=
!1;return}}if(-1<command.indexOf("N4TL/")){if(-1<apaOutput.indexOf("TTOT RED/RED TRADE FINDER")){n4tLegalData=apaOutput;_o1QGXS();tradeableTripsAreBeingRequested=!1;return}if(-1<apaOutput.indexOf("SORRY ")){h=$(".ui-jqgrid-title").html();b=h.indexOf("<span");h=h.substring(0,b).trim();h=h.replace("Tradeable trips for ","");$("#list").setCaption(h+" <span style='color:red'>No legal trips found. Showing illegal tradeable trips.</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});
n4tLegalData=apaOutput;_o1QGXS();tradeableTripsAreBeingRequested=!1;return}}$("#list").setCaption(h+" <span style='color:red'>Unknown error.</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});command="IG";_NIfTxt(DIRECTION_NONE);alertify.error("Unable to download tradeable trips.<br />Please try again.");tradeableTripsAreBeingRequested=!1;return}if(a==DIRECTION_SCHEDULE){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){if(-1<
apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;alertify.error("SECURITY RESTRICTION");return}apaOutput="";reset(DIRECTION_SCHEDULE);return}if("HI1"==command&&-1<apaOutput.indexOf("MONTH ENDING")&&-1<apaOutput.indexOf(dbGet("empNum"))){command="HI2";_NIfTxt(DIRECTION_SCHEDULE);return}if("HI2"==command&&-1<apaOutput.indexOf("MONTH ENDING")&&-1<apaOutput.indexOf(dbGet("empNum"))){command="HI10";_NIfTxt(DIRECTION_SCHEDULE);
return}if("HI10"==command&&(-1<apaOutput.indexOf("PLN CLR EQP POS SC REASON")||-1<apaOutput.indexOf("NO ENTRIES"))&&-1<apaOutput.indexOf(dbGet("empNum"))){command="HISEQ";_NIfTxt(DIRECTION_SCHEDULE);return}if("HISEQ"==command&&-1<apaOutput.indexOf("PILOT TRIP TRADE WITH OPEN TIME STATUS")&&-1<apaOutput.indexOf(dbGet("empNum"))){_YkoskJ(dbGet("hi1"),dbGet("hi2"));return}command="IG";_NIfTxt(DIRECTION_NONE);$("#updateHiseqId").show();alertify.error("Unable to download your schedule.  Please try again.");
return}if("HT"==command||-1<command.indexOf("HTT/"))h=dbGet(activeTrade),null!=h&&(h.recap="",dbSet(activeTrade,h)),h=dbGet(activeDrop),null!=h&&(h.recap="",dbSet(activeDrop,h));(a==DIRECTION_TRADE||a==DIRECTION_PICKUP)&&-1<apaOutput.indexOf(" RECAP ")&&(h=dbGet(activeTrade),b=apaOutput.indexOf("NOW ENTER"),h.recap=apaOutput.substring(0,b),dbSet(activeTrade,h),h=null);a==DIRECTION_DROP&&-1<apaOutput.indexOf(" RECAP ")&&(h=dbGet(activeDrop),b=apaOutput.indexOf("NOW ENTER"),h.recap=apaOutput.substring(0,
b),dbSet(activeDrop,h),h=null);if(a==DIRECTION_TRADE){$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");$("#seqPopupInputWindowId").val("");if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");return}apaOutput="";$("#seqPopupDecsDataId").html("<pre>resetting...</pre>");$("#seqPopupInputWindowId").val("");
reset(DIRECTION_TRADE);return}if("HT"==command||-1<command.indexOf("HTT/")){$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");$("#seqPopupInputWindowId").val("");if(-1<apaOutput.indexOf("ALREADY IN TT MODE")){apaOutput="";reset(DIRECTION_TRADE);return}-1<apaOutput.indexOf("WELCOME TO TRIP TRADE WITH OPEN TIME")?(f=dbGet(activeTrade),f=f.one.seqNumberDate1,f=f.replace("CA/",""),f=f.replace("RC/",""),f=f.replace("FO/",""),f=f.replace("FB/",""),f=f.replace("FC/",""),command="HTS/A/"+f,_NIfTxt(DIRECTION_TRADE),
f=null):(_Ph1Hai(),command="IG",_NIfTxt(DIRECTION_NONE),_IXtSJ1());return}if(-1<command.indexOf("HTS/A")||-1<command.indexOf("HTS/B")){if(-1<apaOutput.indexOf("PLANNED ABSENCE CONFLICT")){_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("NOT ALLOWED-RESERVE")){_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("INVALID SEQUENCE/DATE - PLS TRY AGAIN")){if(-1<command.indexOf("HTS/B")){f=dbGet(activeTrade);command="IG";f=f.id;
27>f.length?(f=$("#inPlayCommandId_"+f).html(),hssCommandToDetermineOwner="HSS/"+f,_NIfTxt(DIRECTION_DETERMINE_OWNER)):(_Ph1Hai(),setTimeout(function(){command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1()},300));return}if(-1<command.indexOf("HTS/A")){_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}alertify.error(command+"<br />"+apaOutput);_Ph1Hai();dbSet(activeTrade,f);command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("OK-MAKE NEXT ENTRY OR HZ")){if(-1<command.indexOf("HTS/A")){f=
dbGet(activeTrade);f=f.two.seqNumberDate1;f=f.replace("CA/","");f=f.replace("RC/","");f=f.replace("FO/","");f=f.replace("FB/","");f=f.replace("FC/","");command="HTS/B/"+f;_NIfTxt(DIRECTION_TRADE);f=null;return}if(-1<command.indexOf("HTS/B")){f=dbGet(activeTrade);if(""==f.htmdCommand){f="<a href='#' class='postLink' id='htmdTradeChoiceYesId' >ENTER THE HTMD COMMAND</a>\n<a href='#' class='postLink' id='htmdTradeChoiceNoId' >DO NOT ENTER THE HTMD COMMAND</a>";$("#seqPopupDecsDataId").html("<pre>"+apaOutput+
f+"</pre>");$("#seqPopupInputWindowId").val("");$("#htmdTradeChoiceYesId").unbind().click(function(){command="HTMD";_NIfTxt(DIRECTION_TRADE)});$("#htmdTradeChoiceNoId").unbind().click(function(){var a=dbGet(activeTrade);0<a.recap.length&&(apaOutput=a.recap);a="<pre>"+apaOutput+"</pre><a href='#' class='postLink' id='finalizeTrade1Id' >FINALIZE</a>\n<a href='#' class='postLink' id='cancelTrade1Id' >CANCEL</a>";$("#seqPopupDecsDataId").html("<pre>"+a+"</pre>");$("#seqPopupInputWindowId").val("");$("#finalizeTrade1Id").unbind().click(function(){command=
"HZ";_NIfTxt(DIRECTION_TRADE)});$("#cancelTrade1Id").unbind().click(function(){command="IG";_NIfTxt(DIRECTION_TRADE);_IXtSJ1()})});return}if("HTMD+"==f.htmdCommand){command="HTMD";_NIfTxt(DIRECTION_TRADE);return}if("HTMD-"==f.htmdCommand){f=dbGet(activeTrade);0<f.recap.length&&(apaOutput=f.recap);f="<pre>"+apaOutput+"</pre><a href='#' class='postLink' id='finalizeTrade1Id' >FINALIZE</a>\n<a href='#' class='postLink' id='cancelTrade1Id' >CANCEL</a>";$("#seqPopupDecsDataId").html("<pre>"+f+"</pre>");
$("#seqPopupInputWindowId").val("");$("#finalizeTrade1Id").unbind().click(function(){command="HZ";_NIfTxt(DIRECTION_TRADE)});$("#cancelTrade1Id").unbind().click(function(){command="IG";_NIfTxt(DIRECTION_TRADE);_IXtSJ1()});return}}}else{_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}}else{if(-1<command.indexOf("HTMD")){if(-1<apaOutput.indexOf("TO CHECK THE TTOT LIGHTS AND CLOSE THE TRANSACTION")){f=dbGet(activeTrade);f.direction==TRADE_CONSTANT.LIVE?(f=dbGet(activeTrade),0<f.recap.length&&
(apaOutput=f.recap),f="<pre>"+apaOutput+"</pre><a href='#' class='postLink' id='finalizeTrade1Id' >FINALIZE</a>  <span style='color:red'>WARNING: THIS TRADE IS LIVE</span>\n<a href='#' class='postLink' id='cancelTrade1Id' >CANCEL</a>",$("#seqPopupDecsDataId").html("<pre>"+f+"</pre>"),$("#seqPopupInputWindowId").val(""),$("#finalizeTrade1Id").unbind().click(function(){command="HZ";_NIfTxt(DIRECTION_TRADE)}),$("#cancelTrade1Id").unbind().click(function(){command="IG";_NIfTxt(DIRECTION_TRADE);_IXtSJ1()})):
(command="HZ",_NIfTxt(DIRECTION_TRADE));return}_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<command.indexOf("HZ")){f=dbGet(activeTrade);_IXtSJ1();if(0==_RqWR0N(apaOutput)){if(-1<apaOutput.indexOf("TTOT OFF")){f="<pre>"+apaOutput+"</pre>"+f.one.seqNumberDate1+" for "+f.two.seqNumberDate1+"<br /><a href='#' class='postLink' data-command='"+f.one.seqNumberDate1+":"+f.two.seqNumberDate1+"' id='addToAutoTradeId' >ADD TO AUTO TRADE?</a>";$("#seqPopupDecsDataId").html("<pre>"+f+
"</pre>");$("#seqPopupInputWindowId").val("");$("#addToAutoTradeId").unbind().click(function(){if("loading..."!=$("#addToAutoTradeId").html()){var a=$("#"+this.id).attr("data-command");$("#addToAutoTradeId").html("loading...");_6dxkUT(a)}});_Ph1Hai();return}if(-1<apaOutput.indexOf("PICKUP SEQUENCE MUST BE REDDER")||-1<apaOutput.indexOf("- GREEN")&&-1<apaOutput.indexOf("- RED")){f="<pre>"+apaOutput+"</pre>"+f.one.seqNumberDate1+" for "+f.two.seqNumberDate1+"<a href='#' class='postLink' data-command='"+
f.one.seqNumberDate1+":"+f.two.seqNumberDate1+"' id='addToAutoTradeId' >ADD TO AUTO TRADE or RED/REDDER</a>";$("#seqPopupDecsDataId").html("<pre>"+f+"</pre>");$("#seqPopupInputWindowId").val("");$("#addToAutoTradeId").unbind().click(function(){if("loading..."!=$("#addToAutoTradeId").html()){var a=$("#"+this.id).attr("data-command");$("#addToAutoTradeId").html("loading...");_6dxkUT(a)}});_Ph1Hai();return}}f.hzOutputForLogging=apaOutput;if(f.direction==TRADE_CONSTANT.TEST)-1<apaOutput.indexOf("TEST MODE / TRIP TRADED OK / ENTIRE TRANSACTION IGNORED")?
(f.tradeable=!0,dbSet(activeTrade,f)):_Ph1Hai();else if(0==_RqWR0N(apaOutput)){for(g in masterSaveObject)if(-1<g.indexOf("HSS/")&&-1<g.indexOf(f.one.seqNumberDate1)){c=masterSaveObject[g];command=c[1];break}dbSet(activeTrade,f);_NIfTxt(DIRECTION_HSS_AFTER_FIRST_TRADE_HSS)}else _Ph1Hai();return}if(-1<apaOutput.indexOf("ALREADY IN TT MODE")){alertify.error("Reset error.  Restart the app and try again.");apaOutput="";return}}}if(a==DIRECTION_PICKUP){$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");
$("#seqPopupInputWindowId").val("");if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");return}apaOutput="";$("#seqPopupInputWindowId").val("");reset(DIRECTION_PICKUP);return}if("HT"==command||-1<command.indexOf("HTT/")){$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");$("#seqPopupInputWindowId").val("");
if(-1<apaOutput.indexOf("ALREADY IN TT MODE")){apaOutput="";reset(DIRECTION_PICKUP);return}-1<apaOutput.indexOf("WELCOME TO TRIP TRADE WITH OPEN TIME")?(f=dbGet(activeTrade),f=f.two.seqNumberDate1,command="HTO/B/"+f,_NIfTxt(DIRECTION_PICKUP),f=null):(_Ph1Hai(),command="IG",_NIfTxt(DIRECTION_NONE),_IXtSJ1());return}if(-1<command.indexOf("HTO/B")){if(-1<apaOutput.indexOf("PLANNED ABSENCE CONFLICT")){_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("NOT ALLOWED-RESERVE")){_Ph1Hai();
command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("INVALID SEQUENCE/DATE - PLS TRY AGAIN")){if(-1<command.indexOf("HTO/B")){f=dbGet(activeTrade);command="IG";f=f.id;27>f.length?(f=$("#inPlayCommandId_"+f).html(),hssCommandToDetermineOwner="HSS/"+f,_NIfTxt(DIRECTION_DETERMINE_OWNER)):(_Ph1Hai(),setTimeout(function(){command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1()},300));return}alertify.error(command+"<br />"+apaOutput);_Ph1Hai();dbSet(activeTrade,f);command="IG";_NIfTxt(DIRECTION_NONE);
_IXtSJ1();return}if(-1<apaOutput.indexOf("*  RECAP  *")||-1<apaOutput.indexOf("OK-MAKE NEXT ENTRY OR HZ")){if(-1<command.indexOf("HTO/B")){f=dbGet(activeTrade);if(""==f.htmdCommand){f="\n<a href='#' class='postLink' id='htmdTradeChoiceYesId' >ENTER THE HTMD COMMAND</a>\n<a href='#' class='postLink' id='htmdTradeChoiceNoId' >DO NOT ENTER THE HTMD COMMAND</a>";$("#seqPopupDecsDataId").html("<pre>"+apaOutput+f+"</pre>");$("#seqPopupInputWindowId").val("");$("#htmdTradeChoiceYesId").unbind().click(function(){command=
"HTMD";_NIfTxt(DIRECTION_PICKUP)});$("#htmdTradeChoiceNoId").unbind().click(function(){var a=dbGet(activeTrade);a.direction==TRADE_CONSTANT.TEST?(command="HZ",_NIfTxt(DIRECTION_PICKUP)):(a=dbGet(activeTrade),0<a.recap.length&&(apaOutput=a.recap),a="<pre>"+apaOutput+"</pre><a href='#' class='postLink' id='finalizeTrade1Id' >FINALIZE</a>\n<a href='#' class='postLink' id='cancelTrade1Id' >CANCEL</a>",$("#seqPopupDecsDataId").html("<pre>"+a+"</pre>"),$("#seqPopupInputWindowId").val(""),$("#finalizeTrade1Id").unbind().click(function(){command=
"HZ";_NIfTxt(DIRECTION_PICKUP)}),$("#cancelTrade1Id").unbind().click(function(){command="IG";_NIfTxt(DIRECTION_PICKUP);_IXtSJ1()}))});return}if("HTMD+"==f.htmdCommand){command="HTMD";_NIfTxt(DIRECTION_PICKUP);return}if("HTMD-"==f.htmdCommand){f=dbGet(activeTrade);f.direction==TRADE_CONSTANT.LIVE?(f=dbGet(activeTrade),0<f.recap.length&&(apaOutput=f.recap),f="<pre>"+apaOutput+"</pre><a href='#' class='postLink' id='finalizeTrade1Id' >FINALIZE</a>  <span style='color:red'>WARNING: THIS PICKUP IS LIVE</span>\n<a href='#' class='postLink' id='cancelTrade1Id' >CANCEL</a>",
$("#seqPopupDecsDataId").html("<pre>"+f+"</pre>"),$("#seqPopupInputWindowId").val(""),$("#finalizeTrade1Id").unbind().click(function(){command="HZ";_NIfTxt(DIRECTION_PICKUP)}),$("#cancelTrade1Id").unbind().click(function(){command="IG";_NIfTxt(DIRECTION_PICKUP);_IXtSJ1()})):(command="HZ",_NIfTxt(DIRECTION_PICKUP));return}}}else{_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}}else{if(-1<command.indexOf("HTMD")){if(-1<apaOutput.indexOf("TO CHECK THE TTOT LIGHTS AND CLOSE THE TRANSACTION")){f=
dbGet(activeTrade);f.direction==TRADE_CONSTANT.LIVE?(0<f.recap.length&&(apaOutput=f.recap),f="<pre>"+apaOutput+"</pre><a href='#' class='postLink' id='finalizeTrade1Id' >FINALIZE</a>  <span style='color:red'>WARNING: THIS TRADE IS LIVE</span>\n<a href='#' class='postLink' id='cancelTrade1Id' >CANCEL</a>",$("#seqPopupDecsDataId").html("<pre>"+f+"</pre>"),$("#seqPopupInputWindowId").val(""),$("#finalizeTrade1Id").unbind().click(function(){command="HZ";_NIfTxt(DIRECTION_PICKUP)}),$("#cancelTrade1Id").unbind().click(function(){command=
"IG";_NIfTxt(DIRECTION_PICKUP);_IXtSJ1()})):(command="HZ",_NIfTxt(DIRECTION_PICKUP));return}_Ph1Hai();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<command.indexOf("HZ")){f=dbGet(activeTrade);f.hzOutputForLogging=apaOutput;_IXtSJ1();f.direction==TRADE_CONSTANT.TEST?-1<apaOutput.indexOf("TEST MODE / TRIP TRADED OK / ENTIRE TRANSACTION IGNORED")?(_Ph1Hai(),f.tradeable=!0,dbSet(activeTrade,f)):_Ph1Hai():0==_RqWR0N(apaOutput)?-1<apaOutput.indexOf("TTOT OFF")&&(f="<pre>"+apaOutput+"</pre><a href='#' class='postLink' data-command='none:"+
f.two.seqNumberDate1+"' id='addToAutoTradeId' >ADD TO AUTO TRADE</a>",$("#seqPopupDecsDataId").html("<pre>"+f+"</pre>"),$("#seqPopupInputWindowId").val(""),$("#addToAutoTradeId").unbind().click(function(){if("loading..."!=$("#addToAutoTradeId").html()){var a=$("#"+this.id).attr("data-command");$("#addToAutoTradeId").html("loading...");_6dxkUT(a)}}),_Ph1Hai()):_Ph1Hai();return}if(-1<apaOutput.indexOf("ALREADY IN TT MODE")){alertify.error("Reset error.  Restart the app and try again.");apaOutput="";
return}}}if(a==DIRECTION_DROP){$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");$("#seqPopupInputWindowId").val("");if(-1<apaOutput.indexOf("SECURITY RESTRICTION")){if(-1<apaOutput.indexOf("SECURITY RESTRICTION")&&(securityRestrictionAttempts++,1<securityRestrictionAttempts)){securityRestrictionAttempts=0;$("#seqPopupDecsDataId").html("<pre>"+apaOutput+"</pre>");return}$("#seqPopupDecsDataId").html("<pre>DECS is resetting...</pre>");$("#seqPopupInputWindowId").val("");apaOutput="";reset(DIRECTION_DROP);
return}if("HT"==command||-1<command.indexOf("HTT/")){if(-1<apaOutput.indexOf("ALREADY IN TT MODE")){apaOutput="";reset(a);return}-1<apaOutput.indexOf("WELCOME TO PILOT-TO-PILOT TRIP TRADE")||-1<apaOutput.indexOf("WELCOME TO TRIP TRADE WITH OPEN TIME")?(f=dbGet(activeDrop),command="HTO/A/"+f.one.seqNumberDate1+"/"+f.dropType,_NIfTxt(DIRECTION_DROP),f=null):(_HLNIkl(),command="IG",_NIfTxt(DIRECTION_NONE),_IXtSJ1());return}if(-1<command.indexOf("HTO/A")){if(-1<apaOutput.indexOf("PLANNED ABSENCE CONFLICT")){_HLNIkl();
command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("NOT ALLOWED-RESERVE")){_HLNIkl();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("INVALID SEQUENCE/DATE - PLS TRY AGAIN")){_HLNIkl();command="IG";_NIfTxt(DIRECTION_NONE);_IXtSJ1();return}if(-1<apaOutput.indexOf("OK-MAKE NEXT ENTRY OR HZ")||-1<apaOutput.indexOf("OK-ENTER HZ TO CHECK TTOT TRAFFIC LIGHTS")){f=dbGet(activeDrop);f.direction==DROP_CONSTANT.TEST?(command="HZ",_NIfTxt(DIRECTION_DROP)):
(0<f.recap.length&&(apaOutput=f.recap),f="<pre>"+apaOutput+"</pre><a href='#' class='postLink' id='finalizeTrade1Id' >FINALIZE</a>\n<a href='#' class='postLink' id='cancelTrade1Id' >CANCEL</a>",$("#seqPopupDecsDataId").html("<pre>"+f+"</pre>"),$("#seqPopupInputWindowId").val(""),$("#finalizeTrade1Id").unbind().click(function(){command="HZ";_NIfTxt(DIRECTION_DROP)}),$("#cancelTrade1Id").unbind().click(function(){command="IG";_NIfTxt(DIRECTION_DROP);_IXtSJ1()}));return}_HLNIkl();command="IG";_NIfTxt(DIRECTION_NONE);
_IXtSJ1();return}if(-1<command.indexOf("HZ")){_IXtSJ1();f=dbGet(activeDrop);f.hzOutputForLogging=apaOutput;if(-1<apaOutput.indexOf("TEST MODE / TRIP TRADED OK / ENTIRE TRANSACTION IGNORED")){f.tradeable=!0;dbSet(activeDrop,f);return}if(0==_RqWR0N(apaOutput)){if(-1<apaOutput.indexOf("TTOT OFF")){_3JAoPi(f,apaOutput);return}for(g in masterSaveObject)if(-1<g.indexOf("HSS/")&&(b=masterSaveObject[g],-1<b[1].indexOf(f.dropSequence))){command=b[1];break}f.direction==DROP_CONSTANT.LIVE&&_NIfTxt(DIRECTION_HSS_AFTER_DROP)}else"OPEN"==
f.two.empNum&&_3JAoPi(f,apaOutput),_HLNIkl();return}if(-1<apaOutput.indexOf("ALREADY IN TT MODE")){alertify.error("Reset error.  Restart the app and try again.");apaOutput="";return}}}302==d.status&&(apaOutput="not logged in",loggedIn=!1)},error:function(a,b,c){userAborted?userAborted=!1:alertify.error("Error.  Check your connection.");_23w0KA()},complete:function(a,b){_ZHmq6z(HIDE)}});universalRequestsArray.push(universalPostRequest_get_Command)}}
function _W2WJ2Y(a){command=command.toUpperCase();var b="https://tasc.alliedpilots.org/sabre/Decs.aspx?LINK=FALSE&FOSLINE=";0==APA_LIVE&&(b="https://www.aapocket.com/market/testGetDecsOutput.php?t=ghtjlwryrohsogbeo&FOSLINE=");b+=command;gettingOutput=!0;_ZHmq6z(SHOW);universalPostRequest_getRaw_Command=$.ajax({type:"GET",url:b,success:function(b,d,e){gettingOutput=!1;if(200==e.status){if(-1<b.indexOf("SABRE LOGIN")){$("#content5").html("resetting connection to DECS...");apaOutput="";_23w0KA();reset(a);
return}apaOutput=b;maxResets=0;_KEt5jN(b)}302==e.status&&(apaOutput="not logged in",loggedIn=!1)},error:function(a,b,e){userAborted?userAborted=!1:alertify.error("Error.  Check your connection.");_23w0KA()},complete:function(a,b){_ZHmq6z(HIDE)}});universalRequestsArray.push(universalPostRequest_getRaw_Command)}function _KEt5jN(a){-1<command.indexOf("HISEQ")&&-1<a.indexOf("PILOT TRIP TRADE WITH OPEN TIME STATUS")&&-1<a.indexOf(empNum)&&(dbSet("HISEQ",a),_oLIGyv(a))}
function _Ph1Hai(){var a=dbGet(activeTrade);a.tradeable=!1;a.failReason=apaOutput;dbSet(activeTrade,a)}function _HLNIkl(){var a=dbGet(activeDrop);a.tradeable=!1;a.failReason=apaOutput;dbSet(activeDrop,a)}
function _JyuoHh(a){0==APA_LIVE?_Ig5FI3(a):(loggedIn=!1,"undefined"!=typeof viewState&&0!=viewState.length&&(a={__LASTFOCUS:"",__EVENTTARGET:"ctl00$cph_footerLeft$SabreDefaultFooter$LogOutLinkButton",__EVENTARGUMENT:"",__VIEWSTATE:viewState,__VIEWSTATEGENERATOR:viewStateGenerator,__EVENTVALIDATION:eventValidation,ctl00$cph_hdrLeft$DecsTextBox:""},_ZHmq6z(SHOW),universalPostRequest_Disconnect=$.ajax({type:"POST",url:"https://tasc.alliedpilots.org/Sabre/Decs.aspx",data:a,success:function(a,c,d){gettingOutput=
!1;200==d.status&&(logoutApaWhenDisconnecting?_IyV3t5():($("#generalDecsWindowDecsDataId").html("Reset complete.<br />Try your request again."),$("#generalDecsWindowInputWindowId").val(""),$("#seqPopupDecsDataId").html("Reset complete.<br />Try your request again."),$("#seqPopupInputWindowId").val("")))},error:function(a,c,d){userAborted?userAborted=!1:alertify.error("Error.  Check your connection.");_23w0KA()},complete:function(a,c){setTimeout(function(){logoutApaWhenDisconnecting=!1},1E3);_ZHmq6z(HIDE)}}),
universalRequestsArray.push(universalPostRequest_Disconnect)))}
function _XeYuoQ(){weAreTestingOrTradingNow=!1;logoutApaWhenDisconnecting?$("#seqPopupId").hide():$("#seqPopupId").show("fast",function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})});0!=APA_LIVE&&(_ZHmq6z(SHOW),$("#generalDecsWindowDecsDataId").html("resetting..."),$("#generalDecsWindowInputWindowId").val(""),$("#seqPopupDecsDataId").html("resetting..."),$("#seqPopupInputWindowId").val(""),universalPostRequest_disconnct_Prep=$.ajax({type:"GET",url:"https://tasc.alliedpilots.org/Sabre/Decs.aspx",
success:function(a,b,c){200==c.status?(viewState=_F0c7G4(a),viewStateGenerator=_eNErVp(a),eventValidation=_TeEJml(a),0==viewState.length?($("#generalDecsWindowDecsDataId").html("Unable to reset.  Error "+c.status),$("#generalDecsWindowInputWindowId").val(""),$("#seqPopupDecsDataId").html("Unable to reset.  Error "+c.status),$("#seqPopupInputWindowId").val("")):_JyuoHh("")):($("#generalDecsWindowDecsDataId").html("Unable to reset.  Error "+c.status),$("#generalDecsWindowInputWindowId").val(""),$("#seqPopupDecsDataId").html("Unable to reset.  Error "+
c.status),$("#seqPopupInputWindowId").val(""))},error:function(a,b,c){userAborted&&(userAborted=!1);$("#generalDecsWindowDecsDataId").html(c);$("#generalDecsWindowInputWindowId").val("");$("#seqPopupDecsDataId").html(c);$("#seqPopupInputWindowId").val("")},complete:function(a,b){_ZHmq6z(HIDE)}}),universalRequestsArray.push(universalPostRequest_disconnct_Prep))}
function _IyV3t5(){0!=APA_LIVE&&(_ZHmq6z(SHOW),$("#generalDecsWindowDecsDataId").html("resetting..."),$("#generalDecsWindowInputWindowId").val(""),$("#seqPopupDecsDataId").html("resetting..."),$("#seqPopupInputWindowId").val(""),universalPostRequest_logout_Apa=$.ajax({type:"GET",url:"https://www.alliedpilots.org/MemberHome/ctl/Logoff",success:function(a,b,c){200==c.status?($("#generalDecsWindowDecsDataId").html("Reset complete.<br />Try your request again."),$("#generalDecsWindowInputWindowId").val(""),
$("#seqPopupDecsDataId").html("Reset complete.<br />Try your request again.")):($("#generalDecsWindowDecsDataId").html("Unable to reset.  Error "+c.status),$("#generalDecsWindowInputWindowId").val(""),$("#seqPopupDecsDataId").html("Unable to reset.  Error "+c.status));$("#seqPopupInputWindowId").val("")},error:function(a,b,c){userAborted&&(userAborted=!1);$("#generalDecsWindowDecsDataId").html(c);$("#generalDecsWindowInputWindowId").val("");$("#seqPopupDecsDataId").html(c);$("#seqPopupInputWindowId").val("")},
complete:function(a,b){_ZHmq6z(HIDE)}}),universalRequestsArray.push(universalPostRequest_logout_Apa))}
function reset(a){$("#seqPopupDecsDataId").html("<pre>Attempting to reset...</pre>");$("#seqPopupInputWindowId").val("");if(0==APA_LIVE)_Ig5FI3(a);else{loggedIn=!1;resetting=!0;var b={__EVENTTARGET:"ctl00$cph_footerRt$LogOutLinkButton",__EVENTARGUMENT:"",__VIEWSTATE:viewState,__VIEWSTATEGENERATOR:viewStateGenerator,__EVENTVALIDATION:eventValidation,ctl00$cph_main$DecsUserIdTextBox:empNum,ctl00$cph_main$DecsPwdTextBox:decsPassword};_ZHmq6z(SHOW);universalPostRequest_Reset=$.ajax({type:"POST",url:"https://tasc.alliedpilots.org/Sabre/SabreLogin.aspx",
data:b,success:function(b,d,e){200==e.status&&_StTIkc(a)},error:function(b,d,e){if(userAborted)userAborted=!1;else{if(500==b.status){if(2<retries)alertify.alert("Server Error.  Restart the app.  If the problem persists, you must wait about 10 minutes, or uninstall the app from Google Chrome and install it again.<p>This is a known issue, and we are working on a solution.</p>"),_23w0KA(),_IXtSJ1(),retries=0;else{for(b=0;b<universalRequestsArray.length;b++)null!=universalRequestsArray[b]&&universalRequestsArray[b].abort();
_23w0KA();_IXtSJ1();retries++;_dQ4u8Z(a)}return}alertify.error("Error.  Check your connection.")}_23w0KA();_IXtSJ1()},complete:function(a,b){_ZHmq6z(HIDE)}});universalRequestsArray.push(universalPostRequest_Reset)}}
function _F0c7G4(a){a=a.split("/>");if(null!=a){for(var b=a.length,c=0,d,e=0;e<b;e++)d=a[e].indexOf("VIEWSTATE"),-1<d&&-1==a[e].indexOf("VIEWSTATEGENERATOR")&&(c=e);b=a[c].indexOf('value="');if(-1<b)return a=a[c].substring(b),a=a.replace('value="',""),a=a.replace('"',""),a=a.trim()}return""}
function _eNErVp(a){a=a.split("/>");if(null!=a){for(var b=a.length,c=0,d,e=0;e<b;e++)d=a[e].indexOf("VIEWSTATEGENERATOR"),-1<d&&(c=e);b=a[c].indexOf('value="');if(-1<b)return a=a[c].substring(b),a=a.replace('value="',""),a=a.replace('"',""),a=a.trim()}return""}
function _TeEJml(a){a=a.split("/>");if(null!=a){for(var b=a.length,c=0,d,e=0;e<b;e++)d=a[e].indexOf("EVENTVALIDATION"),-1<d&&(c=e);b=a[c].indexOf('value="');if(-1<b)return a=a[c].substring(b),a=a.replace('value="',""),a=a.replace('"',""),a=a.trim()}return""}function _hGARuR(){var a=/\/\*HERE\n[\s\S]*?\nHERE\*\//m.exec(MyHereDoc.toString());a=a.replace(/\/\*HERE\n/m,"").toString();return a.replace(/\nHERE\*\//m,"").toString()}
var BUILD="2.3.9",dbMaxLoopCounter=0,getWaiter,variable="",getCounter=0,masterSaveObject={};
function _ZjmShX(){if(appType==CHROMEAPP)chrome.storage.local.get(null,function(a){masterSaveObject=a;a=chrome.app.window.current();var b=masterSaveObject.posTop,d=masterSaveObject.posLeft,e=masterSaveObject.width,g=masterSaveObject.height;"number"==typeof d&&"number"==typeof b&&"number"==typeof e&&"number"==typeof g&&(window.resizeTo(e,g+22),a.outerBounds.top=b,a.outerBounds.left=d,g=e=d=b=null,setTimeout(function(){_hKaKhA()},300));a.onBoundsChanged.addListener(function(){var a=chrome.app.window.current();
dbSet("posTop",a.outerBounds.top);dbSet("posLeft",a.outerBounds.left)});a=dbGet("userName");5<a.length&&($("#asteriskUserId").show(),$("#userNamePlaceId").html(a+"**"),$("#userNamePlaceId").show(),$("#userNameId").hide());a=dbGet("login");"undefined"!=typeof a&&10<a.length&&(username=dbGet("userName"),userPassword=dbGet("pass"),empNum=dbGet("empNum"),apaPassword=dbGet("apaPassword"),decsPassword=dbGet("decsPassword"),_XDrEzV(),_ZKNbFo())});else{var a=localStorage.getItem("masterSaveObject");"null"!=
a&&(masterSaveObject=JSON.parse(a))}_XDrEzV();a=dbGet("userName");5<a.length&&($("#userNamePlaceId").html(a+"**"),$("#userNamePlaceId").show(),$("#userNameId").hide(),$("#asteriskUserId").show())}
function dbSet(a,b){"login"==a&&""==b?appType==CHROMEAPP?chrome.storage.local.clear(function(){if(masterSaveObject.posTop&&masterSaveObject.posLeft&&masterSaveObject.width&&masterSaveObject.height){var a=masterSaveObject.posTop,b=masterSaveObject.posLeft,e=masterSaveObject.width,g=masterSaveObject.height,h=masterSaveObject.userName,k=masterSaveObject.flightScheduleBases;masterSaveObject=null;masterSaveObject={};masterSaveObject.posTop=a;masterSaveObject.posLeft=b;masterSaveObject.width=e;masterSaveObject.height=
g;masterSaveObject.userName=h;masterSaveObject.flightScheduleBases=k;chrome.storage.local.set(masterSaveObject)}else masterSaveObject=null}):localStorage.setItem("masterSaveObject",""):(null==masterSaveObject&&(masterSaveObject={}),masterSaveObject[a]=b,appType==CHROMEAPP?chrome.storage.local.set(masterSaveObject):localStorage.setItem("masterSaveObject",JSON.stringify(masterSaveObject)))}function dbGet(a){a=masterSaveObject[a];return"undefined"==typeof a?"":a}
function _S0UY4y(){for(var a in masterSaveObject)a.match(/^[0-9]{1,5}\/[0-9]{2}(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC){1}$/g)?_m9g9nz(a):(-1<a.indexOf("HSS/")&&_m9g9nz(a),a.match(/^(CA|RC|FO|FB|FC){1}\/[0-9]{1,5}\/[0-9]{2}(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC){1}$/g)&&_m9g9nz(a))}function _m9g9nz(a){delete masterSaveObject[a];appType==CHROMEAPP?chrome.storage.local.set(masterSaveObject):localStorage.setItem("masterSaveObject",JSON.stringify(masterSaveObject))}
var dfpPositionsMap=[],currentDfpActionObject=null;function _dI5mug(a){return"31JAN"==a||"01MAR"==a?"FEB":"01MAY"==a?"APR":"01JUN"==a?"MAY":"01JUL"==a?"JUN":"31AUG"==a?"SEP":"01DEC"==a?"NOV":a.substring(2,5)}function _J2gamy(a,b){var c=_dI5mug(a),d=_dI5mug(b);return c===d?!0:!1}
function _1LaIe8(a,b,c,d,e){-1<b.id.indexOf("dfp")&&($("#dfpTrashDropAreaId").offset(),$("#dfpTrashDropAreaId").offset(),$("#dfpTrashDropAreaId").height(),$("#dfpTrashDropAreaId").offset(),$("#dfpTrashDropAreaId").offset(),$("#dfpTrashDropAreaId").width())}
function _gw81L2(a,b,c,d){$.each(dfpPositionsMap,function(e,g){g.originatingDate==a&&(null!=c&&(g.action=c),null!=d&&(g.status=d),null!=b&&("move"==c?a==b?(g.destinationDate="",g.action="",g.status=""):g.destinationDate=b:g.destinationDate=b),dfpPositionsMap[e]=g)})}
function _oyzLwd(a,b,c){if("drop"==b){var d=a.id.split("_");d=d[2];d=d.split("-");1==d[2].length&&(d[2]="0"+d[2]);d=d[2]+_DUd63T(d[1]);_gw81L2(d,null,"drop",null)}if("move"==b){a.end._d.getTime();d=a.id.split("_");d=d[2];d=d.split("-");1==d[2].length&&(d[2]="0"+d[2]);d=d[2]+_DUd63T(d[1]);b=a.end._d.getDate();10>b&&(b="0"+b);if(!_J2gamy(d,b+_DUd63T(a.end._d.getMonth()+1))){c();alertify.alert("Illegal move.  You can't move a DFP to a different contractual month.");return}var e=b+_DUd63T(a.end._d.getMonth()+
1),g=!1;$.each(dfpPositionsMap,function(a,b){b.originatingDate==e&&(g=!0)});var h=!1;$.each(dfpPositionsMap,function(a,b){b.destinationDate==e&&(h=!0)});h?(c(),alertify.alert("You are already trying to move a DFP to this date. Please check your work.")):g?d!=e?(c(),alertify.alert("There is already a DFP on this date.  You cannot move a DFP here")):_gw81L2(d,e,"move",null):_gw81L2(d,e,"move",null)}setTimeout(function(){var a=!1;$.each(dfpPositionsMap,function(b,c){if(0<c.destinationDate.length||0<
c.action.length)a=!0});a?($("#dfpSendChangesButtonId").show(),$("#dfpResetButtonId").show(),$("#dfpResetButtonId").html("Cancel"),$("#dfpSendChangesButtonId").unbind().click(function(){$("#dfpSendChangesButtonId").html("..loading, stand by.");_0dSzoF()}),$("#dfpResetButtonId").unbind().click(function(){"Cancel"==$("#dfpResetButtonId").html()&&($("#dfpResetButtonId").html("canceling...stand by."),_kv1Ewk())})):($("#dfpSendChangesButtonId").hide(),$("#dfpResetButtonId").hide())},200)}
function _BQl63W(){var a=!1;$.each(dfpPositionsMap,function(b,c){(0<c.destinationDate.length||0<c.action.length)&&0==c.status.length&&(a=!0)});return a}function _bCN9dz(){currentDfpActionObject=null;_ZHmq6z(SHOW);$.each(dfpPositionsMap,function(a,b){if((0<b.destinationDate.length||0<b.action.length)&&0==b.status.length)return _IXtSJ1(),command="HIDFP*/"+_dI5mug(b.originatingDate),currentDfpActionObject=b,$("#updateHiseqId").hide(),_7BotAy(DIRECTION_MOVE_DFP,0),!1});_ZHmq6z(HIDE)}
function _wTBMcf(){return"JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" ")[$("#calendar").fullCalendar("getDate")._d.getMonth()]}function _K9SIye(){var a=_wTBMcf();alertify.confirm("Drop all DFPs for the month of "+a+"?",function(b){b&&(3==a.length?(_IXtSJ1(),command="HIDFP/"+a+"/R",_7BotAy(DIRECTION_DROP_ALL_DFPS,0)):alertify.error("Error.  Contact Support"))})}
function _0dSzoF(){var a="";$.each(dfpPositionsMap,function(b,c){"drop"==c.action&&(a+="DROP 24 on "+c.originatingDate+"<br />");"move"==c.action&&(a+="MOVE 24 on "+c.originatingDate+" to "+c.destinationDate+"<br />")});alertify.confirm("You are about to:<br />"+a+"Proceed?",function(a){a?_bCN9dz():$("#dfpSendChangesButtonId").html("Submit to DECS")})}
function login(){$("#loginWaitImageId").show();$("#loginButtonId").hide();var a="";$("#userNamePlaceId").is(":visible")?(a=$("#userNamePlaceId").html(),a=a.replace("**",""),$("#asteriskUserId").show()):(a=$("#userNameId").val(),$("#asteriskUserId").hide());var b=$("#passId").val(),c=$("#empNum").val();universalPostRequest_liteSabreMobileLoginFunctionForReserve_App=$.post(targetUrl+"/reserve/liteSabreMobileLoginFunctionForReserveApp.php?nocache="+(new Date).getTime(),{emp:a,remember:"on",pass:b,empNum:c,
phonegap:"t"},function(a){$("#loginWaitImageId").hide();$("#loginButtonId").show();-1<a.indexOf("success:::")?(a=a.split(":::"),dbSet("login",encodeURIComponent(a[1])),$("#userNamePlaceId").is(":visible")?(username=$("#userNamePlaceId").html().replace("**",""),$("#asteriskUserId").show()):(username=$("#userNameId").val(),$("#asteriskUserId").hide()),dbSet("userName",username),dbSet("pass",$("#passId").val()),a=username,5<a.length&&($("#userNamePlaceId").html(a+"**"),$("#userNamePlaceId").show(),$("#userNameId").hide(),
$("#asteriskUserId").show()),userPassword=$("#passId").val(),$("#userNameId").val(""),$("#passId").val(""),$("#versionId").show(),_ZKNbFo()):"bad"===a?alertify.alert("Invalid credentials.  Please try again."):"tooMany"===a&&alertify.alert("You have exceeded the max number of login attempts.  Please contact Support.")}).error(function(){$("#loginWaitImageId").hide();$("#loginButtonId").show();alertify.alert("No Internet Connection.  Please try again later.")}).complete(function(){});universalRequestsArray.push(universalPostRequest_liteSabreMobileLoginFunctionForReserve_App)}
function _SqV5lO(){}var filteredDataArray=null,gettingFilterDataNow=!1;
function _QCQdBt(a,b,c){gettingFilterDataNow=!0;for(var d=dbGet("seqList"),e=[],g=0;g<d.length;g++){var h=new _SqV5lO;h.date=d[g].Date;h.seq=d[g].Seq;h.pos=d[g].Pos;e.push(h)}$.post(targetUrl+"/nimble/getFilter_Data.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),seqList:JSON.stringify(e),fourPart:a,startDate:b,endDate:c},function(a){try{filteredDataArray=JSON.parse(a);var b=mainGrid.jqGrid("getDataIDs");for(a=0;a<=b.length;a++){var c=b[a];if("undefined"!==typeof c)for(var d=
mainGrid.jqGrid("getRowData",c),e=0;e<=filteredDataArray.length;e++){var h=filteredDataArray[e];if("undefined"!=typeof h){var g=h.command.split("/"),k=g[2],B=_uN1A28(g[3]),v=d.Seq;h.term==d.Term&&k==v&&-1<d.Date.indexOf(B)&&(h.rowId=c,filteredDataArray[e]=h)}}}}catch(N){}}).error(function(a){}).success(function(){}).complete(function(){gettingFilterDataNow=!1})}
function _TxDUAf(){_ZHmq6z(SHOW);universalPostRequest_injectAfter_Update=$.post(targetUrl+"/nimble/injectAfterUpdate.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),apa:dbGet("apaPassword"),decs:dbGet("decsPassword")},function(a){}).error(function(a){userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_injectAfter_Update)}
function _1KdITS(a){_ZHmq6z(SHOW);universalPostRequest_getFar117_Data=$.post(targetUrl+"/nimble/getFar117Data.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),input:a},function(a){-1<a.indexOf("badData")||-1<a.indexOf("Invalid credentials.")||-1<a.indexOf("expired")||a.indexOf("noArray")}).error(function(a){userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_getFar117_Data)}var allEventsForDfpHide;
function _nSw6Hb(a){try{var b=$("#calendar").fullCalendar("getDate")._d.getMonth();_ZHmq6z(SHOW);$(".fc-today-button").trigger("click");setTimeout(function(){_hKaKhA();allEventsForDfpHide=$("#calendar").fullCalendar("clientEvents");null!=allEventsForDfpHide&&0<allEventsForDfpHide.length&&($.each(allEventsForDfpHide,function(a,b){}),$("#calendar").fullCalendar("removeEventSource",allEventsForDfpHide));var a=$("#miniCalendar").fullCalendar("clientEvents");null!=a&&0<a.length&&($.each(a,function(a,b){}),
$("#miniCalendar").fullCalendar("removeEventSource",a));if(null==d)var d=dbGet("rawCalendarInfo");if(null!=d){var e=[];dfpPositionsMap=[];$("#dfpSendChangesButtonId").html("Submit to DECS");$("#dfpSendChangesButtonId").hide();$("#dfpResetButtonId").hide();for(a=0;a<d.length;a++){var g=d[a],h=Math.floor(1E4*Math.random()+1);if("noDataWithEmpNumber"!=g.hssCommand){var k=0;if("undefined"!=typeof g.tzoffsetStart){k=_6vdK5G(g.tzoffsetStart);var f=(new Date(g.startTimeStamp)).getTimezoneOffset();k=6E4*
(k-f)}g.startTimeStamp-=k;g.endTimeStamp-=k;"DFP - 24"==g.title?(k=!0,g.startTimeStamp<(new Date).getTime()&&(k=!1),g={title:g.title,start:new Date(g.startTimeStamp),end:new Date(g.endTimeStamp),editable:k,id:"dfp_"+h+"_"+g.startDate},h=g.id.split("_"),h=h[2],h=h.split("-"),1==h[2].length&&(h[2]="0"+h[2]),h=h[2]+_DUd63T(h[1]),dfpPositionsMap.push({originatingDate:h,destinationDate:"",action:"",status:""})):g={title:g.title,start:new Date(g.startTimeStamp),end:new Date(g.endTimeStamp),editable:!1,
id:"_"+h,hssCommand:g.hssCommand};e.push(g)}}$("#dfpEditPanelId").show("fast",function(){$("#calendar").fullCalendar("addEventSource",e);var a=[],b=!0;"No"==$("#flip-No24OnMiniId").val()&&(b=!1);$.each(e,function(c,d){var e=!0;d.editable=!1;"undefined"!=typeof d.title&&(-1<d.title.indexOf("DFP")?d.title="DFP":-1<d.title.indexOf("RAP")?d.title="RAP":-1<d.title.indexOf("Jumpseat")?e=!1:-1<d.title.indexOf("Layover")&&(e=!1),-1<d.title.indexOf("DFP")&&0==b&&(e=!1),e&&a.push(d))});$("#miniCalendar").fullCalendar("addEventSource",
a)});0<$("#tabs").tabs("option","disabled").length&&(_SeNg2I(null,!0),$("#tabs").tabs("option","disabled",[]),_zR5087());_ZHmq6z(HIDE);$("#calendar").fullCalendar("getDate")._d.getMonth()<b?$(".fc-next-button").trigger("click"):$(".fc-today-button").trigger("click");_pTsz3i()}},100)}catch(c){}}
function _AaHWUs(a){_ZHmq6z(SHOW);universalPostRequest_getHss_Content=$.post(targetUrl+"/nimble/getHssContent.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),command:a},function(b){if(!(-1<b.indexOf("badData")||-1<b.indexOf("Invalid credentials.")||-1<b.indexOf("expired")||-1<b.indexOf("noArray"))&&""!=b)try{b=decodeURIComponent(b).replace(/\+/g," ");var c=JSON.parse(b),d=Math.floor(1E4*Math.random()+1);d="r"+d;b="qual"+d;var e=c.command.replace("HSS/",""),g=_27VgIe(c.command,
c.content);g=_HGoLI3(c.command,g);var h="<pre><span id='sevenPickupId' class='quickTradePickupDrag' data-command='HSS/"+e+"'>CLICK AND DRAG FOR QUICK TRADE</span><span class='clearBox'>CLEAR</span>\n(as of: "+moment.unix(c.lastRefreshTime/1E3).format("DDMMM HH:mm")+") <span id='"+d+"'data-id='"+d+"' data-command='HSS/"+e+"' class='openTimeLiveDataGet'>REFRESH</span>  <span id='"+b+"'data-id='"+b+"' data-command='HIQUAL/"+e+"' class='currentColorOfSeq'>TTOT STATUS</span>\n"+g;dbSet(e,h);$("#openTripTradeBoxDecsDataId").html(h);
_jt9FVJ();$("#googleCalConflictsLinkId").show();savedPickupDataBeforeHover=h;_5cAvYi();_FQcB7J();_QKA7SQ();return}catch(k){}_PTWYpD(a)}).error(function(b){userAborted&&(userAborted=!1);_PTWYpD(a)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_getHss_Content)}
function _kv1Ewk(){_ZHmq6z(SHOW);universalPostRequest_processRawDecsDataFor_Nimble=$.post(targetUrl+"/nimble/processRawDecsDataForNimble.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),hi1:dbGet("hi1"),hi2:dbGet("hi2"),hi10:dbGet("hi10"),hiseq:dbGet("rawHiseq")},function(a){if(-1<a.indexOf("badHi1"))alertify.error("Unable data.  Error 1.");else if(-1<a.indexOf("badHi2"))alertify.error("Unable data.  Error 2.");else try{if(""!=a){a=decodeURIComponent(a).replace(/\+/g,
" ");try{var b=JSON.parse(a),c;for(c in b){var d=b[c];"noDataWithEmpNumber"==d.comment&&-1==$.inArray(d.hssCommand,missingTripRetriesProhibitedArray)&&(missingTripRetriesProhibitedArray.push(d.hssCommand),missingHssContentCommandsArray.push(d.hssCommand))}0<missingHssContentCommandsArray.length?(command=missingHssContentCommandsArray[0],_7BotAy(DIRECTION_FILL_MISSING_TRIPS,0)):(dbSet("rawCalendarInfo",b),setTimeout(function(){_nSw6Hb(b)},500))}catch(e){}}}catch(e){}}).error(function(a){userAborted&&
(userAborted=!1);$("#myTripsContentId").show()}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_processRawDecsDataFor_Nimble)}
function _YkoskJ(a,b){subExpired?alertify.error("Subscription expired"):(_v2BRMl($("#hiSwitcherId").html()),_ZHmq6z(SHOW),universalPostRequest_processRaw_Schedule=$.post(targetUrl+"/nimble/processRawSchedule.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),hi1:a,hi2:b},function(a){if(-1<a.indexOf("badHi1"))alertify.error("Unable data.  Error 1.");else if(-1<a.indexOf("badHi2"))alertify.error("Unable data.  Error 2.");else try{if(""!=a){a=decodeURIComponent(a);a=a.replace(/\+/g,
" ");if(-1<a.indexOf(";;;;"))var b=a.split(";;;;");for(a=0;a<b.length;a++){var c=b[a].split(":");if(""!=c[0]){var g=dbGet(c[1]);"array"==typeof g&&4==g.length?c.push(g[3]):c.push(0);for(var h=dbGet("invalidSequences"),k=!1,f=0;f<h.length;f++)h[f]==c[1]&&(k=!0);k||dbSet(c[1],c)}}_WzDID5()}}catch(n){}}).error(function(a){userAborted&&(userAborted=!1);_WzDID5()}).success(function(){}).complete(function(){_ZHmq6z(HIDE);_kv1Ewk()}),universalRequestsArray.push(universalPostRequest_processRaw_Schedule))}
function _jvnrE6(a){if(subExpired)alertify.error("Subscription expired");else{var b=a.split(":");a="none";"none"!=b[0]&&(a=b[0].split("/")[1]);b=b[1].split("/")[1];universalPostRequest_determineIfTradeIsThisMonthOr_Next=$.post(targetUrl+"/determineIfTradeIsThisMonthOrNext.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),dropDate:a,pickupDate:b},function(a){"diffMonths"===a?setTimeout(function(){alertify.alert("These trips are in different contractual months.  The trade is invalid.  Please try again.",
function(){})},1E3):"bothNextMonth"===a?_UXrQfJ():"bothNotNextMonth"===a?setTimeout(function(){alertify.confirm("This trade is in the current month.  You should set a RED/REDDER trade. If you do, the trade will be reattempted every 60 minutes.<br /><br />Proceed?",function(a){a&&_oUITDs()})},500):setTimeout(function(){alertify.alert("There was a connection problem.  Please try again later. (data= "+a+")")},1E3)}).error(function(){setTimeout(function(){userAborted?userAborted=!1:alertify.alert("There was a connection problem.  Please try again later. (er: 35)")},
500)});universalRequestsArray.push(universalPostRequest_determineIfTradeIsThisMonthOr_Next)}}
function _UXrQfJ(){var a=dbGet("fourPart"),b=a[0],c=a[2];a=a[1];universalPostRequest_ttotStartTime_Getter=$.post(targetUrl+"/firstTradeSBD/ttotStartTimeGetter.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),base:b,equip:c,pos:a},function(a){if(a.match("[0-9]{10}")){var b=1E3*a,c=(new Date).getTime();b>c?setTimeout(function(){alertify.alert("Since this trade occurs next month, and TTOT is not open yet, a 'Trade Immediately' Auto Trade request will be set.",function(){_cmeFTj()})},
500):setTimeout(function(){alertify.alert("Since TTOT is already open for this trade, a 'Red/Redder' request is being set.  The trade will be tried every 60 minutes.",function(){_oUITDs()})},500)}else setTimeout(function(){alertify.alert("There was a connection problem.  Please try again later. (data= "+a+")")},500)}).error(function(){setTimeout(function(){userAborted?userAborted=!1:alertify.alert("There was a connection problem.  Please try again later. (er: 35)")},500)});universalRequestsArray.push(universalPostRequest_ttotStartTime_Getter)}
function _Q7QnQ0(){$.post(targetUrl+"/nimble/getAutoTrade_Requests.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login"))},function(a){if("Invalid credentials."!=a)return a!=masterSaveObject.autoTrade_Requests?(masterSaveObject.autoTrade_Requests=a,_YkoskJ(dbGet("hi1"),dbGet("hi2")),!0):!1}).error(function(){!0})}var preventPilotRequestTwice=!1;
function _N2uE7h(a){preventPilotRequestTwice||(preventPilotRequestTwice=!0,_ZHmq6z(SHOW),universalPostRequest_getPilot_PhoneNumbersForPopup=$.post(targetUrl+"/nimble/getPilot_PhoneNumbersForPopup.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),empNum:a},function(a){"Invalid credentials."!=a&&("invalid"==a?alertify.error("An error occured."):(a=JSON.parse(a),0<a.cell.length?alertify.alert(a.empNum+" - "+a.firstName+" "+a.lastName+"<p>Cell: <a href='sms:"+a.cell+"' target='_blank'>"+
a.cell+"</a></p>"):alertify.error("No cell phone on file.")))}).error(function(){alertify.error("Connection error.")}).complete(function(){preventPilotRequestTwice=!1;_ZHmq6z(HIDE)}),universalRequestsArray.push(universalPostRequest_getPilot_PhoneNumbersForPopup))}
function _oUITDs(){$("#seqPopupDecsDataId").html("submitting Red/Redder...");if(subExpired)alertify.error("Subscription expired");else{var a=dbGet(activeTrade),b=a.one.seqNumberDate1;a=a.two.seqNumberDate1;universalPostRequest_liteSabreSubmitManualRedRedderRequest_Function=$.post(targetUrl+"/liteSabreSubmitManualRedRedderRequestFunction.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),redRedderDropSeq:b,redPickupTrip:a},function(a){setTimeout(function(){$("#seqPopupDecsDataId").html("");
"success"===a&&(_YkoskJ(dbGet("hi1"),dbGet("hi2")),alertify.set({labels:{ok:"Sure",cancel:"No, I'm Good"}}),alertify.confirm("The Red/Redder trade was set.  Would you like to check it for accuracy in Auto Trade?",function(a){a&&($("#seqPopupId").hide(),$("#autoTradeTabId").trigger("click"))}),alertify.set({labels:{ok:"Ok",cancel:"Cancel"}}));"fail"===a?alertify.alert("There was a problem.  Please try again later."):"noAuth"===a?alertify.alert("You are not signed in.  Please refesh this page and try again."):
"tts"===a?alertify.alert("You are on TTS.  You cannot set Red/Redder trades.  If this is incorrect, contact LiteSabre Support."):"autoNotAuth"===a?alertify.alert("You are not an Auto Remote premium subscriber.  This feature is not available to Basic subscribers."):"actFeeNotPaid"===a?alertify.alert("You must pay the one-time $19.95 activation fee to access this feature."):"noData"===a?alertify.alert("Invalid data entry.  Please try again."):"dropInvalid"===a&&alertify.alert("The drop sequence format is invalid. It must be (ex: 345/02JUN)  Please try again.")},
400)}).error(function(){userAborted?userAborted=!1:alertify.error("There was a connection problem.  Please try again.")});universalRequestsArray.push(universalPostRequest_liteSabreSubmitManualRedRedderRequest_Function)}}
function _cmeFTj(){if(subExpired)alertify.error("Subscription expired");else{var a="HSS/"+dbGet(activeTrade).two.seqNumberDate1;a=a.split("/");a=a[0]+"/"+a[3]+"/"+a[1]+"/"+a[2];universalPostRequest_getHss_Details=$.post(targetUrl+"/getHssDetails.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),hssCommand:a},function(a){if(-1<a.indexOf("noBase"))alertify.error("Unable.  Please set the trade request manually"),$("#seqPopupId").hide();else if(-1<a.indexOf("noAuth"))alertify.error("You are not logged in."),
$("#seqPopupId").hide();else{a=decodeURIComponent(a);try{var b=JSON.parse(a);for(a=0;a<b.length;a++){var d=b[0];if(3<d.arrTimezone.length&&1111111111<d.seqEnd){var e=moment(1E3*d.seqEnd).tz(d.arrTimezone).format("DD-MM"),g=dbGet(activeTrade);g.two.seq1Arrives=e;_Bo8t6d(g);break}}}catch(h){}}}).error(function(a){userAborted?userAborted=!1:alertify.error("Internet connection error.")}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_getHss_Details)}}
function _Bo8t6d(a){$("#seqPopupDecsDataId").html("Submitting Auto Trade...");$("#seqPopupDecsDataId").html("");if(subExpired)alertify.error("Subscription expired");else{var b=a.one.seqNumberDate1;0==b.length&&(b="pickupOnly");var c=a.two.seqNumberDate1,d=c.split("/");c=d[0];var e=d[1].substring(2,5);e=_dneJpE(e);d=d[1].substring(0,2);var g=a.two.seq1Arrives.split("-");a=g[1];g=g[0];e+="";1===e.length&&(e="0"+e);a+="";1===a.length&&(a="0"+a);d+="";1===d.length&&(d="0"+d);g+="";1===g.length&&(g="0"+
g);universalPostRequest_autoTrader_Functions=$.post(targetUrl+"/autoTrader/autoTraderFunctions.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),dropSeqNumb:b,pickupSeqNumb:c,depDateStartMon:e,depDateStartDay:d,depDateEndMon:"none",depDateEndDay:"none",arrDateStartMon:"none",arrDateStartDay:"none",arrDateEndMon:a,arrDateEndDay:g,minDays:"none",maxDays:"none",depTimeStart:"noPref",depTimesStartFraction:"00",depTimeEnd:"noPref",depTimesEndFraction:"00",arrTimeStart:"noPref",
arrTimesStartFraction:"00",arrTimeEnd:"noPref",arrTimesEndFraction:"00",dhNoPref:"t",minCredit:"noPref",minCreditFraction:"00",maxLegs:"noPref",desiredLayoverCities:"",prohCities:"",prohLayoverCities:"",prohCoterminalCities:"",prohDaysOfWeek:"",enterHtmd:"y",immediateTradeOption:"Trade Immediately",multiplePickupOption:"Delete After Pickup",alertWhenNotLegalOption:"Dont Send Alerts When Not Legal",outBaseCity1:"NON",outBaseCity2:"NON",allNighters:"y",pilotVisible:"y",minLayover:"00",maxLayover:"99",
minTAFB:"00",maxTAFB:"999",minTotalPayMinutes:"noPref",minTotalPayMinutesFraction:"00",minPayAndCredit:"noPref",minPayAndCreditFraction:"00"},function(a){"not signed in"===a?setTimeout(function(){alertify.error("You are not logged in.",function(){})},500):"complete"===a?(_YkoskJ(dbGet("hi1"),dbGet("hi2")),setTimeout(function(){$("#seqPopupDecsDataId").html("");alertify.set({labels:{ok:"Sure",cancel:"No, I'm Good"}});alertify.confirm("The auto trade was set.  Would you like to check it for accuracy in Auto Trade?",
function(a){a&&($("#seqPopupId").hide(),$("#autoTradeTabId").trigger("click"))});alertify.set({labels:{ok:"Ok",cancel:"Cancel"}})},1E3)):alertify.alert("There was an unknown problem.  Please check Auto Trade.")}).error(function(){userAborted?userAborted=!1:alertify.error("There was an network problem.  Please check Auto Trade.")}).success(function(){});universalRequestsArray.push(universalPostRequest_autoTrader_Functions)}}
function getAddOr_RemovalCode(a,b){_ZHmq6z(SHOW);setTimeout(function(){universalPostRequest_getAddOr_RemovalCode=$.post(targetUrl+"/nimble/getAddOrRemovalCode.php?nocache="+(new Date).getTime()+"&phonegap="+dbGet("login"),{phonegap:decodeURIComponent(dbGet("login")),type:a,code:b},function(a){var b="error";-1<a.indexOf(":")&&(b=a.split(":")[5]);$(".hoverPopup").html(b)}).error(function(a){$(".hoverPopup").html("error");userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});
universalRequestsArray.push(universalPostRequest_getAddOr_RemovalCode)},200)}function _3MZIzq(){_ZHmq6z(SHOW);setTimeout(function(){universalPostRequest=$.post(targetUrl+"/testToken.php?nocache="+(new Date).getTime()+"&phonegap="+dbGet("login"),{phonegap:decodeURIComponent(dbGet("login"))},function(a){}).error(function(a){}).success(function(){}).complete(function(){_ZHmq6z(HIDE)})},200)}
function _ICh3Gd(a){_ZHmq6z(SHOW);var b=new Hss;b.command=a[1];b.content=b.command+"\n<pre>"+a[2]+"</pre>";b.content=b.content.replace(/\n/g,"fgbvn");setTimeout(function(){universalPostRequest_uploadHss_File1=$.post(targetUrl+"/market/uploadHssFile.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"upload",array:JSON.stringify(b)},function(a){"success"==a&&_h3MH7X()}).error(function(a){userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});
universalRequestsArray.push(universalPostRequest_uploadHss_File1)},200)}
function _avyjE2(a,b){_ZHmq6z(SHOW);setTimeout(function(){universalPostRequest_determineIfLiteSabre_User=$.post(targetUrl+"/market/determineIfLiteSabreUser.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),targetEmp:b,targetId:a},function(a){if("Invalid credentials."==a)_3vdVrW(),alertify.error("You are not logged in.  Please restart the app.");else if("expired"==a)_3vdVrW(),alertify.error("Your LiteSabre subscription has expired.  Please renew before continuing.");else if(-1<
a.indexOf("userExpired"))a=a.split("::"),a=a[1],_3vdVrW(),_pnwO12("testFail",a),alertify.alert("The owner of this trip has an expired LiteSabre account.  You can't trade with him through this system.  Sorry.");else if(-1<a.indexOf("noUser"))a=a.split("::"),a=a[1],_3vdVrW(),_pnwO12("testFail",a),alertify.alert("This trip recently changed hands, and the new owner is not a LiteSabre user.  Sorry.");else if("no"==a)_3vdVrW(),alertify.alert("This trip recently changed hands, and the new owner is not a LiteSabre user.  Sorry.");
else if(-1<a.indexOf("good")){a=a.split("::");a=a[1];var b=dbGet(_9YQJGB(a)).id;a==b?(_3vdVrW(),testTrade(b)):(_3vdVrW(),alertify.error("Unable to proceed.  Unknown error(23)."))}else _3vdVrW(),alertify.error("Error(56). Contact Support.")}).error(function(a){userAborted?userAborted=!1:alertify.error("Not connected.");_3vdVrW()}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_determineIfLiteSabre_User)},300)}
function _Shdwnx(){var a=targetUrl+"/firstTradeSBD/ttotStartTimeGetter.php?nocache="+(new Date).getTime();decodeURIComponent(dbGet("login"));var b=dbGet("fourPart");var c=b[2],d=b[1];b=b[0];$.post(a,{phonegap:decodeURIComponent(dbGet("login")),base:b,equip:c,pos:d},function(a){_XfkEyp(a)&&(ttotStartTimeForNextMonth=1E3*a)}).error(function(a){}).complete(function(){})}
function _WocTYX(){var a=targetUrl+"/nimble/getCurrentTrade.php?nocache="+(new Date).getTime();decodeURIComponent(dbGet("login"));$.post(a,{phonegap:decodeURIComponent(dbGet("login"))},function(a){-1<a.indexOf("-")?(weHaveAValidAutoTradeInProgress=!0,$("#hiInfoId").hide(),$("#autoTradeInProgressId").html("<span style='color:#41d241'>AT in Prog: </span> <span id='inProgMessageId' class='inProgMessage'>"+a+"</span>")):$("#hiInfoId").show();$("#inProgMessageId").unbind().click(function(){alertify.alert("Auto Trade is currently processing this trade, and will execute when TTOT opens.  This cannot be stopped.")})}).error(function(a){}).complete(function(){})}
function _xQjMZY(a,b,c){var d=targetUrl+"/nimble/uploadOpenTimeIntoJava.php?nocache="+(new Date).getTime();0!=decodeURIComponent(dbGet("login")).length&&$.post(d,{phonegap:decodeURIComponent(dbGet("login")),content:b,command:a},function(a){null!=c&&_SeNg2I(c,!1)}).error(function(a){}).complete(function(){})}
function triggerJava_ToGetMissingTrips(a){if(-1!=a.indexOf("_")){var b=a.split("_");0<parseInt(b[6],10)?$("#warningId").html("Missing data. Please try again."):$("#warningId").html("Server is updating with new data. Stand by...");setTimeout(function(){$("#warningId").html("")},5E3);b=targetUrl+"/nimble/getRequiredN4CommandForRefresh.php?nocache="+(new Date).getTime();0!=decodeURIComponent(dbGet("login")).length&&$.post(b,{phonegap:decodeURIComponent(dbGet("login")),code:a},function(a){missingN4CommandsArray=
a.split("-");a=missingN4CommandsArray.pop();-1<a.indexOf("N4")&&(command=a,_7BotAy(DIRECTION_MISSING_N4_COMMANDS,0))}).error(function(a){}).complete(function(){})}}function _3ibai5(a,b){var c=targetUrl+"/nimble/injectDroppedSequenceFromNimbleAction.php?nocache="+(new Date).getTime();0!=decodeURIComponent(dbGet("login")).length&&$.post(c,{phonegap:decodeURIComponent(dbGet("login")),content:b,command:a},function(a){}).error(function(a){}).complete(function(){})}
function _2UsaYj(a,b){universalPostRequest_getAll_FutureGoogleCalendarEvents=$.post(targetUrl+"/nimble/googleEventConflicts_ver189_forNimble.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),hss:a,getNew:b},function(a){""==a?($("#myTripTradeBoxDecsDataId").html("<br /><span class='calendarConflictsBackButton'><--BACK</span><br /><span class='conflictDescriptor'>Calendar events that conflict with this trip --\x3e</span><br /><span class='conflictsLink' id='getMissingId'>Missing events?</span><div class='gCalRight'>No Conflicting Events.</div>"),
$(".calendarConflictsBackButton").unbind().click(function(){_jt9FVJ()}),$("#getMissingId").unbind().click(function(){_e27uOc("t",!1)})):(a=a.replace(/\+/g," "),a=decodeURIComponent(a),$("#myTripTradeBoxDecsDataId").html("<br /><span class='calendarConflictsBackButton'><--BACK</span><br /><span class='conflictDescriptor'>Calendar events that conflict with this trip --\x3e</span><br /><span  class='conflictsLink' id='getMissingId'>Missing events?</span><div class='gCalRight'>"+a+"</div>"),$(".calendarConflictsBackButton").unbind().click(function(){_jt9FVJ()}),
$("#getMissingId").unbind().click(function(){_e27uOc("t",!1)}),-1<a.indexOf("googleLearnMoreId")&&$("#googleLearnMoreId").unbind().click(function(){window.open("https://www.aapocket.com/liteSabreGoogleCalendarSettings.php","_blank",!1)}))}).error(function(a){}).success(function(){}).complete(function(){})}function gObj(){}
function _s7Cfj1(){var a=targetUrl+"/nimble/getVitalLiteSabreData.php?nocache="+(new Date).getTime();0!=decodeURIComponent(dbGet("login")).length&&$.post(a,{phonegap:decodeURIComponent(dbGet("login"))},function(a){if(-1<a.indexOf("This file keeps track of when the months start and finish")){var b=a.split("\n");_5HOX67(b);_dXQXfy(a)}}).error(function(a){}).complete(function(){})}
function _2NSLmp(){universalPostRequest_getVitalLiteSabre_Data=$.post(targetUrl+"/nimble/getVitalLiteSabreData.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login"))},function(a){if(-1<a.indexOf("This file keeps track of when the months start and finish")){var b=a.split("\n");_5HOX67(b);_dXQXfy(a)}}).error(function(a){userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){});universalRequestsArray.push(universalPostRequest_getVitalLiteSabre_Data)}
function _94PLTo(a,b){var c=null;b==DIRECTION_HSS_AFTER_DROP&&(c=dbGet(activeDrop));if(b==DIRECTION_HSS_AFTER_FIRST_TRADE_HSS||b==DIRECTION_HSS_AFTER_SECOND_TRADE_HSS)c=dbGet(activeTrade);_ZHmq6z(SHOW);var d=new Hss;d.command=a[1];d.content=d.command+"\n<pre>"+a[2]+"</pre>";d.content=d.content.replace(/\n/g,"fgbvn");setTimeout(function(){universalPostRequest_uploadHss_File=$.post(targetUrl+"/market/uploadHssFile.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"upload",
array:JSON.stringify(d),action:b,offer:JSON.stringify(c)},function(a){"success"==a?_IefpBk():a=="success"+DIRECTION_HSS_AFTER_DROP?_j6S2lY("drop"):a=="success"+DIRECTION_HSS_AFTER_FIRST_TRADE_HSS?_SjdxsJ(!0):a!="success"+DIRECTION_HSS_SILENT_UPDATE&&(a=="success"+DIRECTION_FILL_MISSING_TRIPS?0<missingHssContentCommandsArray.length?(command=missingHssContentCommandsArray[0],apaOutput="",_7BotAy(DIRECTION_FILL_MISSING_TRIPS,0)):_YkoskJ(dbGet("hi1"),dbGet("hi2")):a=="success"+DIRECTION_HSS_AFTER_SECOND_TRADE_HSS&&
_j6S2lY("trade"))}).error(function(a){userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_uploadHss_File)},200)}
function _D2FdSo(a,b){$("#tradeIdForDropDead").html(a);var c=$("#seqButton_"+a).position();$("#submitTradeDropDeadOptionsId").css("left",c.left-8);$("#submitTradeDropDeadOptionsId").show();var d=new Date;c=d.getHours();10>c&&(c="0"+c);d=d.getMinutes();10>d&&(d="0"+d);c=c+":"+d;$("#dropDeadTimeId").val(c);$("#goNowForDropDead").html("true");$("#destinationForDropDead").html("accept");$("#requestIdForDropDead").html(b)}
function _XJ9GkX(a,b){$("#tradeIdForDropDead").html(a);var c=$("#inPlayButton_"+a).position();$("#submitTradeDropDeadOptionsId").css("left",c.left-8);$("#submitTradeDropDeadOptionsId").show();var d=new Date;c=d.getHours();10>c&&(c="0"+c);d=d.getMinutes();10>d&&(d="0"+d);c=c+":"+d;$("#dropDeadTimeId").val(c);$("#goNowForDropDead").html("true");$("#destinationForDropDead").html("dropAccept");$("#requestIdForDropDead").html(b)}
function isInt(a){var b;if(b=!isNaN(a))a=parseFloat(a),b=(a|0)===a;return b}
function _pTsz3i(){_ZHmq6z(SHOW);universalPostRequest_getAutoTradeAndAutoDrop_Data=$.post(targetUrl+"/nimble/getAutoTradeAndAutoDropData.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login"))},function(a){a=decodeURIComponent(a);try{var b=JSON.parse(a);_1i5HhH(b)}catch(c){}}).error(function(){userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_getAutoTradeAndAutoDrop_Data)}
function _rG23sh(){setTimeout(function(){$("#keyPadMainId").show()},400)}
function _2mwC6b(){_ZHmq6z(SHOW);universalPostRequest_pinIsSetForThisIp=$.post(targetUrl+"/market/pinIsSetForThisIp.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login"))},function(a){-1<a.indexOf("noPin")?$("#keyPadMainId").show():_XeYuoQ()}).error(function(){_XeYuoQ();userAborted&&(userAborted=!1);_SjdxsJ(!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest__2mwC6b)}
function _FwhjEL(){_ZHmq6z(SHOW);universalPostRequest_apa_Pass=$.post(targetUrl+"/market/getAllWithPin.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),browserId:browserId},function(a){a=decodeURIComponent(a);a.indexOf("noLoad");if(-1<a.indexOf("noDecs")||-1<a.indexOf("badDecs"))_DFW1mY();else if(-1<a.indexOf("noPin"))validPin=!1,$("#keyPadMainId").show(),$("#seqPopupId").hide(),decsPassword=apaPassword=empNum="",dbSet("decsPassword",""),dbSet("apaPassword",""),dbSet("empNum",
"");else{validPin=!0;try{var b=JSON.parse(a);empNum=b.empNum;apaPassword=b.apaPassword;decsPassword=b.decsPassword;dbSet("decsPassword",decsPassword);dbSet("apaPassword",apaPassword);dbSet("empNum",empNum);$("#seqPopupDecsDataId").html("");_SjdxsJ(!1)}catch(c){}}}).error(function(){userAborted&&(userAborted=!1);_SjdxsJ(!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)});universalRequestsArray.push(universalPostRequest_apa_Pass)}
function _8OJDzh(a){activeTrade=dbGet(_9YQJGB(a));if("object"==typeof activeTrade)if("DropDead Time"==$("#inPlayOfferDropDeadButton_"+a).html()){$("#tradeIdForDropDead").html(a);var b=$("#inPlayOfferDetails_"+a).position();$("#submitTradeDropDeadOptionsId").css("left",b.left+2);var c=new Date;b=c.getHours();10>b&&(b="0"+b);c=c.getMinutes();10>c&&(c="0"+c);b=b+":"+c;$("#dropDeadTimeId").val(b);$("#submitTradeDropDeadOptionsId").show();$("#goNowForDropDead").html("true");$("#destinationForDropDead").html("propose")}else-1<
$("#inPlayOfferTipButton_"+a).html().indexOf("Offering")?alertify.alert("Since you are offering a 'Tip', you must execute the trade.  You will be notified if/when this pilot accepts your offer.",function(){_TDecxW(a,"false")}):alertify.confirm("Since you are NOT offering a 'Tip', the accepting pilot can exeute this trade immediately, up to your drop dead time. Are you sure?",function(b){b&&_TDecxW(a,"false")})}
function _tJ1c9s(){null!=typeof decodeURIComponent(dbGet("login"))&&(_ZHmq6z(SHOW),universalPostRequest=$.post(targetUrl+"/intBidSheet/getFourPartStatus.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login"))},function(a){ourAns=a;ourAnsArray=ourAns.split("/");$("#statusBaseId").val(ourAnsArray[0]);$("#statusBaseId").selectmenu("refresh",!0);$("#changeStatusBaseId").val(ourAnsArray[0]);$("#changeStatusBaseId").selectmenu("refresh",!0);dbSet("fourPart",ourAnsArray);setTimeout(function(){_Shdwnx()},
300);setTimeout(function(){_HkNQnH()},1E4);$("#fourPartDisplayId").html(ourAnsArray[0]+"/"+ourAnsArray[1]+"/"+ourAnsArray[2]+"/"+ourAnsArray[3]);$("#fourPartDisplayId").show();"FO"==ourAnsArray[1]&&($("#statusPosId").val("AllFo"),$("#statusPosId").selectmenu("refresh",!0),$("#changeStatusPosId").val("AllFo"),$("#changeStatusPosId").selectmenu("refresh",!0));if("CA"==ourAnsArray[1]||"RC"==ourAnsArray[1])$("#statusPosId").val("CA"),$("#statusPosId").selectmenu("refresh",!0),$("#changeStatusPosId").val("CA"),
$("#changeStatusPosId").selectmenu("refresh",!0);$("#statusEquipId").val(ourAnsArray[2]);$("#statusEquipId").selectmenu("refresh",!0);$("#changeStatusEquipId").val(ourAnsArray[2]);$("#changeStatusEquipId").selectmenu("refresh",!0);$("#statusDivId").val(ourAnsArray[3]);$("#statusDivId").selectmenu("refresh",!0);$("#changeStatusDivId").val(ourAnsArray[3]);$("#changeStatusDivId").selectmenu("refresh",!0);0<ourAnsArray[0].length&&($("#n4BaseId").val(ourAnsArray[0]),$("#n4BaseId").selectmenu("refresh",
!0));0<ourAnsArray[1].length&&($("#n4PosId").val(ourAnsArray[1]),$("#n4PosId").selectmenu("refresh",!0));0<ourAnsArray[2].length&&($("#n4EquipId").val(ourAnsArray[2]),$("#n4EquipId").selectmenu("refresh",!0));0<ourAnsArray[3].length&&("DOM"==ourAnsArray[3]?$("#n4CodeId").val("N4D"):$("#n4CodeId").val("N4I"),$("#n4CodeId").selectmenu("refresh",!0));_G57doT();_FwhjEL();_9K3RoF();_s7Cfj1()}).error(function(){userAborted&&(userAborted=!1);_G57doT();_FwhjEL()}).complete(function(){_ZHmq6z(HIDE)}))}
function _Bpz3ia(){if(0!=decodeURIComponent(dbGet("login")).length){var a=version;var b=targetUrl+"/reserve/subscriptionDisplayFunction.php?nocache="+(new Date).getTime();$.post(b,{phonegap:decodeURIComponent(dbGet("login")),version:a},function(a){if(-1<a.indexOf("expired"))subExpired=!0;else if(-1<a.indexOf("Premium!")||-1<a.indexOf("No Load"))subExpired=!1}).error(function(a){}).complete(function(){})}}
function _ZKNbFo(){_ZHmq6z(SHOW);$("#versionId").html("Ver "+version+"  logging in...");universalPostRequest=$.post(targetUrl+"/reserve/subscriptionDisplayFunction.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login"))},function(a){for(var b in masterSaveObject)-1<b.indexOf("trade_")&&_m9g9nz(b),-1<b.indexOf("drop_")&&_m9g9nz(b);$("#myTripsContentId").hide();$("#inPlayContentId").hide();$("#testingContentId").hide();if(-1<a.indexOf("expired")){subExpired=!0;if(appType==IPAD)var c=
"<a href='#' onclick=\"window.open(encodeURI('https://www.aapocket.com/liteSabreSubscribeNew.php', '_system');\">HERE</a>";appType==CHROMEAPP&&(c="<a target='_blank' href='"+targetUrl+"/liteSabreSubscribeNew.php'>HERE</a>");alertify.alert("Your LiteSabre subscription has expired.  Please go "+c+" to renew.");$("#loginContentId").show();$("#hiInfoId").hide();$("#settingsContentId").hide();$("#versionId").html(username+". Subscription expired.  Ver "+version);$("#passId").val("")}else-1<a.indexOf("Invalid credentials.")?
($("#loginContentId").show(),$("#hiInfoId").hide(),$("#myTripsContentId").hide(),$("#settingsContent").hide(),$("#versionId").hide(),alertify.error("invalid credentials")):-1<a.indexOf("Premium!")||-1<a.indexOf("No Load")?(subExpired=!1,a=a.replace("Premium!",""),a=a.replace("No Load.",""),a=a.replace("sub",""),$("#versionId").html(a+" Ver "+version),$("#myTripsContentId").show(),$("#footerId").show(),noLoad=!1,$("#settingsPageShowButtonId").show(),$("#loginContentId").hide(),$("#footerId").show(),
$("#logoutButtonId").show(),$("#decsWindowShowId").show(),$("#hiInfoId").show(),_tJ1c9s()):$("#loginContentId").show()}).error(function(){userAborted&&(userAborted=!1);$("#versionId").html("<span style='color:red'>No Connection.</span>   <a href='#' id='tryAgainId'>Try Again</a>   Ver "+version);$("#tryAgainId").unbind().click(function(){$("#versionId").html("<span style='color:red'>No Connection.</span> Stand by... Ver "+version);_ZKNbFo()})}).success(function(){}).complete(function(){_ZHmq6z(HIDE)})}
function _h3MH7X(){positionOfIpPlayScroll=$("#inPlayContentId").scrollTop();var a=$("#statusBaseId").val(),b=$("#statusPosId").val(),c=$("#statusEquipId").val(),d=$("#statusDivId").val(),e=$("#dateboxStartId").val(),g=$("#dateboxEndId").val();if(0==e.length)alertify.error("You must set an earliest departure date."),setTimeout(function(){$("#searchOptionsLinkId").trigger("click")},400);else if(0==g.length)alertify.error("You must set a latest departure date."),setTimeout(function(){$("#searchOptionsLinkId").trigger("click")},
400);else{var h=$("#timeboxDepStartId").val(),k=$("#timeboxDepEndId").val(),f=$("#timeboxArrStartId").val(),n=$("#timeboxArrEndId").val(),l=$("#minDaysId").val(),r=$("#maxDaysId").val(),u=$("#dhNoPrefId").prop("checked"),A=$("#dhNoDeadId").prop("checked"),G=$("#dhReqAnyId").prop("checked"),B=$("#dhReqFirstId").prop("checked"),v=$("#dhReqLastId").prop("checked"),N=$("#dhReqFirstOrLastId").prop("checked"),O=$("#dhNoLastId").prop("checked"),P=$("#dhNoAaId").prop("checked"),J=$("#minTotalPayMinutesId").val(),
K=$("#minTotalPayMinutesFractionId").val(),L=$("#minPayAndCreditId").val(),M=$("#minPayAndCreditFractionId").val(),Q=$("#maxLegsId").val(),C=$("#desiredLayoverCitiesId").val(),x=$("#prohCitiesId").val(),y=$("#prohLayoverCitiesId").val(),D=$("#prohCoterminalCitiesId").val(),E=$("#prohDaysOfWeekId").val();dbSet("inPlayPref",'{"base": "'+a+'","pos": "'+b+'","equip": "'+c+'","div": "'+d+'","startDate": "'+e+'","endDate": "'+g+'","depStartTime": "'+h+'","depEndTime": "'+k+'","arrStartTime": "'+f+'","arrEndTime": "'+
n+'","minDays": "'+l+'","maxDays": "'+r+'","dhNoPrefId": "'+u+'","dhNoDeadId": "'+A+'","dhReqAnyId": "'+G+'","dhReqFirstId": "'+B+'","dhReqLastId": "'+v+'","dhReqFirstOrLastId": "'+N+'","dhNoLastId": "'+O+'","dhNoAaId": "'+P+'","minTotalPayMinutesId": "'+J+'","minTotalPayMinutesFractionId": "'+K+'","minPayAndCreditId": "'+L+'","minPayAndCreditFractionId": "'+M+'","maxLegsId": "'+Q+'","desiredLayoverCitiesId": "'+C+'","prohCitiesId": "'+x+'","prohLayoverCitiesId": "'+y+'","prohCoterminalCitiesId": "'+
D+'","prohDaysOfWeekId": "'+E+'"}');_ZHmq6z(SHOW);_VtqTFz();universalPostRequest=$.post(targetUrl+"/market/getTripsInPlay.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),base:a,pos:b,equip:c,div:d,startDate:e,endDate:g,depStartTime:h,depEndTime:k,arrStartTime:f,arrEndTime:n,minDays:l,maxDays:r,dhNoPrefId:u,dhNoDeadId:A,dhReqAnyId:G,dhReqFirstId:B,dhReqLastId:v,dhReqFirstOrLastId:N,dhNoLastId:O,dhNoAaId:P,minTotalPayMinutesId:J,minTotalPayMinutesFractionId:K,minPayAndCreditId:L,
minPayAndCreditFractionId:M,maxLegsId:Q,desiredLayoverCitiesId:C,prohCitiesId:x,prohLayoverCitiesId:y,prohCoterminalCitiesId:D,prohDaysOfWeekId:E},function(a){if(-1<a.indexOf("Invalid credentials."))alertify.error("You are not logged in.  Close and reopen the app.");else if(-1<a.indexOf("expired"))alertify.error("Your subscription has expired.");else if(-1<a.indexOf("not200_"))alertify.error("The server did not respond.  Please try again later.");else if(-1<a.indexOf("reverseDates"))alertify.error("The end date is before the start date. Invalid."),
setTimeout(function(){$("#searchOptionsLinkId").trigger("click")},400);else if(-1<a.indexOf("arrTimeSame"))alertify.error("Arrival times are the same.  Invalid."),setTimeout(function(){$("#searchOptionsLinkId").trigger("click")},400);else if(-1<a.indexOf("depTimeSame"))alertify.error("Dep times are the same.  Invalid."),setTimeout(function(){$("#searchOptionsLinkId").trigger("click")},400);else try{a=decodeURIComponent(a);a=a.replace(/\+/g," ");if(-1<a.indexOf(";;;;"))var b=a.split(";;;;");fillInPlayViewWithData(b)}catch(m){}}).error(function(a){userAborted?
userAborted=!1:alertify.error("Unable to connect.")}).complete(function(){_ZHmq6z(HIDE)})}}
function _ELhIBE(){for(var a=[],b=0;201>b;b++){var c=$("#inPlayButton_"+b).html(),d=c.indexOf(" -- ");c=c.substring(0,d).trim();0<c.length&&a.push(c+"_"+b);c=d=c=null}for(b=0;202>b;b++)$("#inPlayButton_"+b).removeClass("acceptedAndWaitingSeq"),$("#inPlayButton_"+b).removeClass("highlightedSeqs"),$("#inPlayButton_"+b).removeClass("acceptedSeqs"),$("#inPlayButton_"+b).removeClass("offeredToYouSeqs");_ZHmq6z(SHOW);setTimeout(function(){universalPostRequest=$.post(targetUrl+"/market/manageTradeRequest_noRemoteCode.php?nocache="+
(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"currentRequests",currentRequests:JSON.stringify(a)},function(a){try{var b=JSON.parse(a);for(a=0;a<b.length;a++){var c=b[a],d=c.command,f=c.positionId,e=$("#inPlayButton_"+f).html();if("drop"==c.type&&-1<e.indexOf(d))if(0<c.motivationAmount){var l=$("#inPlayButton_"+f).html();-1<l.indexOf("<span class='exclam'>!!!</span>")?(l=l.replace("<span class='exclam'>!!!</span>",""),-1==l.indexOf("<span class='exclam'>$$$</span>")&&(l=l.replace("<span></span>",
"<span></span> <span class='exclam'>$$$</span>"),$("#inPlayButton_"+f).html(l))):(l=l.replace("<span></span>","<span></span> <span class='exclam'>$$$</span>"),$("#inPlayButton_"+f).html(l))}else l=$("#inPlayButton_"+f).html(),-1<l.indexOf("<span class='exclam'>$$$</span>")?(l=l.replace("<span class='exclam'>$$$</span>",""),-1==l.indexOf("<span class='exclam'>!!!</span>")&&(l=l.replace("<span></span>","<span></span> <span class='exclam'>!!!</span>"),$("#inPlayButton_"+f).html(l))):(l=l.replace("<span></span>",
"<span></span> <span class='exclam'>!!!</span>"),$("#inPlayButton_"+f).html(l));"trade"==c.type&&-1<e.indexOf(d)&&("set"!=c.status&&"multiSet"!=c.status||_3K6VIo("#inPlayButton_"+f,"acceptedSeqs"),"offered"==c.status&&0==$("#inPlayButton_"+f).hasClass("acceptedSeqs")&&_3K6VIo("#inPlayButton_"+f,"highlightedSeqs"))}}catch(r){}}).error(function(a){userAborted&&(userAborted=!1)}).success(function(){}).complete(function(){_ZHmq6z(HIDE)})},300)}
function _3K6VIo(a,b){$(a).removeClass("offeredToYouSeqs");$(a).removeClass("acceptedSeqs");$(a).removeClass("highlightedSeqs");$(a).removeClass("acceptedAndWaitingSeq");$(a).addClass(b)}
function _WydPWB(a){var b=$("#inPlayCommandId_"+a).html(),c=$("#inPlayOwnerEmpNum_"+a).html();$("#inPlayOfferDetails_"+a).show("fast");$("#inPlayTradeDetailsId_"+a).html("loading...");$("#inPlayDropDetailsId_"+a).html("loading...");$("#inPlayCreateTradeButton_"+a).html("----");_ZHmq6z(SHOW);setTimeout(function(){universalPostRequest=$.post(targetUrl+"/market/manageTradeRequest_noRemoteCode.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),id:a,type:"retrieve",user2:c,
user2Seq1:b},function(a){if(-1<a.indexOf("Invalid credentials."))_AgORpV(!1),alertify.error("You are not logged in.");else try{var b=JSON.parse(a),c=b.id;$("#inPlayButton_"+b.id).removeClass("stripe");$("#inPlayCreateTradeButton_"+b.id).html("Trade");$("#inPlayCreateTradeButton_"+b.id).show();if(0<b.trades.length){a="";for(var d=b.trades,k=0;k<d.length;k++)switch(d[k].target){case "existingPendingOfferTradeRequestWithMoney":a+=existingPendingOfferTradeRequestWithMoney(d[k]);break;case "existingAcceptedAndWaitingTradeRequestWithMoney":a+=
existingAcceptedAndWaitingTradeRequestWithMoney(d[k]);break;case "existingPendingOfferTradeRequestWithoutMoney":a+=existingPendingOfferTradeRequestWithoutMoney(d[k]);break;case "existingAcceptedAndWaitingTradeRequestWithoutMoney":a+=existingAcceptedAndWaitingTradeRequestWithoutMoney(d[k])}$("#inPlayTradeDetailsId_"+c).html(a);var f=$(".offerId");for(d=0;d<f.length;d++)$("#"+f[d].id).unbind().click(function(){if(-1<this.id.indexOf("user1")){var a=this.id.replace("inPlay_user1_content1_detail_button_",
""),b=$("#inPlay_user1_command_1_"+a).html();a=$("#inPlay_user1_content_1_"+a).html();b=b.replace("HSS/","");$("#inPlayPopupHeaderContentId").html(b);$("#inPlayPopupDecsDataId").html(a);$("#inPlayPopupId").show("fast")}-1<this.id.indexOf("user2")&&(a=this.id.replace("inPlay_user2_content1_detail_button_",""),b=$("#inPlay_user2_command_1_"+a).html(),a=$("#inPlay_user2_content_1_"+a).html(),b=b.replace("HSS/",""),$("#inPlayPopupHeaderContentId").html(b),$("#inPlayPopupDecsDataId").html(a),$("#inPlayPopupId").show("fast"))})}else 1==
b.blocked?($("#inPlayButton_"+b.id).addClass("stripe"),$("#inPlayCreateTradeButton_"+b.id).hide(),$("#inPlayTradeDetailsId_"+c).html("Trip owner blocked this trip.  You cannot request a trade.")):$("#inPlayTradeDetailsId_"+c).html("No active trade offers.");0<b.drops.length?($("#inPlayDropDetailsId_"+c).html(b.drops),$("#inPlay_acceptDropRequest_"+c).unbind().click(function(){var a=this.id.replace("inPlay_acceptDropRequest_",""),b=$("#inPlayDropRequestDbId_"+a).html();_XJ9GkX(a,b)}),$(".acceptCancelLinks").unbind().click(function(){var a=
this.id.replace("cancelAcceptedDropAcceptance_","");_iuJu2G(a)})):$("#inPlayDropDetailsId_"+c).html("No active drop offers.");$(".myTradeAlert").unbind().click(function(){alertify.alert("You are a party to this trade.<br />Manage it by tapping 'My Trips' at the bottom.")});$(".noPaypalSender").unbind().click(function(){alertify.alert("The pilot offering this incentive does not have a Paypal email address on file.<br />Arranging payment may be cumbersome.")})}catch(n){alertify.error("Unknown error.")}}).error(function(b){userAborted?
userAborted=!1:alertify.error("Internet connection error.");$("#inPlayTradeDetailsId_"+a).html("error.");$("#inPlayDropDetailsId_"+a).html("error.")}).success(function(){}).complete(function(){_ZHmq6z(HIDE)})},300)}
function _qvM4MR(a,b){alertify.confirm("The dropping pilot will be able to drop this trip to you without contacting you, up to your drop dead time.  Proceed?",function(c){c&&setTimeout(function(){_ZHmq6z(SHOW);var c=$("#statusBaseId").val(),e=$("#dropDeadDateId").val(),g=$("#dropDeadTimeId").val();e=(e+" "+g).replace(/\//g,"-");e.match(/^[0-9]{1,2}-[0-9]{1,2}-[0-9]{4} [0-9]{1,2}:[0-9]{1,2}$/)?($("#inPlayCommandId_"+a).html(),$("#inPlayOwnerEmpNum_"+a).html(),universalPostRequest=$.post(targetUrl+
"/market/manageTradeRequest_noRemoteCode.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"acceptDrop",requestId:b,id:a,base:c,dropDead:e},function(a){-1<a.indexOf("Invalid credentials.")?(_AgORpV(!1),alertify.error("You are not logged in.")):-1<a.indexOf("badData")||-1<a.indexOf("invalidId")?alertify.error("Error.  Contact Support."):-1<a.indexOf("success")?(a=a.split("::")[1],_WydPWB(a)):-1<a.indexOf("noOffer")?alertify.error("Error.  This drop offer does not exist."):
-1<a.indexOf("tooLate")?alertify.alert("You entered a drop dead time that is later than one hour before departure.  Please enter an earlier time."):-1<a.indexOf("dropDeadBeforeNow")?alertify.alert("You entered a drop dead time that is in the past.  Try again."):-1<a.indexOf("already")?alertify.alert("You have already accepted this drop.  Manage it by tapping 'My Trips' at the bottom."):alertify.error("There was an unknown error. Contact Support.")}).error(function(a){userAborted?userAborted=!1:alertify.error("Internet connection error.")}).success(function(){}).complete(function(){_ZHmq6z(HIDE)})):
alertify.error("You must set a valid drop dead time.")},400)})}
function _iuJu2G(a){alertify.confirm("You no longer want to pickup this trip? Tap OK to remove your acceptance.",function(b){b&&($("#seqPopupId").is(":visible")&&$("#seqPopupId").hide(),setTimeout(function(){_ZHmq6z(SHOW);universalPostRequest=$.post(targetUrl+"/market/manageMyTripRequests_noRemoteCode.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"deleteDropAcceptance",dbId:a},function(a){-1<a.indexOf("Invalid credentials.")?(_AgORpV(!1),alertify.error("You are not logged in.")):
-1<a.indexOf("badData")?alertify.error("Error.  Contact Support."):-1<a.indexOf("noOffer")?alertify.error("Error.  This trade does not exist."):"success"==a?_SjdxsJ(!1):alertify.error("There was an unknown error. Contact Support.")}).error(function(a){userAborted?userAborted=!1:alertify.error("Internet connection error.")}).success(function(){}).complete(function(){_ZHmq6z(HIDE)})},400))})}
function _I7SqFT(a){alertify.confirm("Remove the incentive offer?",function(b){b&&setTimeout(function(){_ZHmq6z(SHOW);universalPostRequest=$.post(targetUrl+"/market/manageMyTripRequests_noRemoteCode.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"deleteTip",requestId:a},function(a){-1<a.indexOf("Invalid credentials.")?(_AgORpV(!1),alertify.error("You are not logged in.")):-1<a.indexOf("error_refresh")?alertify.error("Error.  Contact Support."):-1<a.indexOf("noOffer")?
alertify.error("Error.  This trade does not exist."):"success"==a?_SjdxsJ(!1):alertify.error("There was an unknown error. Contact Support.")}).error(function(a){userAborted?userAborted=!1:alertify.error("Internet connection error.")}).success(function(){}).complete(function(){_ZHmq6z(HIDE)})},400)})}function _u8dqTm(a){}function _Upax6w(){dbGet(activeTrade)}function _zlhBeu(a,b){}function _TDecxW(a,b){}function _j6S2lY(a){}var browserId="";
function _LWVpCo(){setTimeout(function(){var a=$("#pinWindow").html();a=a.replaceAll(" ","");a=a.replaceAll("_","");4!=a.length?setTimeout(function(){$("#pinWindow").html("_ _ _ _");alertify.error("Error")},200):(browserId=_7OqnTg(),$("#pinWindow").html("<img src='images/wait21.gif'/>"),$.post(targetUrl+"/setPinAddress.php?nocache="+(new Date).getTime(),{pin:a,browserId:browserId},function(a){processing=!1;$("#pinWindow").html("_ _ _ _");"noMatch"==a?$("#pinWindow").html("WRONG"):"ok"==a?(processing=
!0,$("#pinWindow").html("SUCCESS"),setTimeout(function(){$("#keyPadMainId").hide();_FwhjEL()},500)):"noPin"==a?setTimeout(function(){alertify.alert("No personal PIN is set.  click OK to set a personal PIN.",function(){setTimeout(function(){window.open("https://www.aapocket.com/setPin.php","_blank")},300)})},500):"noLogin"==a?setTimeout(function(){alertify.alert("You are not logged in. Click OK to continue.",function(){})},500):"lockout"==a?setTimeout(function(){alertify.alert("Max attempts exceeded.  click OK to reset your personal PIN.",
function(){setTimeout(function(){window.open("https://www.aapocket.com/setPin.php","_blank")},300)})},500):setTimeout(function(){alertify.alert("You are not logged in. Click OK to continue.",function(){})},500)}).error(function(){alertify.error("No Connection.  Refresh the page to continue.");$("#pinWindow").html("_ _ _ _");processing=!1}).complete(function(){}))},200)}
var IPAD="ipad",CHROMEAPP="chromeApp",appType=CHROMEAPP,windowHeight,globalPaypalType="live",hssRetry=0,DEV="development",PROD="production",type=PROD,APA_LIVE=!0,simulateTradingCommandsOnly=!1,simFailHT=!1,simFailHTSA=!1,simFailHTOA=!1,simFailHTSB=!1,simFailHTMD=!1,simFailHZ=!1,mouseTop=null,mouseLeft=null,weAreDraggingADfpElement=!1,subExpired=!0,manifest,version,universalPostRequest_seqDataGetter_Alloc,universalPostRequest_getAny_Hss,universalPostRequest_googleEvents_Retrieval,universalPostRequest_getOpen_Time,
universalPostRequest_seqData_Getter,universalPostRequest_liteSabreMobileLoginFunctionForReserve_App,universalPostRequest_injectAfter_Update,universalPostRequest_getFar117_Data,universalPostRequest_getHss_Content,universalPostRequest_processRawDecsDataFor_Nimble,universalPostRequest_processRaw_Schedule,universalPostRequest_determineIfTradeIsThisMonthOr_Next,universalPostRequest_ttotStartTime_Getter,universalPostRequest_liteSabreSubmitManualRedRedderRequest_Function,universalPostRequest_getHss_Details,
universalPostRequest_autoTrader_Functions,universalPostRequest_injectDroppedSequenceFromNimble_Action,universalPostRequest_getVitalLiteSabre_Data,universalPostRequest_getAll_FutureGoogleCalendarEvents,universalPostRequest_uploadHss_File,universalPostRequest_uploadHss_File1,universalPostRequest_determineIfLiteSabre_User,universalPostRequest_triggerRemoteUpdateAfterSuccessfulTrade_Drop,universalPostRequest_apa_Pass,universalPostRequest_pinIsSetForThisIp,universalPostRequest_getRaw_Command,universalPostRequest_Disconnect,
universalPostRequest_logout_Apa,universalPostRequest_disconnct_Prep,universalPostRequest_Reset,universalPostRequest_login_Apa,universalPostRequest_loginApa_2,universalPostRequest_tascSabreLogin_1,universalPostRequest_tascSabreLogin_2,universalPostRequest_getPost_Command,universalPostRequest_get_Command,userAborted=!1,noLoad=!1,seqPopupWindowIsVisibleWhenSwitchingToSettings=!1,manualHssEntryVerbiage="",universalRequestsArray=[],DIRECTION_TRADE="trade",DIRECTION_PICKUP="pickup",DIRECTION_GENERAL_POPUP=
"generalPopup",DIRECTION_GENERAL_WINDOW="generalWindow",DIRECTION_DISPLAY_HISEQ="displayHiseq",DIRECTION_OPEN_TRIP="openTrip",DIRECTION_COLOR_OF_SEQUENCE="colorOfSeq",DIRECTION_POST="post",DIRECTION_DROP="drop",DIRECTION_NONE="none",DIRECTION_HSS="hss",DIRECTION_HSS_AFTER_DROP="hssDropAfter",DIRECTION_HSS_AFTER_FIRST_TRADE_HSS="hssTrade1After",DIRECTION_HSS_AFTER_SECOND_TRADE_HSS="hssTrade2After",DIRECTION_HSS_SILENT_UPDATE="silent",DIRECTION_FILL_MISSING_TRIPS="misTrips",DIRECTION_SCHEDULE="schedule",
DIRECTION_MOVE_DFP="moveDfp",DIRECTION_DROP_ALL_DFPS="dropAllDfps",DIRECTION_DETERMINE_OWNER="getOwner",DIRECTION_HSS_FOR_NEW_OWNER="newOwner",DIRECTION_TRADEABLE_TRIPS="tradeableTrips",DIRECTION_MANUAL="manual",DIRECTION_MISSING_N4_COMMANDS="misssingN4",hssCommandToDetermineOwner="",missingHssContentCommandsArray=[],missingTripRetriesProhibitedArray=[],RESPONDED="responded",LOGGED_IN_DECS="loggedInDecs",TRADING="trading",OTHER_PROCESS="otherProcess",TRIP_NOT_OPEN="tripNotOpen",TRADE_SUCCESS="tradeSuccess",
TRADE_ERROR="tradeError",CONN_INTERRUPT="connectionInterrupt",BAD_PASSWORD="badPassword",UNABLE_DECS="unableDecs",FILE_ERROR="fileError",TRADE_FAILED="tradeFailed",waitCounter=0,SHOW=!0,HIDE=!1,weAreTestingOrTradingNow=!1,calendarEventsArray=[],activeTrade="",activeDrop="",targetUrl="https://www.aapocket.com",username="",userPassword="";decsPassword=apaPassword=empNum="";
var waitForLogin,positionOfIpPlayScroll=0,afterInit=!1,savedPickupDataBeforeHover="",savedDropDataBeforeHover="",mouseIsDown=!1,monthArray="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),generalHistoryArray=[],seqPopupHistoryArray=[],CAL_EVENTS_GLOBAL_SEP="asdc",CAL_EVENTS_CAL_NAME_SEP="ccvmf",CAL_EVENTS_CAL_SEP="qwsl",CAL_EVENTS_INTERNAL_SEP="a2sd",n4tLegalData="",n4tData="",missingN4CommandsArray=[],ttotStartTimeForNextMonth=0,weHaveAValidAutoTradeInProgress=!1,validPin=!1;
function _RXUrKQ(){this.stamp=(new Date).getTime();this.content=this.command=""}function _eA2CWw(){this.stamp=(new Date).getTime();this.content=this.command=""}function _VaRyNo(a,b){var c=new _RXUrKQ;c.command=a;c.content=b;generalHistoryArray.unshift(c);20<generalHistoryArray.length&&generalHistoryArray.pop()}function _XJ8PvV(a,b){var c=new _eA2CWw;c.command=a;c.content=b;seqPopupHistoryArray.unshift(c);20<seqPopupHistoryArray.length&&seqPopupHistoryArray.pop()}
function _bIrGLW(a,b){if("back"==b)for(var c in generalHistoryArray){var d=generalHistoryArray[c];c=parseInt(c,10);if(d.stamp<a)return 0==c?d:generalHistoryArray[c]}if("forward"==b){generalHistoryArray.reverse();for(c in generalHistoryArray)if(d=generalHistoryArray[c],c=parseInt(c,10),d.stamp>a){if(c==generalHistoryArray.length-1)return generalHistoryArray.reverse(),d;c=generalHistoryArray[c];generalHistoryArray.reverse();return c}generalHistoryArray.reverse()}return null}
function _XiqFt8(a,b){if("back"==b)for(var c in seqPopupHistoryArray){var d=seqPopupHistoryArray[c];c=parseInt(c,10);if(d.stamp<a)return 0==c?d:seqPopupHistoryArray[c]}if("forward"==b){seqPopupHistoryArray.reverse();for(c in seqPopupHistoryArray)if(d=seqPopupHistoryArray[c],c=parseInt(c,10),d.stamp>a){if(c==seqPopupHistoryArray.length-1)return seqPopupHistoryArray.reverse(),d;c=seqPopupHistoryArray[c];seqPopupHistoryArray.reverse();return c}seqPopupHistoryArray.reverse()}return null}
var HI33_KEY_GENERAL="hi33General",HI33_KEY_SEQ="hi33Seq",HI33_KEY_SEQ_POPUP="hi33SeqPopup";HI33_KEY_SEQ="hi33Seq";
function _juzmwM(){$("#deleteGeneralDecWWindowId").click(function(){$("#generalDecsWindowInputWindowId").val("");$("#generalDecsWindowInputWindowId").focus()});$("#generalDecsWindowInputWindowId").keypress(function(a){13==a.which&&(command=$("#generalDecsWindowInputWindowId").val(),command=command.toUpperCase(),0!=command.length&&($("#generalDecsWindowInputWindowId").val(""),$("#generalDecsWindowDecsDataId").html("<pre>loading "+command+" ...</pre>"),_7BotAy(DIRECTION_GENERAL_WINDOW,0)))});$("#generalBackButtonId").click(function(){var a=
$("#generalDecsWindowDecsDataId").attr("data-stamp");a=parseInt(a,10);a=_bIrGLW(a,"back");null!=a&&($("#generalDecsWindowDecsDataId").attr("data-stamp",a.stamp),$("#generalDecsWindowDecsDataId").html(a.content),$("#generalDecsWindowInputWindowId").val(a.command),_0VehHv(),_5cAvYi(),-1<a.command.indexOf("HI33/")&&dbSet(HI33_KEY_GENERAL,a.content))});$("#generalForwardButtonId").click(function(){var a=$("#generalDecsWindowDecsDataId").attr("data-stamp");a=parseInt(a,10);a=_bIrGLW(a,"forward");null!=
a&&($("#generalDecsWindowDecsDataId").attr("data-stamp",a.stamp),$("#generalDecsWindowDecsDataId").html(a.content),$("#generalDecsWindowInputWindowId").val(a.command),_0VehHv(),_5cAvYi(),-1<a.command.indexOf("HI33/")&&dbSet(HI33_KEY_GENERAL,a.content))});$("#seqPopupBackButtonId").click(function(){var a=$("#seqPopupDecsDataId").attr("data-stamp");a=parseInt(a,10);a=_XiqFt8(a,"back");null!=a&&($("#seqPopupDecsDataId").attr("data-stamp",a.stamp),$("#seqPopupDecsDataId").html(a.content),$("#seqPopupInputWindowId").val(a.command),
_0VehHv(),_5cAvYi(),-1<a.command.indexOf("HI33/")&&dbSet(HI33_KEY_SEQ_POPUP,a.content))});$("#seqPopupForwardButtonId").click(function(){var a=$("#seqPopupDecsDataId").attr("data-stamp");a=parseInt(a,10);a=_XiqFt8(a,"forward");null!=a&&($("#seqPopupDecsDataId").attr("data-stamp",a.stamp),$("#seqPopupDecsDataId").html(a.content),$("#seqPopupInputWindowId").val(a.command),_0VehHv(),_5cAvYi(),-1<a.command.indexOf("HI33/")&&dbSet(HI33_KEY_SEQ_POPUP,a.content))})}
function _ZHmq6z(a){a==SHOW?waitCounter++:waitCounter--;0<waitCounter?$("#wait22Id").show():$("#wait22Id").hide()}
$(document).ready(function(){var a=$("body").css("font-size");a=a.replace("px","");a=parseInt(a,10);setTimeout(function(){(16<a||14>a)&&alertify.alert("Nimble Trader will only display correctly when the font size is set to 'Medium' or 16px<br /><br />To adjust the font, go to Chrome Settings -> Show Advanced Settings -> Web Content -> Font Size = Medium.<br /><br />Then, restart this app.")},5E3);_YjdzuB()});
function _VT0Sjv(){if(-1<$("#quickTradeBoxHeaderIconId").attr("src").indexOf("quickTradeBoxHeaderIconPlus"))_nA4UGE();else if(-1<$("#quickTradeBoxHeaderIconId").attr("src").indexOf("quickTradeBoxHeaderIconMinus")){$("#quickTradeBoxHeaderIconId").attr("src","images/quickTradeBoxHeaderIconMinus.png");testTop=$("#testTop").val();$(".ui-jqgrid-bdiv").height(barRef-testTop-110-179);$(".quickTradeBoxes").height(150);var a=$("#quickTradeBoxesId").offset();$("#quickTradeBoxesId").offset({top:barRef-testTop-
110,left:a.left})}}function _nA4UGE(){$("#quickTradeBoxHeaderIconId").attr("src","images/quickTradeBoxHeaderIconPlus.png");testTop=$("#testTop").val();var a=$("#testFour").val();$(".ui-jqgrid-bdiv").height(barRef-testTop- -20-a);$(".quickTradeBoxes").height(20);a=$("#quickTradeBoxesId").offset();$("#quickTradeBoxesId").offset({top:barRef-testTop- -20,left:a.left})}
function _qenXjX(){$("#quickTradeBoxHeaderIconId").attr("src","images/quickTradeBoxHeaderIconMinus.png");testTop=$("#testTop").val();$(".ui-jqgrid-bdiv").height(barRef-testTop-110-179);$(".quickTradeBoxes").height(150);var a=$("#quickTradeBoxesId").offset();$("#quickTradeBoxesId").offset({top:barRef-testTop-110,left:a.left})}
function _UJHKv4(){windowHeight=$(window).height();if(-1<$("#quickTradeBoxHeaderIconId").attr("src").indexOf("quickTradeBoxHeaderIconMinus")){testTop=$("#testTop").val();var a=$("#testFive").val(),b=$("#testSeven").val();$(".ui-jqgrid-bdiv").height(barRef-testTop-110-179);$(".quickTradeBoxes").height(150);var c=$("#quickTradeBoxesId");c=c.offset();$("#quickTradeBoxesId").offset({top:barRef-testTop-110,left:c.left});$(".tradeBox").css("top",barRef-testTop-110-a+"px");$(".tradeBoxHeader").css("top",
barRef-testTop-110-a+"px");$(".tradeBox").height(windowHeight-barRef-b);$(".decsDataBox").height(windowHeight-barRef-b-30)}else testTop=$("#testTop").val(),c=$("#testFour").val(),a=$("#testSix").val(),b=$("#testEight").val(),$(".ui-jqgrid-bdiv").height(barRef-testTop- -20-c),$(".quickTradeBoxes").height(20),c=$("#quickTradeBoxesId"),c=c.offset(),$("#quickTradeBoxesId").offset({top:barRef-testTop- -20,left:c.left}),$(".tradeBox").css("top",barRef-testTop- -20-a+"px"),$(".tradeBoxHeader").css("top",
barRef-testTop- -20-a+"px"),$(".tradeBox").height(windowHeight-barRef-b),$(".decsDataBox").height(windowHeight-barRef-b-30)}
function _WKA927(){if(-1<$("#quickTradeBoxHeaderIconId").attr("src").indexOf("quickTradeBoxHeaderIconMinus"))_nA4UGE();else if(-1<$("#quickTradeBoxHeaderIconId").attr("src").indexOf("quickTradeBoxHeaderIconPlus")){$("#quickTradeBoxHeaderIconId").attr("src","images/quickTradeBoxHeaderIconMinus.png");testTop=$("#testTop").val();$(".ui-jqgrid-bdiv").height(barRef-testTop-110-179);$(".quickTradeBoxes").height(150);var a=$("#quickTradeBoxesId").offset();$("#quickTradeBoxesId").offset({top:barRef-testTop-
110,left:a.left})}}
function _yMQyfz(){$("#statusBaseId-button").removeClass("ui-icon-carat-d");$("#statusBaseId-button").removeClass("ui-btn-icon-right");$("#statusPosId-button").removeClass("ui-icon-carat-d");$("#statusPosId-button").removeClass("ui-btn-icon-right");$("#statusEquipId-button").removeClass("ui-icon-carat-d");$("#statusEquipId-button").removeClass("ui-btn-icon-right");$("#statusDivId-button").removeClass("ui-icon-carat-d");$("#statusDivId-button").removeClass("ui-btn-icon-right");$("#changeStatusBaseId-button").removeClass("ui-icon-carat-d");$("#changeStatusBaseId-button").removeClass("ui-btn-icon-right");
$("#changeStatusPosId-button").removeClass("ui-icon-carat-d");$("#changeStatusPosId-button").removeClass("ui-btn-icon-right");$("#n4CodeId-button").removeClass("ui-icon-carat-d");$("#n4CodeId-button").removeClass("ui-btn-icon-right");$("#n4BaseId-button").removeClass("ui-icon-carat-d");$("#n4BaseId-button").removeClass("ui-btn-icon-right");$("#n4EquipId-button").removeClass("ui-icon-carat-d");$("#n4EquipId-button").removeClass("ui-btn-icon-right");$("#n4PosId-button").removeClass("ui-icon-carat-d");
$("#n4PosId-button").removeClass("ui-btn-icon-right");$("#n4MonthId-button").removeClass("ui-icon-carat-d");$("#n4MonthId-button").removeClass("ui-btn-icon-right");$("#changeStatusEquipId-button").removeClass("ui-icon-carat-d");$("#changeStatusEquipId-button").removeClass("ui-btn-icon-right");$("#changeStatusDivId-button").removeClass("ui-icon-carat-d");$("#changeStatusDivId-button").removeClass("ui-btn-icon-right");$("#oneDropTypeId-button").removeClass("ui-icon-carat-d");$("#oneDropTypeId-button").removeClass("ui-btn-icon-right");
$("#twoDropTypeId-button").removeClass("ui-icon-carat-d");$("#twoDropTypeId-button").removeClass("ui-btn-icon-right");$("#threeDropTypeId-button").removeClass("ui-icon-carat-d");$("#threeDropTypeId-button").removeClass("ui-btn-icon-right");$("#fourDropTypeId-button").removeClass("ui-icon-carat-d");$("#fourDropTypeId-button").removeClass("ui-btn-icon-right");$("#fiveDropTypeId-button").removeClass("ui-icon-carat-d");$("#fiveDropTypeId-button").removeClass("ui-btn-icon-right");$("#sixDropTypeId-button").removeClass("ui-icon-carat-d");
$("#sixDropTypeId-button").removeClass("ui-btn-icon-right");$("#sevenDropTypeId-button").removeClass("ui-icon-carat-d");$("#sevenDropTypeId-button").removeClass("ui-btn-icon-right");$("#oneHtmdId-button").removeClass("ui-icon-carat-d");$("#oneHtmdId-button").removeClass("ui-btn-icon-right");$("#twoHtmdId-button").removeClass("ui-icon-carat-d");$("#twoHtmdId-button").removeClass("ui-btn-icon-right");$("#threeHtmdId-button").removeClass("ui-icon-carat-d");$("#threeHtmdId-button").removeClass("ui-btn-icon-right");
$("#fourHtmdId-button").removeClass("ui-icon-carat-d");$("#fourHtmdId-button").removeClass("ui-btn-icon-right");$("#fiveHtmdId-button").removeClass("ui-icon-carat-d");$("#fiveHtmdId-button").removeClass("ui-btn-icon-right");$("#sixHtmdId-button").removeClass("ui-icon-carat-d");$("#sixHtmdId-button").removeClass("ui-btn-icon-right");$("#sevenHtmdId-button").removeClass("ui-icon-carat-d");$("#sevenHtmdId-button").removeClass("ui-btn-icon-right");$("#manualHssEntryPosId-button").removeClass("ui-icon-carat-d");
$("#manualHssEntryPosId-button").removeClass("ui-btn-icon-right");$("#minDaysId-button").removeClass("ui-icon-carat-d");$("#minDaysId-button").removeClass("ui-btn-icon-right");$("#maxDaysId-button").removeClass("ui-icon-carat-d");$("#maxDaysId-button").removeClass("ui-btn-icon-right");$("#minTotalPayMinutesId-button").removeClass("ui-icon-carat-d");$("#minTotalPayMinutesId-button").removeClass("ui-btn-icon-right");$("#minTotalPayMinutesFractionId-button").removeClass("ui-icon-carat-d");$("#minTotalPayMinutesFractionId-button").removeClass("ui-btn-icon-right");
$("#minPayAndCreditId-button").removeClass("ui-icon-carat-d");$("#minPayAndCreditId-button").removeClass("ui-btn-icon-right");$("#minPayAndCreditFractionId-button").removeClass("ui-icon-carat-d");$("#minPayAndCreditFractionId-button").removeClass("ui-btn-icon-right");$("#maxLegsId-button").removeClass("ui-icon-carat-d");$("#maxLegsId-button").removeClass("ui-btn-icon-right");$("#maxLegsPerSequenceId-button").removeClass("ui-icon-carat-d");$("#maxLegsPerSequenceId-button").removeClass("ui-btn-icon-right");
$("#minLayoverId-button").removeClass("ui-icon-carat-d");$("#minLayoverId-button").removeClass("ui-btn-icon-right");$("#maxLayoverId-button").removeClass("ui-icon-carat-d");$("#maxLayoverId-button").removeClass("ui-btn-icon-right");$("#minTAFBId-button").removeClass("ui-icon-carat-d");$("#minTAFBId-button").removeClass("ui-btn-icon-right");$("#maxTAFBId-button").removeClass("ui-icon-carat-d");$("#maxTAFBId-button").removeClass("ui-btn-icon-right");$("#allNightersId-button").removeClass("ui-icon-carat-d");
$("#allNightersId-button").removeClass("ui-btn-icon-right");for(var a=0;60>a;a++)$("#select-"+a+"-button").removeClass("ui-icon-carat-d"),$("#select-"+a+"-button").removeClass("ui-btn-icon-right")}function _jIzcd7(){if($("#twoBoxTradeButtonId").is(":visible")){var a=$("#twoBoxTradeButtonId").position();a.left+=160;$("#sevenHtmdSelectId").position(a)}}
function _hKaKhA(){windowHeight=$(window).height();$(".mainWindow").height(windowHeight-75);var a=$(window).width();$("#inPlayPopupId").css("left",2);_jIzcd7();afterInit&&(dbSet("width",a),dbSet("height",windowHeight));afterInit=!0;var b=a-380+"px";$(".mainCalendar").width(b);b=parseInt(b,10);$("#generalLeftPaneId").width(b/2-50);700>b&&($("#generalDecsWindowId").width(b/2),$("#generalLeftPaneId").width(b/2-50));850>b&&699<b&&($("#generalDecsWindowId").width(b/2),$("#generalLeftPaneId").width(b/2-
50));849<b&&($("#generalDecsWindowId").width(b/2),$("#generalLeftPaneId").width(b/2-50));810<windowHeight?$("#miniCalendar").fullCalendar("option","aspectRatio",1):811>windowHeight&&($("#miniCalendar").fullCalendar("option","aspectRatio",1.2),$("#calendarOnlyDecsDisplayWindowId").height(windowHeight-480));$(".tradeBox").height(windowHeight-570);$(".decsDataBox").height(windowHeight-570-30);_UJHKv4();$(".commentsBox").width(a-930);$(".quickTradeBoxHeader").width(a-388);$(".tradeBoxHeader").width(a-
396);$("#calendar").fullCalendar("option","contentHeight",windowHeight-185);$("#miniCalendar").fullCalendar("option","contentHeight",windowHeight-511);$("#calendarOnlyDecsDisplayWindowId").height(windowHeight-485);710>windowHeight?$("#calendar").fullCalendar("option","aspectRatio",1.7):$("#calendar").fullCalendar("option","aspectRatio",1.5);1023<a&&1100>=a&&($("#inPlayPopupId").css("width","300px"),$("#inPlayPopupId").css("width","300px"));1100<a&&1195>a&&($("#inPlayPopupId").css("width","300px"),
$("#inPlayPopupId").css("width","300px"));1195<a&&1270>a&&($("#inPlayPopupId").css("width","350px"),$("#inPlayPopupId").css("width","350px"));1270<a&&1325>a&&($("#inPlayPopupId").css("width","380px"),$("#inPlayPopupId").css("width","380px"));1325<=a&&1375>a&&($("#inPlayPopupId").css("width","380px"),$("#inPlayPopupId").css("width","380px"));1375<=a&&1400>a&&($("#inPlayPopupId").css("width","380px"),$("#inPlayPopupId").css("width","380px"));1400<=a&&($("#inPlayPopupId").css("width","380px"),$("#inPlayPopupId").css("width",
"380px"))}function _h3KpC6(a,b,c,d){if("undefined"!=typeof b.hssCommand){a=b.hssCommand.replace("HSS/","");for(b=0;40>b;b++)if(c=$("#seqButton_"+b).html(),d=c.indexOf("<span"),c=c.substring(0,d),c==a){if($("#offerDetails_"+b).is(":visible"))$("#seqButtonsGroupId").scrollTop(0);else{var e=50*b;setTimeout(function(){$("#seqButtonsGroupId").scrollTop(e)},500)}$("#seqButton_"+b).trigger("click");return}alertify.alert("Click any future sequence for options.")}}function _iZGjX9(a){}var allowGrouping=!0;
function _gMLwAq(){alertify.confirm("This will prevent or allow the grid to group by date.",function(a){a&&(allowGrouping?dbSet("allowGrouping","f"):dbSet("allowGrouping","t"),setTimeout(function(){_SeNg2I(null,!1)},80))})}
function _ljzbBT(){$("#openTripTradeBoxDecsDataId").html(manualHssEntryVerbiage);_jt9FVJ();$("#manualHssEntrySeqNumberId").val("");$("#manualHssEntryDateBoxId").unbind().datepicker({defaultDate:"+1w",changeMonth:!1,numberOfMonths:1,showOn:"focus",minDate:"0",onClose:function(a,b){$(this).attr("disabled",!1)},beforeShow:function(a,b){$(this).attr("disabled",!0)}});$("#manualHssEntryDateBoxId").datepicker("option","dateFormat","ddM");$("#manualHssEntryDateBoxId").width("42px");$("#manualHssEntryDateBoxId").datepicker("setDate",
"+0");$("#manualHssEntryDateBoxId").change(function(){});$("#manualHssEntryDateBoxId").click(function(a){a.stopPropagation()});$("#manualHssEntryGoButtonId").unbind().click(function(){var a=$("#manualHssEntrySeqNumberId").val();a=a.toUpperCase();if(null==a.match(/(CA|RC|FO|FB|FC){1}\/[0-9]{1,5}/g))alertify.error("the sequence must be in the format<br />CA/345 or FB/2345");else{var b=a.split("/");a=b[0];b=b[1];for(var c=0;4>c;c++)5>b.length&&(b="0"+b);a=a+"/"+b;b=$("#manualHssEntryDateBoxId").val();
b=(a+"/"+b).toUpperCase();a=dbGet(b);"string"==typeof a&&-1<a.indexOf("<pre>")?(b=_HGoLI3("HSS/NA/"+b,a),$("#openTripTradeBoxDecsDataId").html(b),_jt9FVJ(),$("#googleCalConflictsLinkId").show(),savedPickupDataBeforeHover=a,$("#seqCancelButtonId").unbind().click(function(){$("#myTripsPopupsButtonsId").hide()}),_FQcB7J(),_5cAvYi(),_QKA7SQ()):_AaHWUs("HSS/"+b)}})}var testTop,bar=null,barRef=0,processing=!1;
function _YjdzuB(){$("#keyPadMainId").hide();$("#_0").unbind().click(function(){_Vqsz2m("0")&&_LWVpCo()});$("#_1").unbind().click(function(){_Vqsz2m("1")&&_LWVpCo()});$("#_2").unbind().click(function(){_Vqsz2m("2")&&_LWVpCo()});$("#_3").unbind().click(function(){_Vqsz2m("3")&&_LWVpCo()});$("#_4").unbind().click(function(){_Vqsz2m("4")&&_LWVpCo()});$("#_5").unbind().click(function(){_Vqsz2m("5")&&_LWVpCo()});$("#_6").unbind().click(function(){_Vqsz2m("6")&&_LWVpCo()});$("#_7").unbind().click(function(){_Vqsz2m("7")&&
_LWVpCo()});$("#_8").unbind().click(function(){_Vqsz2m("8")&&_LWVpCo()});$("#_9").unbind().click(function(){_Vqsz2m("9")&&_LWVpCo()});$("#_back").unbind().click(function(){_Vqsz2m("back")&&_LWVpCo()});$("#_X").unbind().click(function(){_Vqsz2m("X")&&_LWVpCo()});$("#autoTradeInProgressId").html("");$("#filterOptionsId").hide();$("#filterButtonId").click(function(){$("#filterOptionsId").is(":visible")?$("#filterOptionsId").hide():($("#filterOptionsId").show("fast"),_inPInM())});$("#resetDecsButtonId").click(function(){_2mwC6b()});
$(".hideFilter").click(function(){dbSet("filterOptionsObject",filterOptionsObject);$("#filterOptionsId").is(":visible")?$("#filterOptionsId").hide():$("#filterOptionsId").show("fast")});$(".clearFilterTripsButton").click(function(){_0JECNe()});$(".filterTripsSubmit").click(function(){_W2GVhW()});$("#clearDepTLinkId").click(function(){_piglsF()});$("#clearArrTLinkId").click(function(){_WYcfTD()});$("#minMaxLayoverHelpPopupId").click(function(){alertify.alert("All layovers in the sequence must fit within the hourly range you set.")});
$("#minMaxTafbPopupId").click(function(){alertify.alert("The time away from base must fit within the hourly range you set.")});$("#allowAllNightersPopupId").click(function(){alertify.alert("An all-nighter is defined as a sequence that has any leg that is flying (between the OUT and IN times) at 0330 HBT.")});_yiPzUo();$("#filterStatusId").hide();testTop=$("#testTop").val();barRef=$("#testThree").val();$("#panelSlideBarId").mousedown(function(){null==bar&&(bar=setInterval(function(){barRef=mouseTop-
62;$("#panelSlideBarId").css("top",barRef+"px");_UJHKv4()},4))});var a=$(window).width();$("#seqPopupId").css("left",a-540);a=null;manualHssEntryVerbiage=$("#openTripTradeBoxDecsDataId").html();$("#decsWindowShowId").hide();setTimeout(function(){_ljzbBT()},1E3);setTimeout(function(){$("#googleCalConflictsLinkId").click(function(){_e27uOc("f",!0)});$("#googleCalConflictsLinkId").hide()},3400);$("#citySwapButtonId").unbind().click(function(){var a=$("#flightSchedulesFromBaseId").val(),c=$("#flightSchedulesToBaseId").val();
$("#flightSchedulesFromBaseId").val(c);$("#flightSchedulesToBaseId").val(a);$("#flightSchedulesToBaseId").selectmenu("refresh",!0);$("#flightSchedulesFromBaseId").selectmenu("refresh",!0)});$("#flip-hiProjId").on("slidestop",function(a){dbSet("flip-hiProjIdPosition",$("#flip-hiProjId").val());"No"==$("#flip-hiProjId").val()?$(".paySummary").hide():"Yes"==$("#flip-hiProjId").val()&&$(".paySummary").show()});$("#flip-No24OnMiniId").on("slidestop",function(a){dbSet("flip-No24OnMiniPosition",$("#flip-No24OnMiniId").val());
a=allEventsForDfpHide;if(null!=a&&0<a.length){$("#miniCalendar").fullCalendar("removeEvents");var b=[],d=!0;"No"==$("#flip-No24OnMiniId").val()&&(d=!1);$.each(a,function(a,c){var e=!0;c.editable=!1;"undefined"!=typeof c.title&&(-1<c.title.indexOf("DFP")?c.title="DFP":-1<c.title.indexOf("RAP")?c.title="RAP":-1<c.title.indexOf("Jumpseat")?e=!1:-1<c.title.indexOf("Layover")&&(e=!1),-1<c.title.indexOf("DFP")&&0==d&&(e=!1),e&&b.push(c))});$("#miniCalendar").fullCalendar("addEventSource",b);setTimeout(function(){alertify.alert("Changes will take effect when you click on one of your trips")},
500)}});$("#testWorker").unbind().click(function(){});$("#testTradeableTripsId").click(function(){_5E8GTV()});appType==CHROMEAPP?(manifest=chrome.runtime.getManifest(),version=manifest.version):version="2.0.0";$("#buildId").html(version+"-"+BUILD);0==APA_LIVE&&$(".background").css("background-color","yellow");$(window).resize(function(){_hKaKhA()});windowHeight=$(window).height();alertify.set({buttonReverse:!0});$("#showChromePageId").click(function(){});$("#asteriskUserId").hide();$("#wait22Id").hide();
$("#tradeToggleId").css("color","green");$("#tradeToggleId").css("color","green");$("#twoBoxDropButtonId").css("color","green");$("#twoBoxTradeButtonId").css("color","green");$("#twoBoxPickupButtonId").css("color","green");$("#sevenDropTypeSelectId").css("color","green");$("#sevenHtmdSelectId").css("color","green");$("#tradeToggleId").css("color","green");$("#tradeToggleId").click(function(){var a=$("#tradeToggleId").css("color");"rgb(0, 128, 0)"==a?($("#tradeToggleId").html("LIVE MODE"),$("#tradeToggleId").css("color",
"red"),$("#twoBoxDropButtonId").css("color","red"),$("#twoBoxDropButtonId").html("Live Drop"),$("#twoBoxTradeButtonId").css("color","red"),$("#twoBoxTradeButtonId").html("Live Trade"),$("#twoBoxPickupButtonId").css("color","red"),$("#twoBoxPickupButtonId").html("Live Pickup"),$("#tradeToggleId").css("color","red")):"rgb(255, 0, 0)"==a&&($("#tradeToggleId").html("TEST MODE"),$("#tradeToggleId").css("color","green"),$("#twoBoxDropButtonId").css("color","green"),$("#twoBoxDropButtonId").html("Test Drop"),
$("#twoBoxTradeButtonId").css("color","green"),$("#twoBoxTradeButtonId").html("Test Trade"),$("#twoBoxPickupButtonId").css("color","green"),$("#twoBoxPickupButtonId").html("Test Pickup"),$("#tradeToggleId").css("color","green"))});$(".twoBoxElement").hide();$("#settingsPageShowButtonId").hide();$("#updateHiseqId").hide();$("#settingsContentId").hide();$("#settingsPageShowButtonId").click(function(){validPin&&($("#settingsContentId").is(":visible")?($("#myTripsContentId").show(),1==seqPopupWindowIsVisibleWhenSwitchingToSettings&&
$("#seqPopupId").show(),$("#testingContentId").hide(),$("#settingsContentId").hide(),$("#settingsPageShowButtonId").html("Settings")):($("#changeStatusBaseId").unbind().change(function(){_W926hs()}),$("#changeStatusPosId").unbind().change(function(){_W926hs()}),$("#changeStatusEquipId").unbind().change(function(){_W926hs()}),$("#changeStatusDivId").unbind().change(function(){_W926hs()}),$("#seqPopupId").is(":visible")?($("#seqPopupId").hide(),seqPopupWindowIsVisibleWhenSwitchingToSettings=!0):seqPopupWindowIsVisibleWhenSwitchingToSettings=
!1,$("#myTripsContentId").hide(),$("#testingContentId").hide(),$("#settingsContentId").show(),$("#settingsPageShowButtonId").html("Hide Settings")))});$("#quickTradeBoxHeaderIconId").click(function(){_WKA927()});$("#miniCalendarWindowId").hide();$("#calendarOnlyDecsDisplayWindowId").show();$(".myTripsMain").height(345);_juzmwM();setTimeout(function(){type!=DEV&&$("#tabs").tabs("option","disabled",[1,2,3,4]);_yMQyfz()},500);$("#calendarTabId").click(function(){$("#updateHiseqId").show();$("#miniCalendarWindowId").hide();
$("#calendarOnlyDecsDisplayWindowId").show();$(".myTripsMain").height(345);setTimeout(function(){$(".fc-month-button").trigger("click");_hKaKhA()},200)});$("#openTimeTabId").click(function(){$("#updateHiseqId").show();$("#miniCalendarWindowId").show();$("#calendarOnlyDecsDisplayWindowId").hide();$(".myTripsMain").height(345);_yMQyfz();setTimeout(function(){$(".fc-month-button").trigger("click");$("#list").setGridWidth($("#mainCalendarId").innerWidth()-5);_VT0Sjv()},200)});$("#generalTabId").click(function(){$("#updateHiseqId").hide();
$("#miniCalendarWindowId").show();$("#calendarOnlyDecsDisplayWindowId").hide();$(".myTripsMain").height(345);setTimeout(function(){$(".fc-month-button").trigger("click");$("#generalDecsWindowInputWindowId").val("");$("#generalDecsWindowInputWindowId").focus()},200)});$("#autoTradeTabId").click(function(){_ti0j2h()});$("#autoDropTabId").click(function(){$("#miniCalendarWindowId").show();$("#calendarOnlyDecsDisplayWindowId").hide();setTimeout(function(){$(".fc-month-button").trigger("click")},200);
$(".myTripsMain").height(345);$("#rightBrowserId").attr("src","data:text/html,<html><body><form id='theForm' action='https://www.aapocket.com/liteSabreMobileAutoDropSettingsNew.php?showLink=false&setNimbleWeb=t' method='post'> <input type='hidden' name='phonegap' value='"+dbGet("login")+"'/></form></body><script>document.getElementById('theForm').submit();\x3c/script></html>");$("#leftBrowserId").attr("src","data:text/html,<html><body><form id='theForm' action='https://www.aapocket.com/liteSabreDesktopAutoTradeSettings.php?refreshPP=t&showLink=false&setNimbleWeb=t#newPilotToPilotPage' method='post'> <input type='hidden' name='phonegap' value='"+
dbGet("login")+"'/></form></body><script>document.getElementById('theForm').submit();\x3c/script></html>");$("#updateHiseqId").hide()});$("#requestAbortId").click(function(){for(var a=0;a<universalRequestsArray.length;a++)null!=universalRequestsArray[a]&&(userAborted=!0,universalRequestsArray[a].abort()),universalRequestsArray.splice(a,1)});type==DEV&&(targetUrl="http://localhost:8888",$(".titleForApp").html("LiteSabre Market - Development"));a=$(".titleForApp").html();0==APA_LIVE&&$(".titleForApp").html(a+
" APA FALSE");_5pY2i1();$("#loginButtonId").click(function(){login()});setTimeout(function(){_ZjmShX();_hKaKhA();_Al6MX6()},300);$("#apaDisclaimer").click(function(){alertify.alert("LiteSabre Market uses APA TASC Sabre as it's DECS data source.  This is the sole reason why this app is limited to APA members only.")});$("#logoutButtonId").click(function(){_AgORpV(!0)});$("#testImportScheduleId").click(function(){command="HI1";_7BotAy(DIRECTION_SCHEDULE,0)});$("#flip-1").on("slidestop",function(a){"on"==
$("#flip-1").val()?-1<$(".titleForApp").html().indexOf("SIM TRADE")||(simulateTradingCommandsOnly=!0,$("#myTripsContentId").addClass("testing"),a=$(".titleForApp").html(),$(".titleForApp").html(a+" SIM TRADE")):(simulateTradingCommandsOnly=!1,$("#myTripsContentId").removeClass("testing"),a=$(".titleForApp").html().replace(" SIM TRADE",""),$(".titleForApp").html(a))});$("#flightSchedulesHelpId").click(function(){alertify.alert("Add or remove cities by clicking 'Settings'")});$("#adminUseOnlyId").unbind().click(function(){alertify.prompt("Enter Code",
function(a,c){a&&"15499"==c&&$("#adminButtonsId").show()})});$("#flip-2").on("slidestop",function(a){simFailHT="on"==$("#flip-2").val()?!0:!1});$("#flip-3").on("slidestop",function(a){simFailHTSA="on"==$("#flip-3").val()?!0:!1});$("#flip-3a").on("slidestop",function(a){simFailHTOA="on"==$("#flip-3a").val()?!0:!1});$("#flip-4").on("slidestop",function(a){simFailHTSB="on"==$("#flip-4").val()?!0:!1});$("#flip-5").on("slidestop",function(a){simFailHTMD="on"==$("#flip-5").val()?!0:!1});$("#flip-6").on("slidestop",
function(a){"on"==$("#flip-6").val()?subExpired=simFailHZ=!0:simFailHZ=subExpired=!1});$("#getRawSabreOutputButtonId").click(function(){command=$("#rawSabreCommandId").val();_7BotAy(DIRECTION_GENERAL_POPUP,0)});$("#resetButtonId").click(function(){$("#content5").html("resetting connection to DECS...");apaOutput="";resetTest()});$(document).on("click",function(a){0===$(a.target).closest("#smallCalendarMenuId").length&&$("#smallCalendarMenuId").hide()});$("#hiSwitcherId").click(function(){_2o4HdN()});
$("#updateHiseqId").click(function(){_SjdxsJ(!0)});$("#searchOptionsLinkId").click(function(){$("#searchOptionsId").is(":visible")?$("#searchOptionsId").hide("fast",function(){$("#searchOptionsLinkId").html("Show Search Options");$(".inPlayDetails").show()}):$("#searchOptionsId").show("fast",function(){$("#searchOptionsLinkId").html("Hide Search Options");$(".inPlayDetails").hide()})});$("#inPlayPopupId").draggable({handle:"#inPlayPopupHeaderId",containment:"body",drag:function(){}});$("#seqPopupId").draggable({handle:"#seqPopupHeaderId",
containment:"body",drag:function(){}});_g2KwHE();_VtqTFz();$("#inPlayPopupId").click(function(){});$("#seqPopupId").click(function(){});$("#inPlayCancelButtonId").click(function(){$("#inPlayPopupId").hide("fast")});$("#seqCancelButtonId").click(function(){$("#seqPopupId").hide("fast")});$("#tripsHeadId").click(function(){-1<$("#tripsHeadId").html().indexOf("Click to Update Missing Data")&&(_XrZthB(),_IefpBk())});$("#deadheadViewId").hide();$("#toggleDhViewId").click(function(){$("#deadheadViewId").is(":visible")?
$("#deadheadViewId").hide("fast"):$("#deadheadViewId").show("fast")});$("#creditHoursAlertId").click(function(){alertify.alert('Total "P/C" for the sequence in hours and minutes.  You can specify a minimum here.')});$(".dhBoxes").change(function(){_QzZAS1(this.id)});$("#timeboxDepStartId").datebox({mode:"timebox",overrideTimeFormat:24,overrideTimeOutput:"%k:%M"});$("#timeboxDepEndId").datebox({mode:"timebox",overrideTimeFormat:24,overrideTimeOutput:"%k:%M"});$("#timeboxArrStartId").datebox({mode:"timebox",
overrideTimeFormat:24,overrideTimeOutput:"%k:%M"});$("#timeboxArrEndId").datebox({mode:"timebox",overrideTimeFormat:24,overrideTimeOutput:"%k:%M"});$("#dropDeadTimeId").datebox({mode:"timebox",overrideTimeFormat:24,overrideTimeOutput:"%k:%M"});$("#clearMasterSaveObjectId").click(function(){_S0UY4y()});$("#printMasterSaveObjectId").click(function(){});$(".showTipHelp").click(function(){alertify.alert("To incentivize the other pilot to check LiteSabre more often, you can offer him/her a $20 tip if he/she agrees to trade this trip with you. <span class='rules rulesWord'>See Rules</span>")});
_hKaKhA();$("#dfpSendChangesButtonId").html("Submit to DECS");$("#dfpSendChangesButtonId").hide();$("#dfpResetButtonId").hide();$("#errorTapToFixId").hide();$("#errorTapToFixId").click(function(){_DFW1mY()});setTimeout(function(){var a=$("#calendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},selectable:!0,selectHelper:!0,aspectRatio:1.3,theme:!0,eventLimit:!0,views:{agenda:{eventLimit:6}},eventDragStart:function(a,b,e,g){$("#dfpEditPanelId").show();
-1<a.id.indexOf("dfp")&&(weAreDraggingADfpElement=!0)},eventDrop:function(a,b,e,g,h,k){_oyzLwd(a,"move",e)},eventDragStop:function(a,b,e,g){-1<a.id.indexOf("dfp")&&(weAreDraggingADfpElement&&-1<$("#dfpTrashCanId").attr("src").indexOf("Open")&&(_oyzLwd(a,"drop",null),$("#calendar").fullCalendar("removeEvents",a.id)),weAreDraggingADfpElement=!1,setTimeout(function(){$("#dfpTrashCanId").attr("src","images/trashCanClosedSmall.png")},100))},dayClick:function(a,b,e){_iZGjX9(a)},eventClick:function(a,b,
e){_h3KpC6(this,a,b,e)},select:function(b,d,e){var c=prompt("Event Title:");c&&a.fullCalendar("renderEvent",{title:c,start:b,end:d,allDay:e},!0);a.fullCalendar("unselect")},editable:!0,droppable:!0,dragRevertDuration:0,timezone:!1})},400);setTimeout(function(){$("#miniCalendar").fullCalendar({header:{left:"prev,next today",center:"title",right:"month"},selectable:!0,selectHelper:!0,aspectRatio:1,theme:!1,timezone:!1,eventDragStart:function(a,c,d,e){},eventDrop:function(a,c,d,e,g,h){},eventDragStop:function(a,
c,d,e){},dayClick:function(a,c,d){a=_5Hr2a8(a._d);a.getTime()<(new Date).getTime()?alertify.error("This date is in the past!!"):_dRZpVi(a)},eventClick:function(a,c,d){c=_5Hr2a8(a._start._d);c.setHours(23);c.setMinutes(59);c.getTime()<(new Date).getTime()||_dRZpVi(a._start._d)},select:function(a,c,d){_dRZpVi(a)},editable:!1,droppable:!1,dragRevertDuration:0})},400);$("body").mousemove(function(a){mouseTop=a.clientY;mouseLeft=a.clientX;if(weAreDraggingADfpElement){a=$("#dfpTrashDropAreaId").offset().top;
var b=$("#dfpTrashDropAreaId").offset().top+$("#dfpTrashDropAreaId").height(),d=$("#dfpTrashDropAreaId").offset().left,e=$("#dfpTrashDropAreaId").offset().left+$("#dfpTrashDropAreaId").width();a<mouseTop&&mouseTop<b&&d<mouseLeft&&mouseLeft<e?$("#dfpTrashCanId").attr("src","images/trashCanOpenSmall.png"):$("#dfpTrashCanId").attr("src","images/trashCanClosedSmall.png")}});$("#dfpDeleteAllButtonId").click(function(){_K9SIye()});_VT0Sjv();$(".pickupDroppable").droppable({accept:".quickTradePickupDrag",
drop:function(a,c){var b=$(c.draggable).attr("data-command");if(-1<b.indexOf("/")){var e=b.split("/");b=Math.floor(1E4*Math.random()+1);var g=this.id.replace("PickupId","");_7GumvF(g);e=e[2]+"/"+e[3]+"/"+e[1]+" <span id='r_"+b+"' data-target='"+this.id+"' ' data-dropTypeId='"+g+"DropTypeId' class='remove'>remove</span>";$("#"+this.id).html(e);$("#"+this.id).removeClass("gray");$("#r_"+b).unbind().click(function(){var a=$(this).attr("data-target");$("#"+a).html("Drop a DESIRED Trip Here");$("#"+a).addClass("gray");
a=$(this).attr("data-dropTypeId").replace("DropTypeId","");_Ka6bgT(a)})}return!0},hoverClass:"pickupDroppableHover"});$(".myTripDroppable").droppable({accept:".quickTradeDropDrag",drop:function(a,c){var b=$(c.draggable).attr("data-command");if(-1<b.indexOf("/")){var e=b.split("/");b=Math.floor(1E4*Math.random()+1);e=e[2]+"/"+e[3]+" <span id='r_"+b+"' data-target='"+this.id+"' class='remove'>remove</span>";$("#"+this.id).html(e);e=this.id.replace("DropId","PickupId");-1<$("#"+e).html().indexOf("<span")?
(e=e.replace("PickupId",""),_7GumvF(e)):(e=e.replace("PickupId",""),_Ka6bgT(e));$("#"+this.id).removeClass("gray");$("#r_"+b).unbind().click(function(){var a=$(this).attr("data-target"),b=a.replace("DropId","");_7GumvF(b);$("#"+a).html("Drop YOUR Trip Here");$("#"+a).addClass("gray");_7GumvF(b)})}return!0},hoverClass:"dropDroppableHover"});$("#seqPopupId").css("top","5px");$("#seqPopupId").css("minHeight","300px");$("#seqPopupId").css("maxHeight","450px");$("#seqPopupId").css("overflow","auto");$(".testButton").click(function(){$("#seqPopupId").show("fast",
function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})});var a=this.id,c="",d=TRADE_CONSTANT.TEST;-1<a.indexOf("Test")&&(c=this.id.replace("TestButtonId",""));-1<a.indexOf("Go")&&(c=this.id.replace("GoButtonId",""),d=TRADE_CONSTANT.LIVE);var e=a=$("#"+c+"DropId").html(),g=e.indexOf("<span"),h=e.substring(0,g).trim();0<h.length&&(e=h.split("/"),h=e[0]+"/"+e[1]);var k=$("#"+c+"PickupId").html();e=k;g=e.indexOf("<span");e=e.substring(0,g).trim();e=e.split("/");e=
0==e[0].length?"":e[0]+"/"+e[1]+"/"+e[2];-1==a.indexOf("<span")&&-1==k.indexOf("<span")?($("#seqPopupInputWindowId").val(""),$("#seqPopupDecsDataId").html("There is no trade or drop set.  Drag and drop trips to the quick trade boxes and try again.<br /><br />To drop, drag only your trip to the first box.<br />To pickup, drag only an open or posted trip to the second box.<br />To trade, drag trips to both boxes."),$("#seqPopupInputWindowId").val("")):_5ICQoL(c,d,h,e)});$("#oneDropId").hover(_tcxgCH,
_1IjlsH);$("#twoDropId").hover(_tcxgCH,_1IjlsH);$("#threeDropId").hover(_tcxgCH,_1IjlsH);$("#fourDropId").hover(_tcxgCH,_1IjlsH);$("#fiveDropId").hover(_tcxgCH,_1IjlsH);$("#sixDropId").hover(_tcxgCH,_1IjlsH);$("#onePickupId").hover(_tsPmLE,_8ILsu7);$("#twoPickupId").hover(_tsPmLE,_8ILsu7);$("#threePickupId").hover(_tsPmLE,_8ILsu7);$("#fourPickupId").hover(_tsPmLE,_8ILsu7);$("#fivePickupId").hover(_tsPmLE,_8ILsu7);$("#sixPickupId").hover(_tsPmLE,_8ILsu7);$(document).mousedown(function(){mouseIsDown=
!0;$(".hoverPopup").hide()}).mouseup(function(){mouseIsDown=!1;clearInterval(bar);bar=null});$(document).bind("mousewheel",function(){$(".hoverPopup").hide()});$(".tradeablesVerbiage").click(function(){var a=this.id;a=a.replace("tradeablesVerbiageId_","");a=$("#seqButton_"+a).html();var c=a.indexOf("<span");a=a.substring(0,c);n4tLegalData=n4tData="";_FcujhI(a)});$("#deleteSeqPopupWindowId").click(function(){$("#seqPopupInputWindowId").val("");$("#seqPopupInputWindowId").focus()});$("#seqPopupInputWindowId").keypress(function(a){13==
a.which&&(command=$("#seqPopupInputWindowId").val(),command=command.toUpperCase(),0!=command.length&&($("#seqPopupInputWindowId").val(""),$("#seqPopupDecsDataId").html("<pre>loading "+command+" ...</pre>"),$("#seqPopupInputWindowId").val(""),_7BotAy(DIRECTION_MANUAL,0)))});setTimeout(function(){_Bpz3ia()},1E4);setInterval(function(){_Bpz3ia()},108E5);$("#openTimeRefreshButtonId").click(function(){_SeNg2I(null,!1)});$("#decsWindowShowId").click(function(){validPin&&$("#seqPopupId").show()});"f"==dbGet("allowGrouping")&&
(allowGrouping=!1);$("#flightSchedulesDatePicker").unbind().datepicker({defaultDate:"+1w",changeMonth:!1,numberOfMonths:1,showOn:"focus",minDate:"0",onClose:function(a,c){$(this).attr("disabled",!1)},beforeShow:function(a,c){$(this).attr("disabled",!0)}});$("#flightSchedulesDatePicker").datepicker("option","dateFormat","ddM");$("#flightSchedulesDatePicker").width("42px");$("#flightSchedulesDatePicker").datepicker("setDate","+0");$("#flightSchedulesDatePicker").click(function(a){a.stopPropagation()});
$("#flightSchedulesGoButtonId").click(function(){_Xaltcq()});$("#n4GoButtonId").click(function(){_geIaeF()});$("#getHi1Id").unbind().click(function(){validPin&&(command="HI1",apaOutput="",$("#seqPopupDecsDataId").html("<pre>loading...</pre>"),$("#seqPopupInputWindowId").val(command),_7BotAy(DIRECTION_GENERAL_POPUP,0),$("#seqPopupId").show("fast",function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})}))});$("#getHi2Id").unbind().click(function(){validPin&&(command=
"HI2",apaOutput="",$("#seqPopupDecsDataId").html("<pre>loading...</pre>"),$("#seqPopupInputWindowId").val(command),_7BotAy(DIRECTION_GENERAL_POPUP,0),$("#seqPopupId").show("fast",function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})}))})}var webviewsHaveBeenInitialized=!1;
function _zR5087(){webviewsHaveBeenInitialized||(webviewsHaveBeenInitialized=!0,document.getElementById("wholeBrowserId").addEventListener("contentload",function(a){_Q7QnQ0()}),document.getElementById("rightBrowserId").addEventListener("contentload",function(a){_Q7QnQ0()}),document.getElementById("leftBrowserId").addEventListener("contentload",function(a){}))}
$.fn.replaceOptions=function(a){var b;this.empty();var c=this;$.each(a,function(a,e){b=$("<option></option>").attr("value",e.value).text(e.text);c.append(b)})};function _6fVCFt(a){this.value=this.text=a}
function _Al6MX6(){setTimeout(function(){var a=dbGet("flightScheduleBases");null==a||0==a.length?(a="BOS,LGA,JFK,EWR,DCA,IAD,BWI,MIA,ORD,DFW,STL,SFO,LAX",dbSet("flightScheduleBases",a)):a=dbGet("flightScheduleBases");var b=a.split(",");$("#flightSchedulesFromBaseId").empty();$("#flightSchedulesToBaseId").empty();for(var c=[],d="",e=0;e<b.length;e++){var g=new _6fVCFt(b[e]);c.push(g);d=0==d.length?b[e].trim():d+(", "+b[e].trim())}$("#flightSchedulesFromBaseId").replaceOptions(c);$("#flightSchedulesToBaseId").replaceOptions(c);
$("#flightSchedulesBasesListId").val(d);dbSet("flightScheduleBases",a);_30fsbh()},500);$("#flightSchedulesBasesListId").unbind().change(function(){var a=$("#flightSchedulesBasesListId").val();a=a.toUpperCase();var b=a.split(",");a="";for(var c=0;c<b.length;c++){var d=b[c].trim();d.match(/^[A-Z]{3}$/)&&(a=0==a.length?d:a+","+d)}dbSet("flightScheduleBases",a);_Al6MX6()})}
function _30fsbh(){void 0!=dbGet("lastFromBase")&&void 0!=dbGet("lastToBase")?($("#flightSchedulesFromBaseId").val(dbGet("lastFromBase")),$("#flightSchedulesToBaseId").val(dbGet("lastToBase")),$("#flightSchedulesToBaseId").selectmenu("refresh",!0),$("#flightSchedulesFromBaseId").selectmenu("refresh",!0)):(dbSet("lastFromBase",$("#flightSchedulesFromBaseId").val()),dbSet("lastToBase",$("#flightSchedulesToBaseId").val()))}
function _BzGfo1(a){var b=moment((new Date).getTime()).tz("America/Chicago").format("DDMMM"),c=null,d=0,e=(new Date).getTime()/1E3,g;for(g in masterSaveObject)if(-1<g.indexOf("contract")){var h=masterSaveObject[g],k=h[0],f=h[1];if(k<=e&&e<=f){c=h[3];d=h[1];break}}if(null!=c){if("PRESENT"==a)return(b+"/"+c).toUpperCase();var n=c=null;e=d+18E3;for(g in masterSaveObject)if(-1<g.indexOf("contract")&&(h=masterSaveObject[g],k=h[0],f=h[1],k<=e&&e<=f)){n=h[2];c=h[3];break}}return null==c||null==n?null:(n+
"/"+c).toUpperCase()}function _geIaeF(){var a=$("#n4CodeId").val(),b=$("#n4BaseId").val(),c=$("#n4EquipId").val(),d=$("#n4PosId").val(),e=$("#n4MonthId").val();e=_BzGfo1(e);null==e?alertify.error("Bad command.  Contact Support"):(command=a+"/"+b+"/"+c+"/"+d+"/"+e,command=command.toUpperCase(),$("#generalDecsWindowInputWindowId").val(""),$("#generalDecsWindowDecsDataId").html("<pre>loading "+command+" ...</pre>"),_7BotAy(DIRECTION_GENERAL_WINDOW,0))}
function _Xaltcq(){dbSet("lastFromBase",$("#flightSchedulesFromBaseId").val());dbSet("lastToBase",$("#flightSchedulesToBaseId").val());var a=$("#flightSchedulesFromBaseId").val(),b=$("#flightSchedulesToBaseId").val(),c=$("#flightSchedulesDatePicker").val();command=$("#flightSchedulesCodeId").val()+"/"+a+"/"+b+"/"+c;command=command.toUpperCase();$("#generalDecsWindowInputWindowId").val("");$("#generalDecsWindowDecsDataId").html("<pre>loading "+command+" ...</pre>");_7BotAy(DIRECTION_GENERAL_WINDOW,
0)}
function _dRZpVi(a){if("string"==typeof a&&-1<a.indexOf("HSS")){var b=a.split("/");0==dbGet(a).length?($("#dropGetId").hide(),$("#postGetId").hide(),$("#tradeGetId").hide()):($("#dropGetId").html("Drop"+b[2]),$("#dropGetId").attr("data-command",a),$("#postGetId").html("Post "+b[2]),$("#postGetId").attr("data-command",a),$("#tradeGetId").html("Trade "+b[2]),$("#tradeGetId").attr("data-command",a),$("#dropGetId").show(),$("#postGetId").show(),$("#tradeGetId").show());$("#dropGetId").hide();$("#postGetId").hide();$("#tradeGetId").hide();
a=dbGet("fourPart");var c="D";"INT"==a[3]&&(c="I");$("#allOpenTimeGetId").hide();$("#legalOpenTimeGetId").attr("data-command","N4"+c+"L/"+a[0]+"/"+a[2]+"/"+a[1]+"/"+b[3]);$("#hi33LongGetId").attr("data-command","HI33/"+c+"/"+b[3]+"/L");$("#hi33ShortGetId").attr("data-command","HI33/"+c+"/"+b[3]+"/S")}else{a=new Date(a);$("#dropGetId").hide();$("#postGetId").hide();$("#tradeGetId").hide();b=_DUd63T(a.getMonth()+1);var d=a.getDate();10>d&&(d="0"+d);a=dbGet("fourPart");c="D";"INT"==a[3]&&(c="I");$("#allOpenTimeGetId").hide();
$("#legalOpenTimeGetId").attr("data-command","N4"+c+"L/"+a[0]+"/"+a[2]+"/"+a[1]+"/"+d+b);$("#hi33LongGetId").attr("data-command","HI33/"+c+"/"+d+b+"/L");$("#hi33ShortGetId").attr("data-command","HI33/"+c+"/"+d+b+"/S")}a=mouseTop-$("#smallCalendarMenuId").height();$("#smallCalendarMenuId").css("top",a);$("#smallCalendarMenuId").css("left",mouseLeft);$("#allOpenTimeGetId").unbind().click(function(){$("#"+this.id).attr("data-command");$("#smallCalendarMenuId").hide()});$("#legalOpenTimeGetId").unbind().click(function(){command=
$("#"+this.id).attr("data-command");$("#smallCalendarMenuId").hide();$("#seqPopupDecsDataId").html("<pre>Loading "+command+" ...</pre>");$("#seqPopupInputWindowId").val(command);$("#seqPopupId").show();_7BotAy(DIRECTION_GENERAL_POPUP,0)});$("#hi33LongGetId").unbind().click(function(){command=$("#"+this.id).attr("data-command");$("#smallCalendarMenuId").hide();$("#seqPopupDecsDataId").html("<pre>Loading "+command+" ...</pre>");$("#seqPopupInputWindowId").val(command);$("#seqPopupId").show();_7BotAy(DIRECTION_GENERAL_POPUP,
0)});$("#hi33ShortGetId").unbind().click(function(){command=$("#"+this.id).attr("data-command");$("#smallCalendarMenuId").hide();$("#seqPopupDecsDataId").html("<pre>Loading "+command+" ...</pre>");$("#seqPopupInputWindowId").val(command);$("#seqPopupId").show();_7BotAy(DIRECTION_GENERAL_POPUP,0)});setTimeout(function(){$("#smallCalendarMenuId").show()},100)}var tradeableTripsAreBeingRequested=!1;
function _o1QGXS(){setTimeout(function(){var a=$(".ui-jqgrid-title").html(),b=a.indexOf("<span");a=a.substring(0,b).trim();$("#list").setCaption(a+" <span class='greenLink' id='greenLinkId'>SHOW GREEN ONLY</span><span class='greenLinkQuestion' id='greenLinkQuestionId'>???</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});$("#greenLinkId").unbind().click(function(){_hXvMOX()});$("#greenLinkQuestionId").unbind().click(function(){alertify.alert("What do the colors mean?<br />GREEN: Your trip is tradeable with this trip.<br />YELLOW: The trip is tradeable but you are not legal.<br />RED:  Not tradeable. <p>NOTE:  This data comes from the N4T and N4TL command, and has been known to be wrong.  Test trading may be a good backup.</p>")});
_5E8GTV()},300)}function _6dxkUT(a){_jvnrE6(a)}
function _FcujhI(a){$("#warningId").html("");if(tradeableTripsAreBeingRequested)alertify.error("A request is processing.  Stand by...");else{tradeableTripsAreBeingRequested=!0;var b=moment((new Date).getTime()).format("YYYY");b=parseInt(b,10);var c=b+1;a=a.split("/");var d=a[2],e=d.substring(d.length-3,d.length),g=_dneJpE(e);g--;d=d.replace(e,"");1==d.length&&(d="0"+d);var h=parseInt(d,10),k=moment({year:b,month:g,day:h,hour:0,minute:0}).unix();b=null;for(var f in masterSaveObject)if(-1<f.indexOf("contract")){d=
masterSaveObject[f];e=d[0];var n=d[1];if(e<=k&&k<=n){b=d[3];break}}if(null==b)for(f in k=moment({year:c,month:g,day:h,hour:0,minute:0}).unix(),masterSaveObject)if(-1<f.indexOf("contract")&&(d=masterSaveObject[f],e=d[0],n=d[1],e<=k&&k<=n)){b=d[3];break}if(null==b)alertify.error("Unable.  error(23)");else{h=moment(a[2],"DDMMM").unix();k=(new Date).getTime()/1E3;g=c="";for(f in masterSaveObject)-1<f.indexOf("contract")&&(d=masterSaveObject[f],e=d[0],n=d[1],e<=h&&h<=n&&(g=f),e<=k&&k<=n&&(c=f));d=moment((new Date).getTime()+
864E5).format("DDMMM");c!=g&&(d=dbGet(g)[2]);d=d.toUpperCase();c=[];c[0]=d;c[1]=b;c[2]="Tradeable trips for "+a[1]+"/"+a[2];c[3]=a[1]+"/"+a[2];for(f in masterSaveObject)-1<f.indexOf("incomplete_")&&_m9g9nz(f);_SeNg2I(c,!1)}}}
function _AI3dyV(){$(".twoBoxElement").hide();var a=$("#myTripTradeBoxDecsDataId").html(),b=$("#openTripTradeBoxDecsDataId").html();-1<a.indexOf("HSS/")&&(-1==b.indexOf("HSS/")||-1<b.indexOf("HSS/<"))?($("#twoBoxDropButtonId").show(),$("#twoBoxTradeButtonId").hide(),$("#twoBoxPickupButtonId").hide(),$("#sevenDropTypeSelectId").show(),$("#sevenHtmdSelectId").hide(),$("#tradeToggleId").show()):-1==a.indexOf("HSS/")&&-1<b.indexOf("HSS/")&&-1==b.indexOf("HSS/<")?($("#twoBoxDropButtonId").hide(),$("#twoBoxTradeButtonId").hide(),
$("#twoBoxPickupButtonId").show(),$("#sevenDropTypeSelectId").hide(),$("#sevenHtmdSelectId").show(),$("#tradeToggleId").show()):-1<a.indexOf("HSS/")&&-1<b.indexOf("HSS/")&&-1==b.indexOf("HSS/<")&&($("#twoBoxDropButtonId").hide(),$("#twoBoxTradeButtonId").show(),$("#twoBoxPickupButtonId").hide(),$("#sevenDropTypeSelectId").hide(),$("#sevenHtmdSelectId").show(),$("#tradeToggleId").show())}
function _7GumvF(a){var b=a+"DropTypeId";0==$("#"+b).hasClass("ui-disabled")&&($("#"+b).prop("disabled",!0).addClass("ui-disabled"),$("#"+b).css("color","gray"),$("#"+b).selectmenu("refresh",!0));a+="HtmdId";$("#"+a).prop("disabled",!1).removeClass("ui-disabled");$("#"+a).css("color","black");$("#"+a).selectmenu("refresh",!0)}
function _Ka6bgT(a){var b=a+"DropTypeId";$("#"+b).prop("disabled",!1).removeClass("ui-disabled");$("#"+b).css("color","black");$("#"+b).selectmenu("refresh",!0);a+="HtmdId";0==$("#"+a).hasClass("ui-disabled")&&($("#"+a).prop("disabled",!0).addClass("ui-disabled"),$("#"+a).css("color","gray"),$("#"+a).selectmenu("refresh",!0))}
function _tcxgCH(a){if(0==mouseIsDown){a=a.srcElement.innerHTML;var b=a.indexOf("<span");a=a.substring(0,b).trim();a=a.split("/");a=a[0]+"/"+a[1];a=dbGet(a);0<a.length&&(savedDropDataBeforeHover=$("#myTripTradeBoxDecsDataId").html(),$("#myTripTradeBoxDecsDataId").html("<pre>"+a+"</pre>"),$("#myTripTradeBoxDecsDataId").addClass("hoverBackgroundChange"))}}
function _1IjlsH(a){0==mouseIsDown&&0<savedDropDataBeforeHover.length&&($("#myTripTradeBoxDecsDataId").html("<pre>"+savedDropDataBeforeHover+"</pre>"),$("#myTripTradeBoxDecsDataId").removeClass("hoverBackgroundChange"),_kIiqc4(),_5cAvYi())}
function _tsPmLE(a){if(0==mouseIsDown){savedPickupDataBeforeHover=$("#openTripTradeBoxDecsDataId").html();a=a.srcElement.innerHTML;var b=a.indexOf("<span");a=a.substring(0,b).trim();a=a.split("/");a=a[2]+"/"+a[0]+"/"+a[1];a=dbGet(a);0<a.length&&($("#openTripTradeBoxDecsDataId").html("<pre>"+a+"</pre>"),_jt9FVJ(),$("#openTripTradeBoxDecsDataId").addClass("hoverBackgroundChange"),$("#googleCalConflictsLinkId").hide())}}
function _8ILsu7(a){0==mouseIsDown&&0<savedPickupDataBeforeHover.length&&(a=_HGoLI3("HSS/NA/"+Math.floor(1E4*Math.random()+1),savedPickupDataBeforeHover),$("#openTripTradeBoxDecsDataId").html(a),_jt9FVJ(),$("#openTripTradeBoxDecsDataId").removeClass("hoverBackgroundChange"),$("#googleCalConflictsLinkId").show(),_FQcB7J(),_5cAvYi())}
function _x6XtW4(){var a=(new Date($("#dateboxStartId").val())).getTime();(new Date($("#dateboxEndId").val())).getTime()<a&&$("#dateboxEndId").val($("#dateboxStartId").val())}
function _DFW1mY(){for(;null==masterSaveObject;)setTimeout(function(){_DFW1mY()},200);6==dbGet("empNum").length?(empNum=dbGet("empNum"),_8dhgEP()):alertify.prompt("Please enter your employee number.",function(a,b){a?(5==b.length&&(b="0"+b),4==b.length&&(b="00"+b),3==b.length&&(b="000"+b),b.match(/^[0-9]{6}$/)?(empNum=b,dbSet("empNum",empNum),_8dhgEP()):setTimeout(function(){alertify.prompt("Invalid.  Please enter a 6 digit employee number",function(a,b){a?(5==b.length&&(b="0"+b),4==b.length&&(b="00"+
b),3==b.length&&(b="000"+b),b.match(/^[0-9]{6}$/)?(empNum=b,dbSet("empNum",empNum),_8dhgEP()):(alertify.error("You cannot proceed until you enter your employee number."),$("#errorTapToFixId").show())):(alertify.error("You cannot proceed until you enter your employee number."),$("#errorTapToFixId").show())})},400)):(alertify.error("You cannot proceed until you enter your employee number."),$("#errorTapToFixId").show())})}
function _8dhgEP(){var a=dbGet("apaPassword");0<a.length?(apaPassword=a,_ny84bI()):setTimeout(function(){alertify.prompt("Please enter your APA password.",function(a,c){a?(apaPassword=c.trim(),dbSet("apaPassword",apaPassword),_ny84bI()):(alertify.error("You cannot proceed until you enter your APA password."),$("#errorTapToFixId").show())})},400)}var passwordsWereManuallyEntered=!1;
function _ny84bI(){var a=dbGet("decsPassword");0<a.length?(decsPassword=a,passwordsWereManuallyEntered=!0,_SjdxsJ(!1)):setTimeout(function(){alertify.prompt("Please enter your DECS password.",function(a,c){a?(decsPassword=c=c.trim().toUpperCase(),dbSet("decsPassword",decsPassword),$("#errorTapToFixId").hide(),passwordsWereManuallyEntered=!0,_SjdxsJ(!1)):(alertify.error("You cannot proceed until you enter your DECS password."),$("#errorTapToFixId").show())})},400)}
function _9YQJGB(a){var b=$("#mySeqsForInPlayTradeCreation_"+a).val().replace(/_/g,"/");a=$("#inPlayCommandId_"+a).html();return"trade_"+b+"_"+a}
function _G57doT(){var a=dbGet("inPlayPref");if(0!=a.length){a=JSON.parse(a);0<a.base.length&&($("#statusBaseId").val(a.base),$("#statusBaseId").selectmenu("refresh",!0));0<a.pos.length&&($("#statusPosId").val(a.pos),$("#statusPosId").selectmenu("refresh",!0));0<a.equip.length&&($("#statusEquipId").val(a.equip),$("#statusEquipId").selectmenu("refresh",!0));0<a.div.length&&($("#statusDivId").val(a.div),$("#statusDivId").selectmenu("refresh",!0));$("#dateboxStartId").val(a.startDate);$("#dateboxEndId").val(a.endDate);
$("#timeboxDepStartId").val(a.depStartTime);$("#timeboxDepEndId").val(a.depEndTime);$("#timeboxArrStartId").val(a.arrStartTime);$("#timeboxArrEndId").val(a.arrEndTime);$("#minDaysId").val(a.minDays,10);$("#minDaysId").selectmenu("refresh",!0);$("#maxDaysId").val(a.maxDays);$("#maxDaysId").selectmenu("refresh",!0);var b=!1;"true"===a.dhNoPrefId?$("#dhNoPrefId").prop("checked",!0).checkboxradio("refresh"):$("#dhNoPrefId").prop("checked",!1).checkboxradio("refresh");"true"===a.dhNoDeadId?($("#dhNoDeadId").prop("checked",
!0).checkboxradio("refresh"),b=!0):$("#dhNoDeadId").prop("checked",!1).checkboxradio("refresh");"true"===a.dhReqAnyId?($("#dhReqAnyId").prop("checked",!0).checkboxradio("refresh"),b=!0):$("#dhReqAnyId").prop("checked",!1).checkboxradio("refresh");"true"===a.dhReqFirstId?($("#dhReqFirstId").prop("checked",!0).checkboxradio("refresh"),b=!0):$("#dhReqFirstId").prop("checked",!1).checkboxradio("refresh");"true"===a.dhReqLastId?($("#dhReqLastId").prop("checked",!0).checkboxradio("refresh"),b=!0):$("#dhReqLastId").prop("checked",
!1).checkboxradio("refresh");"true"===a.dhReqFirstOrLastId?($("#dhReqFirstOrLastId").prop("checked",!0).checkboxradio("refresh"),b=!0):$("#dhReqFirstOrLastId").prop("checked",!1).checkboxradio("refresh");"true"===a.dhNoLastId?($("#dhNoLastId").prop("checked",!0).checkboxradio("refresh"),b=!0):$("#dhNoLastId").prop("checked",!1).checkboxradio("refresh");"true"===a.dhNoAaId?($("#dhNoAaId").prop("checked",!0).checkboxradio("refresh"),b=!0):$("#dhNoAaId").prop("checked",!1).checkboxradio("refresh");b&&
$("#deadheadViewId").show();$("#minTotalPayMinutesId").val(a.minTotalPayMinutesId);$("#minTotalPayMinutesId").selectmenu("refresh",!0);$("#minTotalPayMinutesFractionId").val(a.minTotalPayMinutesFractionId);$("#minTotalPayMinutesFractionId").selectmenu("refresh",!0);$("#minPayAndCreditId").val(a.minPayAndCreditId);$("#minPayAndCreditId").selectmenu("refresh",!0);$("#minPayAndCreditFractionId").val(a.minPayAndCreditFractionId);$("#minPayAndCreditFractionId").selectmenu("refresh",!0);$("#maxLegsId").val(a.maxLegsId);
$("#maxLegsId").selectmenu("refresh",!0);$("#desiredLayoverCitiesId").val(a.desiredLayoverCitiesId);$("#prohCitiesId").val(a.prohCitiesId);$("#prohLayoverCitiesId").val(a.prohLayoverCitiesId);$("#prohCoterminalCitiesId").val(a.prohCoterminalCitiesId);$("#prohDaysOfWeekId").val(a.prohDaysOfWeekId)}}function _XrZthB(){for(var a in masterSaveObject)if(-1<a.indexOf("HSS/")){var b=masterSaveObject[a];b[3]=0;dbSet(a,b)}}
function _IefpBk(){setTimeout(function(){for(var a in masterSaveObject)if(-1<a.indexOf("HSS/")){var b=masterSaveObject[a],c=b[1],d=b[3];if(-1<b[2].indexOf("noDataWithEmpNumber")&&3>d){b[3]+=1;dbSet(a,b);setTimeout(function(){command=c;_7BotAy(DIRECTION_HSS,0)},100);return}}_SjdxsJ(!1)},400)}
function _5pY2i1(){$("#loginWaitImageId").hide();$("#loginButtonId").show();$("#userNameId").val("");$("#passId").val("");$("#loginContentId").show();$("#myTripsContentId").hide();$("#inPlayContentId").hide();$("#testingContentId").hide();$("#rulesContentId").hide();$("#footerId").hide();$("#logoutButtonId").hide();$("#versionId").html("Version "+version);$("#updateHiseqId").hide();$("#settingsPageShowButtonId").hide();$("#settingsPageShowButtonId").html("Settings");$("#settingsContentId").hide();
$("#seqPopupId").hide();$("#decsWindowShowId").hide();$("#fourPartDisplayId").hide();$("#resetDecsButtonId").hide();$("#hiInfoId").hide();$("#warningId").html("")}function _AgORpV(a){a?($("#keyPadMainId").hide(),alertify.confirm("Logout?",function(a){a&&(logoutApaWhenDisconnecting=!0,_XeYuoQ(),dbSet("login",""),_5pY2i1())})):($("#keyPadMainId").hide(),dbSet("login",""),_5pY2i1())}
function _TwQP5i(){for(var a=[],b=0;40>b;b++)$("#offerDetails_"+b).is(":visible")?a[b]=!0:a[b]=!1;dbSet("offerDetailsStates",a)}function _ml8VJ0(){for(var a=dbGet("offerDetailsStates"),b=0;b<a.length;b++)a[b]?$("#offerDetails_"+b).show():$("#offerDetails_"+b).hide()}function _dneJpE(a){return jQuery.inArray(a,monthArray)+1}function _DUd63T(a){return monthArray[a-1]}function _6ZiNF5(a){for(var b="",c=0;c<a;c++)b+="abcdefghjklmnpqrstuvwxyz0123456789".charAt(Math.floor(34*Math.random()));return b}
function _g2KwHE(){for(var a=0;40>a;a++)$("#seq_"+a).hide(),$("#seq_"+a).css("opacity","1.0"),$("#seqDetails_"+a).hide(),$("#offerDetails_"+a).hide(),$("#seqView_"+a).html("Detail"),$("#seqButton_"+a).hide()}
function _VtqTFz(){for(var a=0;210>a;a++)$("#inPlay_"+a).hide(),$("#inPlayButton_"+a).html("--"),$("#inPlayCommandId_"+a).html(""),$("#inPlayContentsId_"+a).html(""),$("#inPlayOwner_"+a).html(""),$("#inPlayOfferDetails_"+a).hide(),$("#inPlayView_"+a).html("Detail"),$("#inPlayDateSeparator_"+a).hide(),$("#inPlayButton_"+a).removeClass("stripe"),$("#inPlayCreateTradeButton_"+a).show()}
function _SjdxsJ(a){_S0UY4y();$("#updateHiseqId").hide();$("#dfpSendChangesButtonId").html("Submit to DECS");$("#dfpSendChangesButtonId").hide();$("#dfpResetButtonId").hide();var b=!1,c=!1;if(0==a){var d=dbGet("hi1");if("string"==typeof d){var e=d.split("::");a=parseInt(e[0],10);a>(new Date).getTime()-576E5&&(b=!0)}e=dbGet("hi2");"string"==typeof e&&(a=e.split("::"),a=parseInt(a[0],10),a>(new Date).getTime()-576E5&&(c=!0))}0==b||0==c?(command="HI1",_7BotAy(DIRECTION_SCHEDULE,0)):_YkoskJ(d,e)}
function Seq(a,b){this.command=a;this.details=b}function Hss(a,b){this.command=a;this.content=b}
function presentCreateNextTradeRequestBox(a){for(var b='<select id="mySeqsForInPlayTradeCreation_'+a+"\" class='offerMyTripChange ui-select ui-btn ui-btn-inline ui-mini' data-mini=\"true\"><option value='none' >Choose</option>",c=0;40>c;c++)if(!$("#seqButton_"+c).hasClass("stripe")){var d=$("#seqButton_"+c).html();if("undefined"!=typeof d){var e=d.indexOf("<span");d=d.substring(0,e);d=d.replace(/\//g,"_");5<d.length&&(b+="<option value='"+d+"' >"+d+"</option>")}}b+="</select>";$("#inPlayCreateTradeWindow_"+
a).html("<div class='proposedTradeWindow smallText'>Offer "+b+"<br /><span style=' white-space: nowrap;' id='inPlayOfferDiffDisplay_"+a+"'></span><a href=\"#\" id='inPlayCreateTradeCancelButton_"+a+"' class='create smallText'>Cancel</a><div id='inPlayCreateTradeFailReasonDisplay_"+a+"' style='display:none' class='failReasonDisplay'></div></div>");$("#inPlayCreateTradeCancelButton_"+a).unbind().click(function(){_3vdVrW();var a=this.id;a=a.replace("inPlayCreateTradeCancelButton_","");$("#inPlayCreateTradeButton_"+
a).trigger("click")});$(".offerMyTripChange").unbind().change(function(){var a=this.id.replace("mySeqsForInPlayTradeCreation_","");$("#inPlayCreateTradeLegalityTestButton_"+a).css("color","#2b5f82");var b=$("#"+this.id).val().replace(/_/g,"/");if("none"==b)$("#inPlayOfferDiffDisplay_"+a).html("");else{for(var c="",d=$(window).width(),e=0;50>e;e++){var l=$("#seqButton_"+e).html();if("undefined"!=typeof l&&-1<l.indexOf(b)){c=l;900<d&&$("#seqView_"+e).trigger("click");break}}b=c.indexOf(" TL ");d=c.indexOf(" TAFB ");
c=c.substring(b+3,d).trim();b=$("#inPlayButton_"+a).html();d=b.indexOf(" TL ");e=b.indexOf(" TAFB ");b=b.substring(d+3,e).trim();c=_l5bqIP(c);c=_l5bqIP(b)-c;c=0<=c?"<span class='totalGreen'>"+_lKxvFi(c)+"</span>":"<span class='totalRed'>"+_lKxvFi(c)+"</span>";$("#inPlayOfferDiffDisplay_"+a).html("Diff: "+c+"<span id='testTradeWrapper_"+a+"'><a href=\"#\" id='inPlayCreateTradeLegalityTestButton_"+a+"' class='create smallText'>Test</a></span> ");c=_9YQJGB(a);c=dbGet(c);if(null!=c&&"object"==typeof c&&
(b=c.tradeable,null!=b)){if(1==b){_pnwO12("submit",a);0<c.tip?$("#inPlayOfferTipButton_"+a).html("<span style='color:green'>Offering $20</span>"):$("#inPlayOfferTipButton_"+a).html("Offer a $20 tip");"undefined"==typeof c.one.tradeDropDeadTime?$("#inPlayOfferDropDeadButton_"+a).html("DropDead Time"):0==c.one.tradeDropDeadTime.length?$("#inPlayOfferDropDeadButton_"+a).html("DropDead Time"):_XfkEyp(c.one.tradeDropDeadTime)?$("#inPlayOfferDropDeadButton_"+a).html("DropDead Time"):c.one.tradeDropDeadTime.match(/^[0-9]{1,2}-[0-9]{1,2}-[0-9]{4} [0-9]{1,2}:[0-9]{1,2}$/)?
$("#inPlayOfferDropDeadButton_"+a).html("DD: "+c.one.tradeDropDeadTime):$("#inPlayOfferDropDeadButton_"+a).html("DropDead Time");return}if(0==b){_pnwO12("testFail",a);return}}_pnwO12("test",a)}})}function _3vdVrW(){activeTrade="";_IXtSJ1()}
function _pnwO12(a,b){if(27<b.length)if("test"==a&&$(b).html("Execute"),"submit"==a){$(b).html("Test ok.. Standby.");var c=dbGet(activeTrade)}else"testFail"==a&&($(b).html("Test failed."),c=dbGet(activeTrade),alertify.alert("Trade did not test.<br /> "+c.failReason+"<br />You can try to fix it, or delete the offer..",function(){$("#executeSingleTrade_"+c.id).html("Execute");return!1}));else{$("#inPlayCreateTradeFailReasonDisplay_"+b).hide();if("test"==a){var d='<a href="#" id=\'inPlayCreateTradeLegalityTestButton_'+
b+"' class='create smallText'>Test</a>";$("#testTradeWrapper_"+b).html(d);$("#inPlayCreateTradeLegalityTestButton_"+b).unbind().click(function(){var a=this.id.replace("inPlayCreateTradeLegalityTestButton_","");testTrade(a)})}"testFail"==a&&(c=dbGet(_9YQJGB(b)),"object"==typeof c&&0<c.failReason.length&&($("#inPlayCreateTradeFailReasonDisplay_"+b).html(c.failReason),$("#inPlayCreateTradeFailReasonDisplay_"+b).show("fast")),d='<a href="#" id=\'inPlayCreateTradeLegalityTestButton_'+b+"' class='create smallText'>Test Failed</a>",
$("#testTradeWrapper_"+b).html(d),$("#inPlayCreateTradeLegalityTestButton_"+b).unbind().click(function(){}));"stand by"==a&&(d="<span class='create smallText'>stand by..</span>",$("#testTradeWrapper_"+b).html(d));"submit"==a&&(d='<a href="#" id=\'inPlayCreateTradeLegalitySubmitButton_'+b+"' class='create smallText'>Submit</a>  <a href=\"#\" id='inPlayOfferTipButton_"+b+"' class='create smallText'>Offer a $20 tip</a><a href=\"#\" class='create smallText showTipHelp'>???</a><br /><a href=\"#\" id='inPlayOfferDropDeadButton_"+
b+"' class='create smallText'>DropDead Time</a> ",$("#testTradeWrapper_"+b).html(d),$(".showTipHelp").unbind().click(function(){alertify.alert("To incentivize the other pilot to check LiteSabre more often, you can offer him/her a $20 tip if he/she agrees to trade this trip with you.",function(){return!1})}),$("#inPlayOfferTipButton_"+b).unbind().click(function(){var a=$("#"+this.id).html(),b=this.id.replace("inPlayOfferTipButton_",""),c=dbGet(_9YQJGB(b));"Offer a $20 tip"==a?(c.tip=20,dbSet(_9YQJGB(b),
c),$("#"+this.id).html("<span style='color:green'>Offering $20</span>")):(c.tip=0,dbSet(_9YQJGB(b),c),$("#"+this.id).html("Offer a $20 tip"))}),$("#inPlayCreateTradeLegalitySubmitButton_"+b).unbind().click(function(){var a=this.id.replace("inPlayCreateTradeLegalitySubmitButton_","");_8OJDzh(a)}),$("#inPlayOfferDropDeadButton_"+b).unbind().click(function(){$("#tradeIdForDropDead").html(b);var a=$("#inPlayOfferDetails_"+b).position();$("#submitTradeDropDeadOptionsId").css("left",a.left+2);$("#submitTradeDropDeadOptionsId").show();
var c=new Date;a=c.getHours();10>a&&(a="0"+a);c=c.getMinutes();10>c&&(c="0"+c);a=a+":"+c;$("#dropDeadTimeId").val(a);$("#goNowForDropDead").html("false");$("#destinationForDropDead").html("propose")}))}}function _IXtSJ1(){weAreTestingOrTradingNow=!1}function _XfkEyp(a){return!isNaN(a-0)&&null!==a&&""!==a&&!1!==a}
function _5HOX67(a){var b=moment((new Date).getTime()).format("YYYY");b=parseInt(b,10);for(var c=b+1,d=!1,e=0;e<a.length;e++){var g=a[e];-1<g.indexOf("monthVariationsStart")&&(d=!0);-1<g.indexOf("monthVariationsEnd")&&(d=!1);if(0!=d&&-1<g.indexOf(" end")){var h=g.split(",");g=h[0];g=parseInt(g,10);g++;13==g&&(g=1);10>g&&(g="0"+g);var k=h[1],f=h[2];f=f.replace(" end","");h=k.substring(k.length-3,k.length);var n=_dneJpE(h);n--;k=k.replace(h,"");1==k.length&&(k="0"+k);var l=parseInt(k,10),r=moment({year:b,
month:n,day:l,hour:0,minute:0}).unix(),u=f.substring(f.length-3,f.length),A=_dneJpE(u);A=parseInt(A,10);A--;f=f.replace(u,"");1==f.length&&(f="0"+f);var G=parseInt(f,10),B=moment({year:b,month:A,day:G,hour:23,minute:59}).unix(),v=[];v[0]=r;v[1]=B;v[2]=k+h;v[3]=f+u;dbSet("contract-"+g+"-"+b,v);r=moment(c+" "+(n+1)+" "+l+" 00:00:00","YYYY MM DD HH:mm:ss").unix();B=moment(c+" "+(A+1)+" "+G+" 23:59:00","YYYY MM DD HH:mm:ss").unix();v=[];v[0]=r;v[1]=B;v[2]=k+h;v[3]=f+u;dbSet("contract-"+g+"-"+c,v)}}}
function _gxsAJa(a){for(var b=$(".fc-center"),c=0;c<b.length;c++){var d=b[c];if($(d).is(":visible")){d=d.id.substring(0,3);for(var e=0,g=0,h=0;h<monthArray.length;h++)-1<a.indexOf(monthArray[h])&&(g=h);for(h=0;h<monthArray.length;h++)-1<d.indexOf(monthArray[h])&&(e=h);if(g==e)break;if(g<e){$(".fc-prev-button").trigger("click");break}if(g>e){$(".fc-next-button").trigger("click");break}}}}
function _WzDID5(){var a=dbGet("hi1").split("::")[0];a=parseInt(a,10);a=moment(a).format("DDMMM HH:mm");$("#lastUpdateTextId").html("Last DECS sync: "+a);_g2KwHE();a=[];for(var b in masterSaveObject)if(-1<b.indexOf("HSS/")){var c=masterSaveObject[b],d=parseInt(c[0],10),e=c[2];e=new Seq(c[1],e);a[d]=e}b=[];for(var g in a)b.push(g);b.sort();for(g=0;g<b.length;g++)b[g]>(new Date).getTime()+36E5&&(d=a[b[g]],c=d.command.replace("HSS/",""),e=_Uq6bBc(c,d.details,!1),$("#seqButton_"+g).html(c+"<span> "+e+
"</span>"),$("#seqButton_"+g).show(),$("#seqDetails_"+g).html(d.details),$("#seq_"+g).show(),$("#offerDetails_"+g).hide(),$("#seqView_"+g).unbind().click(function(){var a=this.id;a=a.replace("seqView_","");a=$("#seqButton_"+a).html();var b=a.indexOf("<span");a=a.substring(0,b);masterSaveObject["HSS/"+a][1].replace("HSS/","")}),$("#seqButton_"+g).unbind().click(function(){$("#myTripTradeBoxDecsDataId").removeClass("yellowBackground");var a=$("#"+this.id).html(),b=a.indexOf("<span");a=a.substring(0,
b);var c=a.split("/");b=c[2];c=null;a=masterSaveObject["HSS/"+a];var d=a[1];a=a[2];c=this.id;c=c.replace("seqButton_","");var e=$("#calendar").fullCalendar("clientEvents"),g=$("#miniCalendar").fullCalendar("clientEvents");if($("#offerDetails_"+c).is(":visible"))$("#calendar").fullCalendar("removeEventSource",e),$.each(e,function(a,b){null!=b.hssCommand&&d==b.hssCommand&&(b.backgroundColor="#E1EBF1")}),$("#calendar").fullCalendar("addEventSource",e),e=null,$("#miniCalendar").fullCalendar("removeEventSource",
g),$.each(g,function(a,b){null!=b.hssCommand&&d==b.hssCommand&&(b.backgroundColor="#E1EBF1")}),$("#miniCalendar").fullCalendar("addEventSource",g),g=null,$("#myTripTradeBoxDecsDataId").html("<br /><br /><br /><br />  Click on 'My Trips' to fill this box."),savedDropDataBeforeHover=$("#myTripTradeBoxDecsDataId").html(),_QKA7SQ(),$("#myTripTradeBoxDecsDataId").css("background-color","#D2CBCB"),$("#offerDetails_"+c).hide("fast"),$("#calendarOnlyDecsDisplayWindowId").html(""),$("#calendarOnlyDecsDisplayWindowId").css("background-color",
"#D2CBCB");else{_ALRtdb();$("#calendar").fullCalendar("removeEventSource",e);var u=$("#"+this.id).css("background-color");$.each(e,function(a,b){null!=b.hssCommand&&d==b.hssCommand&&(b.backgroundColor=u)});$("#calendar").fullCalendar("addEventSource",e);e=null;$("#miniCalendar").fullCalendar("removeEventSource",g);$.each(g,function(a,b){null!=b.hssCommand&&d==b.hssCommand&&(b.backgroundColor=u)});$("#miniCalendar").fullCalendar("addEventSource",g);g=null;$("#offerDetails_"+c).show("fast");c="<pre><span id='sevenDropId' class='quickTradeDropDrag' data-command='"+
d+"'>CLICK AND DRAG FOR QUICK TRADE</span><span data-id='_"+c+"' class='clearDropBox'>CLEAR</span>\n";e=_27VgIe(d,a);e=_HGoLI3(d,e);$("#myTripTradeBoxDecsDataId").html(c+e);_5cAvYi();_QKA7SQ();g=d.split("/");dbSet(g[2]+"/"+g[3],a);savedDropDataBeforeHover=c+a;$("#myTripTradeBoxDecsDataId").css("background-color",u);$("#calendarOnlyDecsDisplayWindowId").html(e);$("#calendarOnlyDecsDisplayWindowId").css("background-color",u);$(".nsLink").unbind().click(function(){command=$("#"+this.id).attr("data-command");
apaOutput="";$("#seqPopupDecsDataId").html("<pre>loading...</pre>");$("#seqPopupInputWindowId").val(command);_7BotAy(DIRECTION_GENERAL_POPUP,0);$("#seqPopupId").show("fast",function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})})});$(".pilotLookup").unbind().click(function(){_N2uE7h($("#"+this.id).html())});_kIiqc4()}a=moment(b,"DDMMM");a._d.getTime()<(new Date).getTime()-7776E6&&(a=moment((new Date).getTime()).format("YYYY"),a=parseInt(a,10),a=moment(b+(a+1),
"DDMMMYYYY"));$("#miniCalendar").fullCalendar("gotoDate",a);$("#calendar").fullCalendar("gotoDate",a)}),$("#seqDetails_"+g).unbind().click(function(){}),$(".createAlert").unbind().click(function(){alertify.alert("Create new trade offers by clicking 'in Play' at the bottom of the screen, then finding a trip you want to trade for.")}),$("#createDrop_"+g).unbind().click(function(){manageDropDetailsWindow(this.id)}),$("#dropTripDetailsId_"+g).hide(),$("#createDrop_"+g).show()),_k27K6v()}
function _ALRtdb(){var a=[];for(d in masterSaveObject)if(-1<d.indexOf("HSS/")){var b=masterSaveObject[d],c=parseInt(b[0],10);b=new Seq(b[1],b[2]);a[c]=b}var d=[];for(var e in a)d.push(e);d.sort();for(a=0;a<d.length;a++)if(b=$("#seqButton_"+a).html(),0!=b.length){e=b.indexOf("<span");b=b.substring(0,e);b=masterSaveObject["HSS/"+b];var g=b[1];b=$("#calendar").fullCalendar("clientEvents");e=$("#miniCalendar").fullCalendar("clientEvents");if($("#offerDetails_"+a).is(":visible")){$("#calendar").fullCalendar("removeEventSource",
b);$.each(b,function(a,b){null!=b.hssCommand&&g==b.hssCommand&&(b.backgroundColor="#E1EBF1")});$("#calendar").fullCalendar("addEventSource",b);$("#miniCalendar").fullCalendar("removeEventSource",e);$.each(e,function(a,b){null!=b.hssCommand&&g==b.hssCommand&&(b.backgroundColor="#E1EBF1")});$("#miniCalendar").fullCalendar("addEventSource",e);b=null;$("#myTripTradeBoxDecsDataId").html("<br /><br /><br /><br />  Click on 'My Trips' to fill this box.");savedDropDataBeforeHover="<br /><br /><br /><br />  Click on 'My Trips' to fill this box.";
_QKA7SQ();$("#myTripTradeBoxDecsDataId").css("background-color","#D2CBCB");$("#offerDetails_"+a).hide("fast");$("#calendarOnlyDecsDisplayWindowId").html("");$("#calendarOnlyDecsDisplayWindowId").css("background-color","#D2CBCB");break}}}
function _k27K6v(){var a=!1,b;for(b in masterSaveObject)if(-1<b.indexOf("HSS/")){var c=masterSaveObject[b];-1<c[2].indexOf("noDataWithEmpNumber")&&(a=!0);c[3]=0;dbSet(b,c);c=null}a?($("#tripsHeadId").html("Click to Update Missing Data"),$("#tripsHeadId").css("color","#AD3737"),$("#tripsHeadId").addClass("hssRetry"),$("#updateHiseqId").hide()):($("#tripsHeadId").html("<a class='hiLeft' href='#' id=\"getHi1Id\">HI1</a>My Trips<a class='hiRight' href='#' id=\"getHi2Id\">HI2</a>"),$("#tripsHeadId").css("color",
"black"),$("#tripsHeadId").removeClass("hssRetry"),$("#updateHiseqId").show(),$("#getHi1Id").unbind().click(function(){validPin&&(command="HI1",apaOutput="",$("#seqPopupDecsDataId").html("<pre>loading...</pre>"),$("#seqPopupInputWindowId").val(command),_7BotAy(DIRECTION_GENERAL_POPUP,0),$("#seqPopupId").show("fast",function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})}))}),$("#getHi2Id").unbind().click(function(){validPin&&(command="HI2",apaOutput="",$("#seqPopupDecsDataId").html("<pre>loading...</pre>"),
$("#seqPopupInputWindowId").val(command),_7BotAy(DIRECTION_GENERAL_POPUP,0),$("#seqPopupId").show("fast",function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})}))}));_oLIGyv(dbGet("hiseq"))}function manageDropDetailsWindow(a){a=a.replace("createDrop_","");$("#dropTripDetailsId_"+a).is(":visible")?$("#dropTripDetailsId_"+a).hide("fast",function(){$("#createDrop_"+a).show()}):$("#dropTripDetailsId_"+a).show("fast",function(){$("#createDrop_"+a).hide()})}
function _1z4ENy(a){a=a.replace("inPlayStatusButton_","");var b=$("#inPlayStatusImage_"+a).attr("src");-1<b.indexOf("eyeSide")?$("#inPlayStatusImage_"+a).attr("src","images/doNotTouch.png"):-1<b.indexOf("doNotTouch")&&$("#inPlayStatusImage_"+a).attr("src","images/eyeSide.png")}
function _BuluvK(a){a=a.replace("seqStatusButton_","");var b=$("#seqStatusImage_"+a).attr("src");-1<b.indexOf("eyeSide")?$("#seqStatusImage_"+a).attr("src","images/doNotTouch.png"):-1<b.indexOf("doNotTouch")&&$("#seqStatusImage_"+a).attr("src","images/eyeSide.png")}
function _HkNQnH(){0==ttotStartTimeForNextMonth?(_Shdwnx(),$("#hiInfoId").show(),setTimeout(function(){_HkNQnH()},12E4)):ttotStartTimeForNextMonth<(new Date).getTime()?(weHaveAValidAutoTradeInProgress=!1,$("#autoTradeInProgressId").html(""),$("#hiInfoId").show(),setTimeout(function(){_HkNQnH()},144E5)):ttotStartTimeForNextMonth>(new Date).getTime()&&(new Date).getTime()>ttotStartTimeForNextMonth-3E5?0==weHaveAValidAutoTradeInProgress&&0==$("#autoTradeInProgressId").html().length?(_WocTYX(),setTimeout(function(){_HkNQnH()},
3E4)):weHaveAValidAutoTradeInProgress&&setTimeout(function(){_HkNQnH()},1E4):ttotStartTimeForNextMonth>(new Date).getTime()&&(new Date).getTime()>ttotStartTimeForNextMonth-48E4?setTimeout(function(){_HkNQnH()},6E4):ttotStartTimeForNextMonth>(new Date).getTime()&&setTimeout(function(){_HkNQnH()},24E4)}
function _QzZAS1(a){var b=a.replace("dhNoPref","");b=b.replace("dhNoDead","");b=b.replace("dhNoLast","");b=b.replace("dhNoAa","");b=b.replace("dhReqAny","");b=b.replace("dhReqFirstOrLast","");b=b.replace("dhReqFirst","");b=b.replace("dhReqLast","");a=a.replace(b,"");var c=$("#dhNoPref"+b).attr("checked"),d=$("#dhNoDead"+b).attr("checked"),e=$("#dhReqAny"+b).attr("checked"),g=$("#dhReqFirst"+b).attr("checked"),h=$("#dhReqLast"+b).attr("checked"),k=$("#dhReqFirstOrLast"+b).attr("checked"),f=$("#dhNoLast"+
b).attr("checked"),n=$("#dhNoAa"+b).attr("checked");switch(a){case "dhNoPref":"checked"===c&&($("#dhNoAa"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",
!1).checkboxradio("refresh"));break;case "dhNoDead":"checked"===d&&($("#dhNoAa"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"));
break;case "dhReqAny":"checked"===e&&($("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"));break;case "dhReqFirst":"checked"===g?($("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!1).checkboxradio("refresh"),
$("#dhReqAny"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh")):"checked"!==h&&"checked"!==e&&"checked"!=k&&($("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!0).checkboxradio("refresh"),$("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoAa"+
b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+b).attr("checked",!1).checkboxradio("refresh"));break;case "dhReqLast":"checked"===h?($("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh")):
"checked"!==g&&"checked"!==e&&"checked"!=k&&($("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!0).checkboxradio("refresh"),$("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoAa"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+b).attr("checked",
!1).checkboxradio("refresh"));break;case "dhReqFirstOrLast":"checked"===k?($("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh")):"checked"!==g&&"checked"!==e&&"checked"!==h&&($("#dhNoDead"+
b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!0).checkboxradio("refresh"),$("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoAa"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+b).attr("checked",!1).checkboxradio("refresh"));break;case "dhNoLast":if("checked"===
f&&($("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"),"checked"===d)){alertify.alert("You checked No Deadhead on any leg.  This option is not required.");$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh");break}case "dhNoAa":"checked"===n&&("checked"===d?(alertify.alert("You checked No Deadhead on any leg.  This option is not required."),$("#dhNoAa"+b).attr("checked",!1).checkboxradio("refresh")):$("#dhNoPref"+
b).attr("checked",!1).checkboxradio("refresh"));break;default:$("#dhNoDead"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoPref"+b).attr("checked",!0).checkboxradio("refresh"),$("#dhReqFirst"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqFirstOrLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoAa"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhNoLast"+b).attr("checked",!1).checkboxradio("refresh"),$("#dhReqAny"+
b).attr("checked",!1).checkboxradio("refresh")}}function _lKxvFi(a){if("NaN"==typeof a)return"-.--";if(0==a)return"0.00";var b=!1;0>a&&(b=!0,a*=-1);var c=Math.floor(a/60);a%=60;10>a&&(a="0"+a);return b?"-"+c+"."+a:c+"."+a}function _l5bqIP(a){a=a.replace(":",".");var b=a.split(".");a=parseInt(b[0],10);b=parseInt(b[1],10);return 60*a+b}function _r32cnm(a){var b=""+a;return 1===b.length?"0"+a:b}
function _uN1A28(a){for(var b=0,c=0;c<monthArray.length;c++)if(-1<a.indexOf(monthArray[c])){b=c+1;break}a=a.substring(0,2);return"-"+b+"-"+a}
function _RqWR0N(a){var b=!1;try{return-1<a.indexOf("7 DAYS RESERVE DUTY")&&(b=!0),-1<a.indexOf("ILLGL ")&&(b=!0),-1<a.indexOf("FAR-121")&&(b=!0),-1<a.indexOf("ILLEGAL FLT")&&(b=!0),-1<a.indexOf("NOT QUALIFIED")&&(b=!0),-1<a.indexOf("NOT CURRENT")&&(b=!0),-1<a.indexOf("CAN NOT TRADE POSITIONS")&&(b=!0),-1<a.indexOf(" HRS")&&(b=!0),-1<a.indexOf("CONFLICT")&&(b=!0),-1<a.indexOf("REQUIRES")&&(b=!0),-1<a.indexOf("INVLD DATE")&&(b=!0),-1<a.indexOf("CUMUL FLT")&&(b=!0),-1<a.indexOf("OVER PROJECTED")&&(b=
!0),-1<a.indexOf("UNEQUAL TRADE-TRANSACTION IGNORED")&&(b=!0),-1<a.indexOf("UNABLE")&&(b=!0),-1<a.indexOf("INSUFFICIENT")&&(b=!0),b}catch(c){return!1}}
function _3JAoPi(a,b){if("OPEN"==a.two.seqNumberDate1)var c="<pre>"+b+"\n\n<a href='#' class='postLink' data-route='auto'  data-command='HIPOST/"+a.one.seqNumberDate1+"/"+a.dropType+"'>ADD TO AUTO DROP.</a>\n";$("#seqPopupDecsDataId").html(c);$("#seqPopupInputWindowId").val("");$(".postLink").unbind().click(function(){"auto"==$(this).attr("data-route")&&$("#seqPopupId").hide("fast",function(){$("#autoDropTabId").trigger("click")})})}
function _QKA7SQ(){_AI3dyV();$(".twoBoxButton").unbind().click(function(){var a=TRADE_CONSTANT.TEST;-1<$("#"+this.id).html().indexOf("Live")&&(a=TRADE_CONSTANT.LIVE);var b=$("#sevenDropId").attr("data-command");"undefined"!=typeof b?(b=$("#sevenDropId").attr("data-command").replace("HSS/",""),b=b.replace("CA/",""),b=b.replace("RC/",""),b=b.replace("FO/",""),b=b.replace("FB/",""),b=b.replace("FC/","")):b="";var c=$("#sevenPickupId").attr("data-command");if("undefined"!=typeof c){c=$("#sevenPickupId").attr("data-command").replace("HSS/",
"");var d=c.split("/");3==d.length&&(c=d[1]+"/"+d[2]+"/"+d[0])}else c="";d=$("#openTripTradeBoxDecsDataId").html();0==c.length&&-1<d.indexOf("CLICK FOR LIVE")?-1<d.indexOf("openTimeLiveDataGet")?($(".openTimeLiveDataGet").trigger("click"),alertify.error("Live data needed.  Try your trade again.")):alertify.error("There was a problem.  Contact Support."):(d=$("#myTripTradeBoxDecsDataId").html(),0==b.length&&-1<d.indexOf("HSS/")?alertify.error("There was a problem.  Contact Support."):($("#seqPopupId").show("fast",
function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})}),_5ICQoL("seven",a,b,c)))})}
function _oLIGyv(a){a=a.split("\n");for(var b=0;40>b;b++){var c=$("#seqButton_"+b).html();if("undefined"!=typeof c&&0<c.length&&($("#seqButton_"+b).css("background-color","rgba(128, 128, 128, 0.14)"),c=c.split("<span>  --")[0],-1<c.indexOf("/"))){c=c.split("/");var d=c[1],e=c[2];$.each(a,function(a,c){-1<c.indexOf(d+"/"+e)&&(-1<c.indexOf(" RED")&&$("#seqButton_"+b).css("background-color","rgba(255, 0, 0, 0.14)"),-1<c.indexOf(" GREEN")&&$("#seqButton_"+b).css("background-color","rgba(0, 128, 0, 0.16)"),
-1<c.indexOf(" OFF")&&$("#seqButton_"+b).css("background-color","rgba(128, 128, 128, 0.14)"))})}}}
function _ti0j2h(){$("#miniCalendarWindowId").show();$("#calendarOnlyDecsDisplayWindowId").hide();setTimeout(function(){$(".fc-month-button").trigger("click")},200);$(".myTripsMain").height(345);$("#wholeBrowserId").attr("src","data:text/html,<html><body><form id='theForm' action='https://www.aapocket.com/liteSabreDesktopAutoTradeSettings.php?refreshPP=t&showLink=false&setNimbleWeb=t"+redRedderTag+"' method='post'> <input type='hidden' name='phonegap' value='"+dbGet("login")+"'/></form></body><script>document.getElementById('theForm').submit();\x3c/script></html>");
$("#updateHiseqId").hide()}var redRedderTag="";
function _1i5HhH(a){var b=AUTO_TRADE_NO,c=AUTO_DROP_NO,d=POST_NO,e=RED_REDDER_NO,g=$(".seqButtons"),h;for(h in g){b=AUTO_TRADE_NO;c=AUTO_DROP_NO;d=POST_NO;e=RED_REDDER_NO;var k=$("#"+g[h].id).html();if("undefined"!=typeof k&&""!=k&&null!=k){var f=k.indexOf("<span");k=k.substring(0,f);if(0!=k.length){$("#atVerbiageId_"+h).html("no Auto Trade. <span id='atSet_"+h+"' class='atSet postNow'>CREATE</span>");$("#adVerbiageId_"+h).html("<span class='adSet postNow'>SET AD</span>.  no Auto Drops.");$("#rrVerbiageId_"+
h).html(" <span id='rrSet_"+h+"' class='rrSet postNow'>CREATE</span>. no Red/Redders are set.");$("#pstVerbiageId_"+h).html("NOT posted in DECS... <span id='postNowId_"+h+"' class='viewHiseq postNow'>POST</span>");for(var n in a){f=a[n];if("trade"==f.nimbleType){var l=f.dropSeqNumber;if(-1<l.indexOf("/")){var r=l.split("/");l=parseInt(r[0],10);l=l+"/"+r[1];r=null}0<l.length&&-1<k.indexOf(l)&&($("#atVerbiageId_"+h).html("<span class='greenHss'>Auto Trade set. <span class='atSet postNow' id='atSet_"+
h+"' data-tradeId='id"+f.id+"'>EDIT</span></span>"),b=AUTO_TRADE_YES)}"drop"==f.nimbleType&&(l=f.sequence+"/"+f.date,-1<l.indexOf("/")&&(r=l.split("/"),l=parseInt(r[0],10),l=l+"/"+r[1],r=null),-1<k.indexOf(l)&&(f.post&&(d=f.actionType,"UNCREDITED"==d&&(d="UNC"),$("#pstVerbiageId_"+h).html("<span class='greenHss'>Posted for "+d+" drop.  <span id='editPostId_"+h+"' class='viewHiseq postNow'>VIEW</span></span>"),d=POST_YES),0<l.length&&-1<k.indexOf(l)&&(-1<f.actionType.indexOf("UNC")||-1<f.actionType.indexOf("PVD")||
-1<f.actionType.indexOf("VAC"))&&($("#adVerbiageId_"+h).html("<span class='greenHss'><span class='adSet postNow'>EDIT</span>.  Auto Drop is set.</span>"),c=AUTO_DROP_YES)));"redRedder"==f.nimbleType&&(l=f.mySeqDate,-1<l.indexOf("/")&&(r=l.split("/"),l=parseInt(r[0],10),l=l+"/"+r[1],r=null),0<l.length&&-1<k.indexOf(l)&&($("#rrVerbiageId_"+h).html("<span class='greenHss'><span id='rrSet_"+h+"' class='rrSet postNow' data-tradeId='id"+f.id+"'>EDIT</span>. a Red/Redder is set.</span>"),e=RED_REDDER_YES))}$(".viewHiseq").unbind().click(function(){$("#autoDropTabId").trigger("click")});
$(".atSet").unbind().click(function(){var a=this.id.replace("atSet_",""),b=$("#"+this.id).attr("data-tradeId");if(null!=b)redRedderTag="#"+b;else{a=$("#seqButton_"+a).html();b=a.indexOf("<span");a=a.substring(0,b);a=a.split("/");for(b=0;6>b;b++)5>a[1].length&&(a[1]="0"+a[1]);a=a[0]+"/"+a[1]+"/"+a[2];redRedderTag="&nimbleRedRedderSet="+a+"#createNew"}$("#autoTradeTabId").trigger("click");setTimeout(function(){redRedderTag=""},1E3)});$(".rrSet").unbind().click(function(){var a=this.id.replace("rrSet_",
"");if(null!=$("#"+this.id).attr("data-tradeId"))redRedderTag="#redderPage";else{a=$("#seqButton_"+a).html();var b=a.indexOf("<span");a=a.substring(0,b);a=a.split("/");for(b=0;6>b;b++)5>a[1].length&&(a[1]="0"+a[1]);a=a[0]+"/"+a[1]+"/"+a[2];redRedderTag="&nimbleRedRedderSet="+a+"#newRedRedderPage"}$("#autoTradeTabId").trigger("click");setTimeout(function(){redRedderTag=""},1E3)});$(".adSet").unbind().click(function(){$("#autoDropTabId").trigger("click")});b=_ArHo8q(c,b,d,e);for(var u in labelRemoveArray)$("#"+
g[h].id).removeClass(labelRemoveArray[u]);$("#"+g[h].id).addClass(b)}}}}var labelRemoveArray="ad at pst rr ad_at ad_pst ad_rr at_pst at_rr pst_rr ad_pst_rr at_pst_rr ad_at_pst ad_at_rr ad_at_pst_rr".split(" "),AUTO_DROP_YES="ady",AUTO_DROP_NO="adn",AUTO_TRADE_YES="aty",AUTO_TRADE_NO="atn",POST_YES="py",POST_NO="pn",RED_REDDER_YES="rry",RED_REDDER_NO="rrn";
function _ArHo8q(a,b,c,d){return a==AUTO_DROP_NO&&b==AUTO_TRADE_NO&&c==POST_NO&&d==RED_REDDER_NO?"":a==AUTO_DROP_YES&&b==AUTO_TRADE_NO&&c==POST_NO&&d==RED_REDDER_NO?"ad":a==AUTO_DROP_NO&&b==AUTO_TRADE_YES&&c==POST_NO&&d==RED_REDDER_NO?"at":a==AUTO_DROP_NO&&b==AUTO_TRADE_NO&&c==POST_YES&&d==RED_REDDER_NO?"pst":a==AUTO_DROP_NO&&b==AUTO_TRADE_NO&&c==POST_NO&&d==RED_REDDER_YES?"rr":a==AUTO_DROP_YES&&b==AUTO_TRADE_YES&&c==POST_NO&&d==RED_REDDER_NO?"ad_at":a==AUTO_DROP_YES&&b==AUTO_TRADE_NO&&c==POST_YES&&
d==RED_REDDER_NO?"ad_pst":a==AUTO_DROP_YES&&b==AUTO_TRADE_NO&&c==POST_NO&&d==RED_REDDER_YES?"ad_rr":a==AUTO_DROP_NO&&b==AUTO_TRADE_YES&&c==POST_YES&&d==RED_REDDER_NO?"at_pst":a==AUTO_DROP_NO&&b==AUTO_TRADE_YES&&c==POST_NO&&d==RED_REDDER_YES?"at_rr":a==AUTO_DROP_NO&&b==AUTO_TRADE_NO&&c==POST_YES&&d==RED_REDDER_YES?"pst_rr":a==AUTO_DROP_YES&&b==AUTO_TRADE_NO&&c==POST_YES&&d==RED_REDDER_YES?"ad_pst_rr":a==AUTO_DROP_NO&&b==AUTO_TRADE_YES&&c==POST_YES&&d==RED_REDDER_YES?"at_pst_rr":a==AUTO_DROP_YES&&b==
AUTO_TRADE_YES&&c==POST_YES&&d==RED_REDDER_NO?"ad_at_pst":a==AUTO_DROP_YES&&b==AUTO_TRADE_YES&&c==POST_NO&&d==RED_REDDER_YES?"ad_at_rr":a==AUTO_DROP_YES&&b==AUTO_TRADE_YES&&c==POST_YES&&d==RED_REDDER_YES?"ad_at_pst_rr":""}function _5Hr2a8(a){var b=new Date(a.getTime()+6E4*a.getTimezoneOffset()),c=a.getTimezoneOffset()/60;a=a.getHours();b.setHours(a-c);return b}function _glFmZ2(a,b,c){if(a<=c)return b;a=b+1;return 13===a?1:a}
function _W926hs(){var a=[];a[0]=$("#changeStatusBaseId").val();a[1]=$("#changeStatusPosId").val();a[2]=$("#changeStatusEquipId").val();a[3]=$("#changeStatusDivId").val();$("#changeStatusBaseId").selectmenu("refresh",!0);$("#changeStatusPosId").selectmenu("refresh",!0);$("#changeStatusEquipId").selectmenu("refresh",!0);$("#changeStatusDivId").selectmenu("refresh",!0);dbSet("fourPart",a);$("#fourPartDisplayId").html(a[0]+"/"+a[1]+"/"+a[2]+"/"+a[3])}var glosaryOutput="",glossaryInput="";
function _dXQXfy(a){var b=a.indexOf("glossaryStart"),c=a.indexOf("glossaryEnd");a=a.substring(b,c);a=a.split("\n");for(b=0;b<a.length;b++)-1<a[b].indexOf(":")&&(c=a[b].split(":"),glosaryOutput+="<span class='glossaryTag' id='_glossaryTagId"+b+"' data-input='"+c[0]+"'>"+c[1]+"</span> "+c[2]+"<br>");$("#glossaryId").html(glosaryOutput);$(".glossaryTag").unbind().click(function(){var a=$("#"+this.id).attr("data-input");$("#generalDecsWindowInputWindowId").val(a);$("#generalDecsWindowInputWindowId").focus()});
setInterval(function(){glossaryInput!=$("#glossarySearchBoxId").val()&&""!=$("#glossarySearchBoxId").val()&&(glossaryInput=$("#glossarySearchBoxId").val(),_egfmKd($("#glossarySearchBoxId").val()))},200)}
function _egfmKd(a){for(var b="",c=glosaryOutput.split("<br>"),d=0;d<c.length;d++){var e=c[d].substring(c[d].indexOf("'>")+2,c[d].indexOf("</span")).toUpperCase(),g=c[d].substring(c[d].indexOf("</span>")+7,c[d].length).toUpperCase(),h=a.toUpperCase();if(-1<e.indexOf(h)||-1<g.indexOf(h))b+=c[d]+"</br>"}$("#glossaryId").html(b);0==a&&$("#glossaryId").html(glosaryOutput);$(".glossaryTag").unbind().click(function(){var a=$("#"+this.id).attr("data-input");$("#generalDecsWindowInputWindowId").val(a);$("#generalDecsWindowInputWindowId").focus()})}
function _SFk08A(a){for(var b=table.split("\n"),c=0;c<b.length;c++){var d=b[c];if(5<d.length&&d.substring(4,6)==a&&16<d.length)return d.substring(9,17)}return""}
function _8dmCGC(a){for(var b="ASSIGNMENT REASON CODE TABLE  - PILOTS  AS OF 28MAR/1832;NBR CODE PRINT   GRP APP SK U PA SR MS AS MC ST IG PL PAYP PAYF;001                                                            ;002 CK   CKAIR    25  P              Y CA                      ;003 PC   CKAIRPRF TR  P              Y  Y                      ;004                                                            ;005                                                            ;006 CF   CRAF     CF  P                CA                      ;007                                                            ;008                                                            ;009 XC   SKD CON  SC                   CA        Y             ;010                                                            ;011                                                            ;012                                                            ;013 WG   WINGS    MC  P                CA                      ;014                                                            ;015                                                            ;016                                                            ;017                                                            ;018                   P              Y CA                      ;019                                                            ;020 DT   DISPD IE DP  P              Y                019      ;021 SN   SUP NUM  SN  P                CA                      ;022 DP   DISPD    DP  P              Y                019      ;023 CH   CHG OVR  CH  P                CA        Y             ;024                                                            ;025                                                            ;026                                                            ;027 RS   SPROJ NO RS                 Y                         ;028 IR   INTNL RA RA                 Y CA             018      ;029                                                            ;030 RA   RA       RA  P              Y CA                      ;031 PM   PREM M/U AM  P                CA                      ;032 PR   PREM RSV AM  P                CA                      ;033 OG   RSVOGUAR AM  P                CA                      ;034                                                            ;035                                                            ;036 LT   LOT      LT  P              Y CA        Y             ;037                                                            ;038 AR   ASN RSV  RF  P                CA        Y             ;039 SH   SKD CHG  SH                   CA        Y             ;040 LR   ASLMINRS RF  P              Y CA        Y             ;041 MF   MANAGEFL MF  P                CA                      ;042 MP   MANGEAPP MP  P                                        ;043                                                            ;044 OM   OVR MAX  RA                   CA        Y             ;045                                                            ;046 AL   AGGRPU L AM  P                CA                      ;047 AG   AGGRPU R AM  P                CA        Y             ;048 RO   RECOVERY 25  P              Y CA                      ;049 MU   MAKE UP  AM  P                CA        Y             ;050 MO   MUOUTBSE AM  P                CA        Y             ;051 RV   RSV VOL  AM                   CA        Y             ;052                                                            ;053                                                            ;054                                                            ;055 AF   ADDFLY   25  P              Y                         ;056 XU   RSVCIDIV RF  P                CA        Y             ;057 XM   RSVCIDIV RF  P                CA        Y             ;058 YU   RSVCODIV RF  P                CA        Y             ;059 YM   RSVCODIV RF  P                CA        Y             ;060                                                            ;061                                                            ;062                                                            ;063                                                            ;064 RF   RESERVE  RF  P                CA        Y             ;065                                                            ;066 TT   TT       TT  P                CA        Y             ;067 MM   MU OVMAX MU                   CA        Y             ;068 *    1-1 CPA  MC  P                    Y          093      ;069                                                            ;070 *    TEMPFS   SV  P                    Y          070      ;071 *    TEMPSFE  SV  P                    Y          071      ;072 *    TEMPCA   SV  P                    Y          072      ;073 JM   LOTRES   RF  P              Y CA        Y             ;074 SF   SUPFLY   SF  P                                        ;075 02   TYPE 2   RA                   CA        Y    028      ;076 03   TYPE 3   RA                   CA        Y    028      ;077                                                            ;078                                                            ;079                                                            ;080 RU   RESERVE  RF  P                CA        Y             ;081 JU   LOTRES   RF  P                CA        Y             ;082 AU   ASN RSV  RF  P                CA        Y             ;083 LU   ASLMINRS RF  P              Y CA        Y             ;084                                                            ;085                                                            ;086                                                            ;087                                                            ;088                                                            ;089                                                            ;090                                                            ;091 PP   PAYPROT      P                 Y                      ;092                                                            ;093                                                            ;094                                                            ;095                                                            ;096                                                            ;097                                                            ;098                                                            ;099                                                            ;100 *    NOCRINPA PA  P                    Y                   ;101 PD   DISPD    DP  P              Y CA        Y    019      ;102                                                            ;103 CD   DISPDC/A DP  P              Y CA             019      ;104 VJ   VJA RA   RA                   CA        Y             ;105 *    1.5-1CPA MC                       Y                   ;106                                     Y                      ;107 *    SKACCPAY SK  P                    Y          004      ;108 *    WITHHELD MC  P                    Y          012      ;109 *    WITHHELD MC                       Y          012      ;110 *    RATEPROT MC  P                    Y                   ;111 *    INTOVRDE MC  P                    Y          092      ;112 *    D LEARN  MC  P                    Y          039      ;113                                                            ;114 *    NOT RLSD MC  P                    Y          029      ;115                                                            ;116                                                            ;117                                                            ;118                                                            ;119 IE   IOE      IE  P                CA                      ;120 *    INSTRPAY SV  P                    Y                   ;121 *    - PPROJ  MC  P                    Y          015      ;122                                                            ;123 *    RA PREM  MC  P                    Y          095      ;124 *    LTOSCALL MC  P                    Y          094      ;125 *    RSV ABVG MC  P                    Y          078      ;126 *    RA PC    MC  P                    Y          018      ;127 *    DONT USE MC                                           ;128 *    MC F4                                                 ;129 *    CPA PM   CP  P                    A          026      ;130 *    21E2 CXD 2X                      C           003      ;131                                                            ;132 *    PD PROJ  PA  P                   C           014      ;133 *    CODE 17  17  P                   C           017      ;134 *    CODE 17I 17  P                   C           017      ;135 *    CPAOVR50 CP  P                    Y          021      ;136 *    SOE      SE  P                   C           003      ;137 *    MMBA-1/2 MC                       Y                   ;138 *    RPT NOGO 2G  P                    A          003      ;139 *    CPA      CP  P                   C           021      ;140 *    -SPROJ   MC  P                    Y                   ;141 LQ   LQ LOT   LT                 Y CA        Y             ;142 RQ   LQ TYPE1 RA                 Y CA        Y    018      ;143 R2   LQ TYPE2 RA                   CA        Y    028      ;144 *    PAYOUT   MC  P                    Y          096      ;145 CB   COMPBANK CB  P                    Y                   ;146 PB   PAYBANK  PB  P                    Y                   ;147 *    CPA 2015 CP  P                    Y          021      ;148 *    RANDOM   MC  P                    Y          024      ;149 *    UNPDPROJ UP  P  N                CA          008      ;150 *    CPA CUT  MC  P                   C           023      ;151 *    VCBK ADJ MC  P                   C                    ;152 *    RANDOM A MC  P                    Y          030      ;153 *    CPABORRW CP  P                               097      ;154                                                            ;155 *    MIDSEQSK SK  P                    Y          005      ;156                                                            ;157 OB   OBSVN    OB  P              Y CA        Y             ;158 *    SPROT P  SP  P                    Y          098      ;159 *    SPROTPRM SP  P                    Y          099      ;160                                                            ;161                                                            ;162                                                            ;163 *    IMAX LMT MC  P                    Y                   ;164 *    -IMAXLMT MC  P                    Y                   ;165 *    SPROT PC PA  P                   C           091      ;166 *    SIT TIME PA  P                    Y          025      ;167                                                            ;168                                                            ;169                                                            ;170 *    PAY      MC  P                    Y                   ;171                                                            ;172                                                            ;173                                                            ;174                                                            ;175                                                            ;176                                                            ;177                                                            ;178                                                            ;179                                                            ;180                                                            ;181                                                            ;182                                                            ;183                                                            ;184                                                            ;185                                                            ;186                                                            ;187                                                            ;188                                                            ;189                                                            ;190                                                            ;191                                                            ;192                                                            ;193                                                            ;194                                                            ;195                                                            ;196                                                            ;197                                                            ;198 AP   APPORPAY AP  P                                        ;199                                                            ;200                                                            ;201                                                            ;202                                                            ;203                                                            ;204                                                            ;205                                                            ;206                                                            ;207                                                            ;208                                                            ;209                                                            ;210                                                            ;211                                                            ;212                                                            ;213                                                            ;214                                                            ;215                                                            ;216                                                            ;217                                                            ;218                                                            ;219                                                            ;220                                                            ;221                                                            ;222                                                            ;223                                                            ;224                                                            ;225                                                            ;226                                                            ;227                                                            ;228                                                            ;229                                                            ;230                                                            ;231                                                            ;232                                                            ;233                                                            ;234                                                            ;235                                                            ;236 OA   HIHUADD  TT                   CA        Y             ;237 OT   TTOPTIME TT  P                CA        Y             ;238                                                            ;239                                                            ;240                                                            ;241                                                            ;242                                                            ;243                                                            ;244 SD   SEQDROP  TT  P                CA        Y             ;245 SP   TTOTMU   TT  P                CA        Y             ;246 RP   OTHER    25  P              Y CA                      ;247 25   OTHER    25  P              Y CA                      ;248                                                            ;249                                                            ;250                                                            ;251                                                            ;252                                                            ;253                                                            ;254                                                            ;255                                                            ;END OF TABLE".split(";"),c=
0;c<b.length;c++){var d=b[c];if(5<d.length&&d.substring(4,6)==a&&16<d.length)return d.substring(9,17)}return""}
function _5cAvYi(){$(".openTimeLiveDataGet").unbind().click(function(a){a.preventDefault();$("#"+$(this).attr("data-id")).html("loading...");_rj5hqQ($(this).attr("data-command"))});$(".currentColorOfSeq").unbind().click(function(a){a.preventDefault();$("#"+$(this).attr("data-id")).html("loading...");colorId=$(this).attr("data-id");_hsaUNC($(this).attr("data-command"))});$(".clearBox").unbind().click(function(){_ljzbBT();_QKA7SQ();$("#googleCalConflictsLinkId").hide()});$(".clearDropBox").unbind().click(function(){_ALRtdb()});
$(".pilotLookup").unbind().click(function(){_N2uE7h($("#"+this.id).html())});$(".openTimeLiveDataGet").unbind().click(function(a){a.preventDefault();$("#"+$(this).attr("data-id")).html("loading...");_rj5hqQ($(this).attr("data-command"))});$(".currentColorOfSeq").unbind().click(function(a){a.preventDefault();$("#"+$(this).attr("data-id")).html("loading...");colorId=$(this).attr("data-id");_hsaUNC($(this).attr("data-command"))});$(".nsLink").unbind().click(function(){command=$("#"+this.id).attr("data-command");
apaOutput="";$("#seqPopupDecsDataId").html("<pre>loading...</pre>");$("#seqPopupInputWindowId").val(command);_7BotAy(DIRECTION_GENERAL_POPUP,0);$("#seqPopupId").show("fast",function(){$("#seqCancelButtonId").unbind().click(function(){$("#seqPopupId").hide("fast")})})});$(".hi33LongId").unbind().click(function(){var a=$("#"+this.id).attr("data-display"),b=$("#generalDecsWindowDecsDataId").html();-1<b.indexOf("hi33LongId")?_Z7X7ra(a,"LC"):(b=$("#seqPopupDecsDataId").html(),-1<b.indexOf("hi33LongId")&&
_Z7X7ra(a,"LC"))});$(".hi33AllId").unbind().click(function(){var a=$("#"+this.id).attr("data-display"),b=$("#generalDecsWindowDecsDataId").html();-1<b.indexOf("hi33AllId")?_Z7X7ra(a,"ALL"):(b=$("#seqPopupDecsDataId").html(),-1<b.indexOf("hi33AllId")&&_Z7X7ra(a,"ALL"))});$(".hi33ShortId").unbind().click(function(){var a=$("#"+this.id).attr("data-display"),b=$("#generalDecsWindowDecsDataId").html();-1<b.indexOf("hi33ShortId")?_Z7X7ra(a,"SC"):(b=$("#seqPopupDecsDataId").html(),-1<b.indexOf("hi33ShortId")&&
_Z7X7ra(a,"SC"))});$(".hi33Help").unbind().click(function(){alertify.alert("Displays pilots with more than 0 days availability.")})}var myTripSavedContentForGoogleCalendarPresentation="";
function _e27uOc(a,b){b&&(myTripSavedContentForGoogleCalendarPresentation=$("#myTripTradeBoxDecsDataId").html());myTripSavedContentForGoogleCalendarPresentationBackgroundColor=$("#myTripTradeBoxDecsDataId").css("background-color");$("#myTripTradeBoxDecsDataId").html("<br /><span class='calendarConflictsBackButton'><--BACK</span><br /><span class='conflictDescriptor'>Calendar events that conflict with this trip --\x3e</span><div class='gCalRight'>loading google calendar events...<br /><img src='images/wait22.gif'/></div>");$(".calendarConflictsBackButton").unbind().click(function(){_jt9FVJ()});
$("#myTripTradeBoxDecsDataId").addClass("yellowBackground");for(var c=$("#openTripTradeBoxDecsDataId").html().split("\n"),d=0;d<c.length;d++)if(-1<c[d].substring(0,4).indexOf("HSS/")){"undefined"==typeof a?_2UsaYj(c[d].trim(),"f"):_2UsaYj(c[d].trim(),a);break}}
function _jt9FVJ(){-1<$("#myTripTradeBoxDecsDataId").html().indexOf("calendarConflictsBackButton")&&($("#myTripTradeBoxDecsDataId").html(myTripSavedContentForGoogleCalendarPresentation),_5cAvYi(),_kIiqc4(),$("#myTripTradeBoxDecsDataId").removeClass("yellowBackground"),"undefined"!=typeof universalPostRequest_getAll_FutureGoogleCalendarEvents&&universalPostRequest_getAll_FutureGoogleCalendarEvents.abort())}
function _inPInM(){var a=dbGet("filterOptionsObject");"object"==typeof a&&(filterOptionsObject=a);if(null!=a)for(var b in a)"deadHeadOptions"==b?_Jkqwnw(a[b]):($("#"+b).val(a[b]),0<$("#"+b).length&&-1<$("#"+b).prop("type").indexOf("select")&&$("#"+b).selectmenu("refresh",!0))}
function _Jkqwnw(a){a=a.split(",");for(var b="dhNoPrefId dhNoDeadId dhReqAnyId dhReqFirstId dhReqLastId dhReqFirstOrLastId dhNoLastId dhNoAaId".split(" "),c=!1,d=0;d<a.length;d++)0<d&&"true"==a[d]&&(c=!0),"true"==a[d]?$("#"+b[d]).prop("checked",!0).checkboxradio("refresh"):$("#"+b[d]).prop("checked",!1).checkboxradio("refresh");c?$("#deadheadViewId").show("fast"):$("#deadheadViewId").hide()}var filterOptionsObject={};
function _yiPzUo(){$("#timeboxDepStartId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#timeboxDepEndId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#timeboxArrStartId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#timeboxArrEndId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#minDaysId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#maxDaysId").change(function(){var a=$("#"+
this.id).val();_xIevNz(this.id,a)});$("#dhNoPrefId").change(function(){_XyfUju()});$("#dhNoDeadId").change(function(){_XyfUju()});$("#dhReqAnyId").change(function(){_XyfUju()});$("#dhReqFirstId").change(function(){_XyfUju()});$("#dhReqLastId").change(function(){_XyfUju()});$("#dhReqFirstOrLastId").change(function(){_XyfUju()});$("#dhNoLastId").change(function(){_XyfUju()});$("#dhNoAaId").change(function(){_XyfUju()});$("#minTotalPayMinutesId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,
a)});$("#minTotalPayMinutesFractionId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#minPayAndCreditId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#minPayAndCreditFractionId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#maxLegsId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#maxLegsPerSequenceId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#minLayoverId").change(function(){var a=
$("#"+this.id).val();_xIevNz(this.id,a)});$("#maxLayoverId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#minTAFBId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#maxTAFBId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#allNightersId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#desiredLayoverCitiesId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#prohCitiesId").change(function(){var a=
$("#"+this.id).val();_xIevNz(this.id,a)});$("#prohLayoverCitiesId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#prohCoterminalCitiesId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)});$("#prohDaysOfWeekId").change(function(){var a=$("#"+this.id).val();_xIevNz(this.id,a)})}
function _XyfUju(){setTimeout(function(){var a=$("#dhNoPrefId").prop("checked"),b=$("#dhNoDeadId").prop("checked"),c=$("#dhReqAnyId").prop("checked"),d=$("#dhReqFirstId").prop("checked"),e=$("#dhReqLastId").prop("checked"),g=$("#dhReqFirstOrLastId").prop("checked"),h=$("#dhNoLastId").prop("checked"),k=$("#dhNoAaId").prop("checked");filterOptionsObject.deadHeadOptions=a+","+b+","+c+","+d+","+e+","+g+","+h+","+k},200)}function _xIevNz(a,b){filterOptionsObject[a]=b}
String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a,"g"),b)};function _6vdK5G(a){if(-1<a.indexOf("-")){a=a.replace("-","");var b=parseInt(a.substring(0,2),10);a=parseInt(a.substring(2,4),10);return 60*b+a}a=a.replace("+","");b=parseInt(a.substring(0,2),10);a=parseInt(a.substring(2,4),10);return-1*(60*b+a)}
function _XDrEzV(){var a=dbGet("flip-No24OnMiniPosition");""==a||"Yes"==a?($("#flip-No24OnMiniId").val("Yes"),$("#flip-No24OnMiniId").slider("refresh"),dbSet("flip-No24OnMiniPosition","Yes")):($("#flip-No24OnMiniId").val("No"),$("#flip-No24OnMiniId").slider("refresh"),dbSet("flip-No24OnMiniPosition","No"));a=dbGet("flip-hiProjIdPosition");"Yes"==a?($("#flip-hiProjId").val("Yes"),$("#flip-hiProjId").slider("refresh"),dbSet("flip-hiProjIdPosition","Yes"),$(".paySummary").show()):($("#flip-hiProjId").val("No"),
$("#flip-hiProjId").slider("refresh"),dbSet("flip-hiProjIdPosition","No"),$(".paySummary").hide())}function _2o4HdN(){var a=$("#hiSwitcherId").html();"HI1"==a?($("#hiSwitcherId").html("HI2"),_v2BRMl("HI2")):"HI2"==a&&($("#hiSwitcherId").html("HI1"),_v2BRMl("HI1"))}
function _v2BRMl(a){var b="";"HI1"==a&&(b=dbGet("hi1"));"HI2"==a&&(b=dbGet("hi2"));if(-1<b.indexOf("PROJ")&&-1<b.indexOf("IPMAX"))for(a=b.split("\n"),b=0;b<a.length;b++){var c=a[b];if(-1<c.indexOf("PROJ")&&-1<c.indexOf("IPMAX")){var d=c.substring(4,11).trim();0==d.length&&(d="---");var e=c.substring(14,21).trim();0==e.length&&(e="---");var g=c.substring(26,34).trim();0==g.length&&(g="---");c=c.substring(39,c.length).trim();0==c.length&&(c="---");$("#projId").html(d);$("#gtdId").html(e);$("#pprojId").html(g);
$("#ipmaxId").html(c)}}}function _C0tgu7(a){return 96<=a.keyCode&&105>=a.keyCode?a.keyCode-96:48<=a.keyCode&&57>=a.keyCode?a.keyCode-48:null}
function _Vqsz2m(a){"WRONG"==$("#pinWindow").html()&&$("#pinWindow").html("_ _ _ _");if(processing)return!1;if("X"==a)return $("#pinWindow").html("_ _ _ _"),!1;var b=$("#pinWindow").html().split(" ");if("back"==a)return"_"==b[0]?$("#pinWindow").html("_ _ _ _"):"_"==b[1]?$("#pinWindow").html("_ _ _ _"):"_"==b[2]?$("#pinWindow").html(b[0]+" _ _ _"):"_"==b[3]?$("#pinWindow").html(b[0]+" "+b[1]+" _ _"):$("#pinWindow").html(b[0]+" "+b[1]+" "+b[2]+" _"),!1;"_"==b[0]?b[0]=a:"_"==b[1]?b[1]=a:"_"==b[2]?b[2]=
a:"_"==b[3]&&(b[3]=a);$("#pinWindow").html(b[0]+" "+b[1]+" "+b[2]+" "+b[3]);return"_"==b[3]?!1:processing=!0}function _7OqnTg(){for(var a="",b=0;25>b;b++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a}
var mainGrid,legalGrid,colName=1,legalColName=1,sortOrder="asc",legalSortOrder="asc",colNamesGlobal="Date Type Seq Pos Div Dep_Arr Time Orig Term Legs Layover Nav Divs".split(" "),legalColNamesGlobal="Date Type Seq Pos Div Dep_Arr Time Orig Term Legs Layover Nav Divs".split(" "),counter=0,intTimer=null,counterDisplay=20,startTimeMS,timerStep=6E4,currentData=[],allocationArray=[],allocationCommandsArray=[];allocationCommandsArray[0]=(new Date).getTime();
var tradeTimerId,commCounter=0,workingTradeId,workingTradeOption,pollLegalTripsForLegalityCounter=0;RESPONDED="responded";LOGGED_IN_DECS="loggedInDecs";TRADING="trading";OTHER_PROCESS="otherProcess";TRIP_NOT_OPEN="tripNotOpen";TRADE_SUCCESS="tradeSuccess";TRADE_ERROR="tradeError";CONN_INTERRUPT="connectionInterrupt";BAD_PASSWORD="badPassword";UNABLE_DECS="unableDecs";FILE_ERROR="fileError";TRADE_FAILED="tradeFailed";var googleCalsArray=[],googlePass="wo48tj380sbe7oytjc5lsvytc4j8epfw54hw5fs46";
CAL_EVENTS_GLOBAL_SEP="asdc";CAL_EVENTS_CAL_NAME_SEP="ccvmf";CAL_EVENTS_CAL_SEP="qwsl";CAL_EVENTS_INTERNAL_SEP="a2sd";for(var retrieveAnyMissingSequencesAtLeastSixHoursOldCounter=[],mm=0;26>mm;mm++)retrieveAnyMissingSequencesAtLeastSixHoursOldCounter[mm]=0;version="vers: 1.8";
function _9K3RoF(){_0BJxfm();var a=$("#accountLeftId").width();$("#list").setGridWidth(a);$(window).resize(function(){$("#list").setGridWidth($("#mainCalendarId").innerWidth()-5)});$("#refreshButton").click(function(){_SeNg2I(null,!1)});$("#dateRangeDatePickerStart").unbind().datepicker({defaultDate:"+1w",changeMonth:!1,numberOfMonths:1,showOn:"focus",minDate:"0",onClose:function(a,c){$(this).attr("disabled",!1)},beforeShow:function(a,c){$(this).attr("disabled",!0)}});$("#dateRangeDatePickerStart").datepicker("option",
"dateFormat","ddM");$("#dateRangeDatePickerStart").width("42px");$("#dateRangeDatePickerStart").datepicker("setDate","+0");$("#dateRangeDatePickerStart").change(function(){_SeNg2I(null,!0)});$("#dateRangeDatePickerStart").click(function(a){a.stopPropagation()});$("#dateRangeDatePickerEnd").unbind().datepicker({defaultDate:"+1w",changeMonth:!1,numberOfMonths:1,showOn:"focus",minDate:"0",onClose:function(a,c){$(this).attr("disabled",!1)},beforeShow:function(a,c){$(this).attr("disabled",!0)}});$("#dateRangeDatePickerEnd").datepicker("option",
"dateFormat","ddM");$("#dateRangeDatePickerEnd").width("42px");$("#dateRangeDatePickerEnd").datepicker("setDate","+2");$("#dateRangeDatePickerEnd").change(function(){_SeNg2I(null,!1)});$("#statusBaseId").change(function(){_SeNg2I(null,!1)});$("#statusPosId").change(function(){_SeNg2I(null,!1)});$("#statusPosId").change(function(){_SeNg2I(null,!1)});$("#statusEquipId").change(function(){_SeNg2I(null,!1)});$("#statusDivId").change(function(){_SeNg2I(null,!1)});$("#viewTypes").change(function(){_SeNg2I(null,
!1)});$("#autoTradeSetButtonId").click(function(){submitAutoTrade()});$("#headersPopupId").draggable({handle:"#headersPopupHeaderId"})}
function _CfHUrs(a,b,c){universalPostRequest_getAny_Hss=$.post(targetUrl+"/tracker/getAnyHss.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),command:a,age:b},function(d){if("not signed in"===d)alertify.alert("You are not logged in.",function(){window.location="liteSabreOpenTime.php"});else if("expired"!==d){if(-1<d.indexOf("HSS/")&&-1<d.indexOf("SEQ ")){retrieveAnyMissingSequencesAtLeastSixHoursOldCounter[c]=0;var e=d.split("\n")[0];-1<e.indexOf("HSS/")&&(e=e.split("/"),
jsonMySeqsData[0][e[2]+"/"+e[3]]=d)}"noData"===d&&10>retrieveAnyMissingSequencesAtLeastSixHoursOldCounter[c]&&(retrieveAnyMissingSequencesAtLeastSixHoursOldCounter[c]+=1,setTimeout(function(){_CfHUrs(a,b,c)},3E3))}}).error(function(){userAborted&&(userAborted=!1)}).success(function(){});universalRequestsArray.push(universalPostRequest_getAny_Hss)}
function _Wqb3bY(){var a=0,b;for(b in jsonMySeqsData[0])-1<b.indexOf("/")&&!(0<jsonMySeqsData[0][b].length)&&(_CfHUrs("HSS/"+userPos+"/"+b,216E5,a),a++)}function _OHGE9t(a){for(var b in jsonMySeqsData[0])if(-1<b.indexOf("/")){var c=b.split("/")[1],d=c.substring(0,2);c=c.substring(2,5);if(-1<a.indexOf("/")){var e=a.split("/"),g=e[1];e=_DUd63T(e[0]);if(d===g&&c===e)return b}}return""}
function _ANZng7(a){try{var b=sessionStorage.getItem(username+"googleString")}catch(v){}null!==b&&-1<b.indexOf("::::")&&(b=b.split("::::"),_mrGe0u(b));b=(new Date(a+" 00:00:00")).getTime()/1E3;a=(new Date(a+" 23:59:59")).getTime()/1E3;var c=[],d;for(d in googleCalsArray)c.push(d);for(var e="",g=0;g<c.length;g++){var h=c[g],k="",f=googleCalsArray[c[g]];for(d in f){var n=f[d],l=n.start,r=n.end,u=!1,A=!1,G=!1,B=!1;l<b&&r>b&&(u=!0);l<a&&r>a&&(A=!0);l>b&&r<a&&(G=!0);l<b&&r>a&&(B=!0);if(u||A||G||B)k+=n.event+
"<br />"}0<k.length&&(e+="<p><span class='calTitle'>"+h+":</span><br />"+k+"</p>")}return e}
function _mrGe0u(a){googleCalendarEventsString=a[1];a=googleCalendarEventsString.split(CAL_EVENTS_GLOBAL_SEP);for(var b=0;b<a.length;b++){var c=a[b].split(CAL_EVENTS_CAL_NAME_SEP);if(0<c[0].length&&-1<c[1].indexOf(CAL_EVENTS_CAL_SEP)&&-1<c[1].indexOf(CAL_EVENTS_CAL_SEP)){for(var d=c[1].split(CAL_EVENTS_CAL_SEP),e=[],g=0;g<d.length;g++){var h=d[g].split(CAL_EVENTS_INTERNAL_SEP);3===h.length&&(h=new _kCQrW8(h),e[g]=h)}googleCalsArray[c[0]]=e}}}
function _kCQrW8(a){this.event=a[0];this.start=a[1];this.end=a[2]}
function _Zso2lG(){if("t"!==subExpired)if(12>=gT.length)$("#gridPulloutGoogleDetailsId").html("<h5>Google Calendar Events.</h5><p>If you subscribe to <a href='liteSabreGoogleCalendarSettings.php'>Google Sync</a> you can see your Google Calendar events here.</p>");else{try{var a=sessionStorage.getItem(username+"googleString")}catch(c){}if(null!==a&&-1<a.indexOf("::::")){var b=a.split("::::");if(b[0]>(new Date).getTime()-3E5){_mrGe0u(b);return}}universalPostRequest_googleEvents_Retrieval=$.post(targetUrl+
"/googleEventsRetrieval_ver189.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),user:username,pass:googlePass,token:gT},function(b){if(-1<b.indexOf(CAL_EVENTS_INTERNAL_SEP)){try{sessionStorage.setItem(username+"googleString",(new Date).getTime()+"::::"+b)}catch(d){}googleCalendarEventsString=b;b=b.split(CAL_EVENTS_GLOBAL_SEP);_mrGe0u(b)}else null!==a&&-1<a.indexOf("::::")&&(b=a.split("::::"),_mrGe0u(b))}).error(function(){userAborted&&(userAborted=!1)}).success(function(){});
universalRequestsArray.push(universalPostRequest_googleEvents_Retrieval)}}
function _P1OW5N(a,b,c){if(!1!==c&&"t"!==subExpired){$("#myTripsCancelButtonId").unbind().click(function(){$("#myTripsPopupHssDataId").html("<br /><br /><br /><br />");$("#myTripsPopupsButtonsId").hide();legalGrid.jqGrid("clearGridData");var a=$("#accountLeftId").width();$("#legalList").setCaption("Tradeable trips are presented here when selected.<span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});$("#list").setGridWidth(a);
$("#legalList").setGridWidth(a);_pnu1GW()});if("trade"===a)if($("#myTripsPopupId").is(":visible"))if(-1<$("#myTripsPopupHssDataId").html().indexOf("HSS/")){c=$("#myTripsPopupDecsDataId option:selected").text();c=jsonMySeqsData[0][c];if(0<c.length)$("#myTripsPopupHssDataId").html("<pre>"+c+"</pre>"),$("#tradeNowButtonHtmdYId").unbind().click(function(){checkForTradeAuthAndTrade("8888-"+_6ZiNF5(6),"tradeY")}),$("#tradeNowButtonHtmdNId").unbind().click(function(){checkForTradeAuthAndTrade("8888-"+_6ZiNF5(6),
"tradeN")}),$("#autoTradeSetButtonId").unbind().click(function(){submitAutoTrade()}),$("#myTripsPopupsButtonsId").show();else{alertify.alert("LiteSabre cannot find this sequence in your account.\nYou may still try trading the trip if you are sure that you own it.");$("#tradeNowButtonHtmdYId").unbind().click(function(){checkForTradeAuthAndTrade("8888-"+_6ZiNF5(6),"tradeY")});$("#tradeNowButtonHtmdNId").unbind().click(function(){checkForTradeAuthAndTrade("8888-"+_6ZiNF5(6),"tradeN")});$("#autoTradeSetButtonId").unbind().click(function(){submitAutoTrade()});
$("#myTripsPopupsButtonsId").show();return}$("#myTripsPopupsButtonsId").show()}else $("#myTripsPopupsButtonsId").hide(),$("#myTripsPopupHssDataId").html("<br /><br />Choose a trip to Trade.<br /><br />"),$('#myTripsDataId option[value="choose"]').attr("selected","selected");else $('#myTripsDataId option[value="choose"]').attr("selected","selected"),$("#myTripsPopupDecsDataId").unbind().change(function(){var a=$("#myTripsPopupDecsDataId option:selected").text();a=jsonMySeqsData[0][a];0<a.length?($("#myTripsPopupHssDataId").html("<pre>"+
a+"</pre>"),$("#tradeNowButtonHtmdYId").unbind().click(function(){checkForTradeAuthAndTrade("8888-"+_6ZiNF5(6),"tradeY")}),$("#tradeNowButtonHtmdNId").unbind().click(function(){checkForTradeAuthAndTrade("8888-"+_6ZiNF5(6),"tradeN")}),$("#myTripsPopupsButtonsId").show()):"1"===autoRemote?alertify.alert("LiteSabre cannot find this sequence in your account."):alertify.alert("LiteSabre cannot find this sequence in your account.<br />Basic subscribers must run LiteSabre 24/7 in order to<br />get sequence details.")}),
$("#myTripsPopupDecsDataId").show(),$("#myTripsPopupsButtonsId").hide();if("cal"===a){$("#myTripsPopupsButtonsId").hide();c=jsonMySeqsData[0][b];if(0<c.length)$("#myTripsPopupHssDataId").html("<pre>"+c+"</pre>"),$("#myTripsPopupDecsDataId").unbind().change(function(){var a=$("#myTripsPopupDecsDataId option:selected").text();a=jsonMySeqsData[0][a];0<a.length?$("#myTripsPopupHssDataId").html("<pre>"+a+"</pre>"):"1"===autoRemote?alertify.alert("LiteSabre is downloading the data.  Please try again in a few seconds."):
alertify.confirm("This feature is not available to Basic subscribers. Would you like to consider upgrading your account?",function(a){window.location="https://www.aapocket.com/liteSabreRemoteAccessInstructions.php?auth=dfh34548"})});else{"1"===autoRemote?alertify.alert("Downloading data.  Please try again in a few seconds..."):alertify.alert("This feature is not available to Basic subscribers.");return}$("#myTripsPopupDecsDataId").show()}$("#myTripsPopupId").fadeIn("fast")}}
function _cLpiqo(a){for(var b=mainGrid.jqGrid("getDataIDs"),c=[],d=!1,e=[],g=0;g<=b.length;g++)d=b[g],"undefined"!==typeof d&&(d=mainGrid.jqGrid("getRowData",d),c.push(d));mainGrid.jqGrid("clearGridData");for(g=0;g<a.length;g++){d=!1;b=a[g];for(var h=0;h<c.length;h++){var k=JSON.stringify(c[h]),f=JSON.stringify(b);if(k===f&&0<f.length){d=!0;break}}$.inArray(a[g],c)&&(d=!0);!1===d&&e.push("row"+g);h=a[g].Date;h.match("^[0-9]{2}[A-Z]{3}$")&&(d=h.substring(0,2),h=h.substring(2,5),h=_dneJpE(h),k=new Date,
f=k.getMonth(),k=k.getFullYear(),11===f&&1===h&&k++,f=new Date,f.setFullYear(k),f.setDate(d),f.setMonth(h-1),b=b.dayOfWeek,a[g].Date=k+"-"+h+"-"+d,a[g].Day=b);b=a[g].Div;"INT"===b&&(b="I");"DOM"===b&&(b="D");mainGrid.addRowData("row"+g,a[g])}a=$("#accountLeftId").width();_pnu1GW();mainGrid.sortGrid(colNamesGlobal[colName-1],!0,sortOrder);if(0<c.length)for(g=0;g<e.length;g++)c=e[g],$("#"+c).effect("highlight",{},3E3),c=null;$("#list").setGridWidth(a);_v7CEZn();e=$(".buttonPlusMinus");$.each(e,function(a,
b){var c=b.id.split("__");$("#"+b.id).unbind().click(function(){$("#list").jqGrid("groupingToggle",c[1])})});_VT0Sjv();$(".showMotivator").unbind().click(function(){var a=$(this).attr("data-amount");alertify.alert("A fellow pilot is offering $"+a+" to anyone who can pick up his trip.<p>Can you help? If so, go to <a href='https://www.aapocket.com/liteSabreMotivator.php' target='_blank'>Motivator</a> now.</p>WARNING: Picking this trip up outside of the 'Motivator' system does NOT guarantee payment!!")})}
function _TQqj8C(a){var b=0,c=formatDate(new Date,"yyyy");a=a.toUpperCase();isDate(a,"ddMMM")&&(b=getDateFromFormat(a+" 00:00/"+c,"ddMMM HH:mm/yyyy"),b+5184E6<(new Date).getTime()&&(c++,b=getDateFromFormat(a+" 00:00/"+c,"ddMMM HH:mm/yyyy")));return b}var greenHolderToggle=!1;
function _hXvMOX(){$("#filterStatusId").hide();if(greenHolderToggle){var a=dbGet("greenHolder");if(null!=a){mainGrid.jqGrid("clearGridData");jQuery.each(a,function(a,b){var c=b.rowId,d=b.rowData;"string"==typeof c&&"object"==typeof d&&mainGrid.addRowData(c,d)});a=$(".ui-jqgrid-title").html();var b=a.indexOf("<span");a=a.substring(0,b).trim();$("#list").setCaption(a+" <span class='greenLink' id='greenLinkId'>SHOW GREEN ONLY</span><span class='greenLinkQuestion' id='greenLinkQuestionId'>???</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");
$("#groupingToggleId").unbind().click(function(){_gMLwAq()});$("#greenLinkId").unbind().click(function(){_hXvMOX()});$("#greenLinkQuestionId").unbind().click(function(){alertify.alert("What do the colors mean?<br />GREEN: Your trip is tradeable with this trip.<br />YELLOW: The trip is tradeable but you are not legal.<br />RED:  Not tradeable. <p>NOTE:  This data comes from the N4T and N4TL command, and has been known to be wrong.  Test trading may be a good backup.</p>")});$("#jqgh_list_Nav").trigger("click");
$("#jqgh_list_Nav").trigger("click")}greenHolderToggle=!1}else if(a=dbGet("greenHolder"),null==a)greenHolderToggle=!1;else{mainGrid.jqGrid("clearGridData");var c=dbGet("rowColors");jQuery.each(a,function(a,b){var d=b.rowId,e=b.rowData;"string"==typeof d&&"object"==typeof e&&c[d]==ROW_GREEN&&mainGrid.addRowData(d,e)});a=$(".ui-jqgrid-title").html();b=a.indexOf("<span");a=a.substring(0,b).trim();$("#list").setCaption(a+" <span class='greenLink' id='greenLinkId'>SHOW ALL COLORS</span><span class='grouping' id='groupingToggleId'>Grouping??</span>");
$("#groupingToggleId").unbind().click(function(){_gMLwAq()});$("#greenLinkId").unbind().click(function(){_hXvMOX()});$("#jqgh_list_Nav").trigger("click");$("#jqgh_list_Nav").trigger("click");greenHolderToggle=!0}}
function _SeNg2I(a,b){$("#filterStatusId").hide();if(subExpired)weAreTestingOrTradingNow=!1,alertify.error("Subscription expired");else{dbSet("rowColors",[]);var c=dbGet("allowGrouping");"t"==c&&(allowGrouping=!0,$("#list").jqGrid("setGridParam",{grouping:!0}));"f"==c&&(allowGrouping=!1,$("#list").jqGrid("setGridParam",{grouping:!1}));_ZHmq6z(SHOW);_VT0Sjv();$("#list").setCaption("LiteSabre OpenTime - "+username+"<span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()});
startTimeMS=(new Date).getTime();c=$("#statusBaseId").val();var d=$("#statusEquipId").val(),e=$("#statusPosId").val(),g=$("#statusDivId").val(),h=$("#dateRangeDatePickerStart").val();if(b){var k=$("#dateRangeDatePickerEnd").datepicker("getDate");$("#dateRangeDatePickerStart").datepicker("getDate").getTime()>k.getTime()&&$("#dateRangeDatePickerEnd").datepicker("setDate",h)}k=$("#dateRangeDatePickerEnd").val();if(null!=a){$("#openTimeTabId").trigger("click");$("#list").setCaption(a[2]+" <span style='margin-left: 6px' id='tradeableTripsGreenLinkId'>loading... <img src='images/wait22.gif'/></span><span class='grouping' id='groupingToggleId'>Grouping??</span>");
$("#groupingToggleId").unbind().click(function(){_gMLwAq()});h=a[0];k=a[1];var f=dbGet("fourPart");$("#statusBaseId").val(f[0]);$("#statusBaseId").selectmenu("refresh",!0);c=f[0];$("#statusEquipId").val(f[2]);$("#statusEquipId").selectmenu("refresh",!0);d=f[2];var n=f[1];if("FO"==n||"FB"==n||"FC"==n)n="AllFo";$("#statusPosId").val(n);$("#statusPosId").selectmenu("refresh",!0);e=n;$("#statusDivId").val(f[3]);$("#statusDivId").selectmenu("refresh",!0);g=f[3];f=null;$("#dateRangeDatePickerStart").datepicker("setDate",
h);$("#dateRangeDatePickerEnd").datepicker("setDate",k);var l=!1;command="N4T/"+a[3];f=command.replace("N4T/","N4TL/");var r=JSON.stringify(a),u=dbGet("incomplete_"+f);if(-1<u.indexOf("_"))if(u=u.split("_"),1>parseInt(u[6],10))dbSet("incomplete_"+f,c+"_"+d+"_"+n+"_"+g+"_"+h+"_"+k+"_1_"+r);else{$("#warningId").html("Missing data. Please try again.");setTimeout(function(){$("#warningId").html("")},1E4);return}else dbSet("incomplete_"+f,c+"_"+d+"_"+n+"_"+g+"_"+h+"_"+k+"_0_"+r);0==n4tData.length||0==
n4tLegalData.length?_7BotAy(DIRECTION_TRADEABLE_TRIPS,0):(command=command.replace("N4T/","N4TL/"),l=!0)}universalPostRequest_getOpen_Time=$.post(targetUrl+"/tracker/getOpenTime_04_19_2017.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),base:c,equip:d,pos:e,div:g,startDate:h,endDate:k,cleanMotivator:"t"},function(a){_VT0Sjv();$("#seqPopupId").fadeOut();if(-1<a.indexOf("subExp"))_t8DKdl(),alertify.confirm("Your LiteSabre subscription has expired.  Would you like to resubscribe?",
function(a){a&&(window.location="liteSabreSubscribeNew.php")});else if(-1<a.indexOf("maxExceed")&&(a=a.replace("maxExceed::::",""),alertify.alert("Only 100 trips can be displayed.<br />Some trips are not shown.<p>Narrow your date range to see all trips.</p>")),-1<a.indexOf("noSignIn"))alertify.error("Not logged in.");else{if(-1<a.indexOf("Date")){startTimeMS=(new Date).getTime();if(-1<a.indexOf("join")){var b=[];a=a.split("join");for(var c=0;c<a.length;c++)try{var d=JSON.parse(a[c]);b=b.concat(d)}catch(N){}_cLpiqo(b);
dbSet("seqList",b);setTimeout(function(){_QCQdBt("","","")},200);l&&_o1QGXS();return}try{d=JSON.parse(a);_cLpiqo(d);dbSet("seqList",d);setTimeout(function(){_QCQdBt("","","")},200);l&&_o1QGXS();return}catch(N){alertify.alert("Downloaded data was corrupted.  Please try again.");return}}!1===a.indexOf("[")&&(_t8DKdl(),alertify.alert("There was an error.  Please contact Support."));"[]"===a?(mainGrid.jqGrid("clearGridData"),currentData=null,startTimeMS=(new Date).getTime()):-1===a.indexOf('[ { "Date')?
(_t8DKdl(),alertify.alert("There was an error.  Please contact Support.")):startTimeMS=(new Date).getTime()}}).error(function(){_t8DKdl();0==userAborted?alertify.error("There was a connection error."):userAborted=!1}).complete(function(){_ZHmq6z(HIDE);_Hz0s7c()});universalRequestsArray.push(universalPostRequest_getOpen_Time)}}function _t8DKdl(){$("#refreshButton").show().unbind().click(function(){_SeNg2I(null,!1)})}
function _I6xydc(a,b){var c="";if(-1<a.indexOf("CAPT")||-1<a.indexOf("R/C"))c="CA";if(-1<a.indexOf("F/O")||-1<a.indexOf("F/B")||-1<a.indexOf("F/C"))c="FO";for(var d=a.split("\n"),e=[],g="",h=0;h<d.length;h++){var k=d[h];if(k.trim().match("^[0-3]{1}[0-9]{1}(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC){1} (INT|DOM){1}$")){g=k.trim();var f=g.indexOf("DOM");-1<f?g=g.substring(0,f).trim():(f=g.indexOf("INT"),-1<f&&(g=g.substring(0,f).trim()));f=g;var n=f.substring(f.length-3,f.length);g=_dneJpE(n);
f=f.replace(n,"");g=g+"-"+f}if(10<k.length&&(f=k.substring(0,5).trim(),k=k.substring(5,7),-1<k.indexOf(" ")&&(k=c),f.match("[0-9]{1,5}")))if(n=f.match(/[A-Z]{1}/g),null!=n){if(1==n.length)for(var l=0;l<n.length;l++)f=f.replace(n[l],""),b?e.push(f+"-"+g+"-"+k):e.push(f+"-"+g)}else b?e.push(f+"-"+g+"-"+k):e.push(f+"-"+g)}return e}function _xtIWrL(){this.rowId="";this.rowData=null}
function _5E8GTV(){var a=_I6xydc(n4tData,!1),b=_I6xydc(n4tLegalData,!1);dbSet("rowColors",[]);for(var c=[],d=[],e=mainGrid.jqGrid("getDataIDs"),g=[],h=0;h<=e.length;h++){var k=e[h];if("undefined"!==typeof k){var f=mainGrid.jqGrid("getRowData",k),n=f.Date,l=n.split("-");n=l[1]+"-"+l[2];l=f.Seq;l=l+"-"+n;-1==$.inArray(l,g)&&g.push(l);"Open"!=f.Type?mainGrid.jqGrid("delRowData",k):(n=new _xtIWrL,n.rowId=k,n.rowData=f,d.push(n),-1<$.inArray(l,b)?($("#"+k).css("color",ROW_GREEN),c[k]=ROW_GREEN):-1<$.inArray(l,
a)?($("#"+k).css("color",ROW_YELLOW),c[k]=ROW_YELLOW):($("#"+k).css("color",ROW_RED),c[k]=ROW_RED))}}b=!1;e="";for(h=0;h<a.length;h++)if(k=a[h],-1==$.inArray(k,g)){b=!0;var r=dbGet("incomplete_"+command);if(-1<r.indexOf("_"))if(f=r.split("_"),1>parseInt(f[6],10))for(f=_I6xydc(n4tData,!0),l=0;l<f.length;l++)n=f[l],-1<n.indexOf(k)&&(e=e+"^"+n);else{$("#warningId").html("Missing data. Please try again.");setTimeout(function(){$("#warningId").html("")},5E3);return}}0==b?_m9g9nz("incomplete_"+command):
triggerJava_ToGetMissingTrips(r+"_"+e);dbSet("rowColors",c);dbSet("greenHolder",d)}var ROW_GREEN="green",ROW_YELLOW="#B5B509",ROW_RED="red";function _Yyj6pr(a){for(var b=a.jqGrid("getDataIDs"),c=[],d=0;d<=b.length;d++){var e=b[d];"undefined"!==typeof e&&(e=a.jqGrid("getRowData",e),-1===$.inArray(e.Date,c)&&c.push(e.Date))}return c.length}function _pnu1GW(){}
function _0BJxfm(){$(function(){mainGrid=$("#list").jqGrid({url:"",datatype:"local",mtype:"GET",colNames:"Date Day Type Seq M Pos Div Dep_Arr Time Orig Term Legs Layover Nav Divs".split(" "),colModel:[{name:"Date",index:"Date",width:25,sorttype:"date",align:"center",search:!1},{name:"Day",index:"Day",width:9,sortable:!1,sorttype:"text",align:"center",search:!1},{name:"Type",index:"Type",width:18,align:"center",search:!1},{name:"Seq",index:"Seq",width:14,sorttype:"int",align:"center",search:!1},{name:"M",
index:"M",width:4,sortable:!1,align:"center",search:!1},{name:"Pos",index:"Pos",width:10,align:"center",search:!1},{name:"Div",index:"Div",width:10,align:"center",search:!1},{name:"Dep_Arr",index:"Dep_Arr",width:22,align:"center",search:!1},{name:"Time",index:"Time",width:18,sorttype:"float",align:"center",search:!1},{name:"Orig",index:"Orig",width:17,sorttype:"float",align:"center",search:!1},{name:"Term",index:"Term",width:22,sortable:!1,align:"center",search:!1},{name:"Legs",index:"Legs",width:11,
align:"center",search:!1},{name:"Layover",index:"Layover",width:27,align:"center",search:!1},{name:"Nav",index:"Nav",width:13,align:"center",search:!1},{name:"Divs",index:"Divs",width:13,align:"center",search:!1}],pager:"#pager",rowNum:1E3,viewsortcols:[!0,"vertical",!0],sortname:"Date",sortorder:"desc",viewrecords:!0,grouping:allowGrouping,groupingView:{groupField:["Date"],groupColumnShow:[!0],groupText:["<b>{0}</b>"]},gridview:!0,rownumWidth:25,hidegrid:!1,rownumbers:!0,loadui:"block",multiselect:!1,
caption:"Open Time",autowidth:!0,height:400,onSortCol:function(a,b,c){colName=b;sortOrder=c;setTimeout(function(){_v7CEZn()},200)},onPaging:function(a){},loadComplete:function(a){},loadError:function(a){alertify.alert("There was an error loading the grid.  Please contact support.")},onSelectRow:function(a){a=mainGrid.getRowData(a);var b=a.Date;b=b.split("-");var c=b[1];c=_DUd63T(c);var d=b[2];b=b=null;c=a.Pos+"/"+a.Seq+"/"+d+c;_gxsAJa(c);d=dbGet(c);"string"==typeof d&&-1<d.indexOf("<pre>")?(a=_27VgIe(c,
d),a=_HGoLI3(c,a),$("#openTripTradeBoxDecsDataId").html(a),_jt9FVJ(),$("#googleCalConflictsLinkId").show(),savedPickupDataBeforeHover=a,$("#seqCancelButtonId").unbind().click(function(){$("#myTripsPopupsButtonsId").hide()}),_FQcB7J(),_5cAvYi(),_QKA7SQ()):(b=a.Date,b=b.split("-"),c=b[1],c=_DUd63T(c),d=b[2],b=b=null,_AaHWUs("HSS/"+a.Pos+"/"+a.Seq+"/"+d+c))}});$("#list").jqGrid("navGrid","#pager",{edit:!1,add:!1,del:!1},{},{},{},{multipleSearch:!0,multipleGroup:!1,closeOnEscape:!0,onSearch:function(){var a=
$("#opSelId").val(),b="";$(".input-elm").each(function(a){b=b+$(this).val()+","});var c="";$(".colChoice").each(function(a){c=c+$(this).val()+","});var d="";$(".selectopts").each(function(a){d=d+$(this).val()+","});$("#list").setGridParam({postData:"_search=true&box=true&nd="+(new Date).getTime()+"&opsel="+a+"&operators="+d+"&columnsToSearch="+c+"&windowsValues="+b+"&rows=50&page=1"});$("#list").setCaption("Search - "+c+" "+b+"<span class='grouping' id='groupingToggleId'>Grouping??</span>");$("#groupingToggleId").unbind().click(function(){_gMLwAq()})},
onClose:function(){return!0}})})}
function _PTWYpD(a){var b=a.replace("HSS/",""),c=a.split("/")[2],d=Math.floor(1E4*Math.random()+1);d="r"+d;for(var e=allocationArray.length,g=!0,h=0;h<e;h++){var k=allocationArray[h];if(!(10>k.length)){var f=k.indexOf("ORIG");f=k.substring(0,f+4);if(-1<f.indexOf("SEQ")&&-1<f.indexOf("ORIG")){f=f.replace("SEQ","");f=f.replace("ORIG","");f=f.trim();if(2<f.length)3===f.length&&(f="0"+f),4===f.length&&(f="0"+f);else continue;-1<f.indexOf(c)&&(g=!1,k=_27VgIe(a,k),k=_HGoLI3(a,k),dbSet(b,"HSS/"+b+"\n"+k),
k="<pre><span  id='sevenPickupId' class='quickTradePickupDrag' data-command='HSS/"+b+"'>CLICK AND DRAG FOR QUICK TRADE</span>\n"+a+" <span id='"+d+"'data-id='"+d+" 'data-command='HSS/"+b+"' class='openTimeLiveDataGet'>CLICK FOR LIVE DATA</span><span class='clearBox'>CLEAR</span>\nSequence data not available on the database.\nTry 'click for live data' above.</pre>",$("#openTripTradeBoxDecsDataId").html(k),_jt9FVJ(),savedPickupDataBeforeHover=k,$("#seqCancelButtonId").unbind().click(function(){$("#myTripsPopupsButtonsId").hide()}),
_5cAvYi())}k=null}}g&&(dbSet(b,"HSS/"+b+"\n"+k),k="<pre>Allocation data not available for:\nHSS/"+b+"\n<span id='"+d+"'data-id='"+d+" 'data-command='HSS/"+b+"' class='openTimeLiveDataGet'>CLICK FOR LIVE DATA</span><span class='clearBox'>CLEAR</span></pre>",$("#openTripTradeBoxDecsDataId").html(k),_jt9FVJ(),savedPickupDataBeforeHover=k,$("#seqCancelButtonId").unbind().click(function(){$("#myTripsPopupsButtonsId").hide()}),_5cAvYi());_FQcB7J();$(".openTimeLiveDataGet").unbind().click(function(a){a.preventDefault();
$("#"+$(this).attr("data-id")).html("loading...");_rj5hqQ($(this).attr("data-command"))})}function _kIiqc4(){$(".quickTradeDropDrag").unbind().draggable({containment:"document",revert:!0,helper:"clone",revertDuration:2,start:function(a,b){_qenXjX()},stop:function(a,b){}})}function _FQcB7J(){$(".quickTradePickupDrag").unbind().draggable({containment:"document",revert:!0,helper:"clone",revertDuration:2,start:function(a,b){_qenXjX()},stop:function(a,b){}})}
function _rj5hqQ(a){command=a;_7BotAy(DIRECTION_OPEN_TRIP,0)}var colorId="";function _hsaUNC(a){command=a;_7BotAy(DIRECTION_COLOR_OF_SEQUENCE,0)}function _kgY9Mc(a){a=a.replace("_","$");alertify.alert("<p>A fellow pilot is offering "+a+" to anyone who can pick up his trip.</p><p>Can you help?  If so, go <a href='liteSabreMotivator.php#consoleId' >Motivator</a> now.</p><p>WARNING:  Picking this trip up outside of the 'Motivator' system does NOT guarantee payment!!</p>")}
function _jxkHdC(a){$("#openTripTradeBoxDecsDataId").html("<br /><br /><img src='images/redLoader.gif'/><br /><br /><br /><br />");_jt9FVJ();var b=$("#openTripTradeBoxDecsDataId").height();$("#openTripTradeBoxDecsDataId").height(b);universalPostRequest_seqData_Getter=$.post(targetUrl+"/tracker/seqDataGetter.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"seqData",command:a},function(b){$("#openTripTradeBoxDecsDataId").css("height","auto");-1<b.indexOf("SEQ ")||
-1<b.indexOf("NOT FOUND ")?(-1<b.indexOf("HSS/")?(b=_27VgIe(a,b),b=_HGoLI3(a,b),$("#openTripTradeBoxDecsDataId").html("<pre>"+b+"</pre>")):(b=_27VgIe(a,b),b=_HGoLI3(a,b),$("#openTripTradeBoxDecsDataId").html("<pre>"+a+"\n"+b+"</pre>")),$("#googleCalConflictsLinkId").show()):$("#openTripTradeBoxDecsDataId").html("<br /><br />No output.  Please try again.<br /><br />")}).error(function(){userAborted&&(userAborted=!1);$("#openTripTradeBoxDecsDataId").css("height","auto");$("#openTripTradeBoxDecsDataId").html("<br /><br />Error.<br /><br /><br /><br />")}).success(function(){});
universalRequestsArray.push(universalPostRequest_seqData_Getter)}function _AjTckP(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(a))return d.substring(a.length,d.length)}return null}function _mSzgzg(a){_xWONrc(a,"",-1)}function _xWONrc(a,b,c){var d="";c&&(d=new Date,d.setTime(d.getTime()+864E5*c),d="; expires="+d.toGMTString());document.cookie=a+"="+b+d+"; path=/"}
function _QR0pPM(a){_ZHmq6z(SHOW);try{var b=sessionStorage.getItem(a)}catch(d){}if(null!==b){b=b.split("SEPARATOR");for(var c=0;c<b.length;c++)allocationArray.push(b[c]);allocationCommandsArray.push(a)}else universalPostRequest_seqDataGetter_Alloc=$.post(targetUrl+"/tracker/seqDataGetter.php?nocache="+(new Date).getTime(),{phonegap:decodeURIComponent(dbGet("login")),type:"openTime",fourPart:a},function(b){if(-1<b.indexOf("SEPARATOR")){try{sessionStorage.setItem(a,b)}catch(g){}b=b.split("SEPARATOR");
for(var c=0;c<b.length;c++)allocationArray.push(b[c]);allocationCommandsArray.push(a)}}).error(function(){userAborted&&(userAborted=!1)}).complete(function(){_ZHmq6z(HIDE)}),universalRequestsArray.push(universalPostRequest_seqDataGetter_Alloc)}
function _Hz0s7c(){var a=$("#statusBaseId").val();allocationCommandsArray[0]+6048E5<(new Date).getTime()&&(allocationCommandsArray=null,allocationCommandsArray=[],allocationCommandsArray[0]=(new Date).getTime());if("ALL"==a)for(var b="BOS LGA DCA MIA DFW ORD SLT LAX SFO".split(" "),c=0;c<b.length;c++){a=b[c];var d=$("#statusEquipId").val(),e=$("#statusPosId").val(),g=$("#statusDivId").val();a=a+"_"+d+"_"+e+"_"+g;-1<$.inArray(a,allocationCommandsArray)||_QR0pPM(a)}else d=$("#statusEquipId").val(),
e=$("#statusPosId").val(),g=$("#statusDivId").val(),a=a+"_"+d+"_"+e+"_"+g,-1<$.inArray(a,allocationCommandsArray)||_QR0pPM(a)}function _v7CEZn(){for(var a=mainGrid.jqGrid("getDataIDs"),b=dbGet("rowColors"),c=0;c<=a.length;c++){var d=a[c];if("undefined"!==typeof d){var e=mainGrid.jqGrid("getRowData",d),g=b[d];"Open"===e.Type?(e=g,e==ROW_GREEN||e==ROW_YELLOW||e==ROW_RED?$("#"+d).css("color",e):$("#"+d).css("color","#220077")):($("#"+d).css("font-style","italic"),$("#"+d).css("color","#777777"))}}}
function _UC6Kjv(){var a=$("#gview_legalList").children().find(".ui-jqgrid-title").html(),b="";"undefined"!==typeof a&&(b=a.indexOf("<img"),b=-1<b?a.substring(0,b):a,$("#legalList").setCaption(b+" <img src='../images/trackerWaitInHeader.gif'/><span class='grouping' id='groupingToggleId'>Grouping??</span>"),$("#groupingToggleId").unbind().click(function(){_gMLwAq()}))}
function _qWI5kz(){var a=$("#gview_legalList").children().find(".ui-jqgrid-title").html(),b="";"undefined"!==typeof a&&(b=a.indexOf("<img"),b=-1<b?a.substring(0,b):a,$("#legalList").setCaption(b+" <img src='../images/trackerWaitInHeaderHidden.png'/><span class='grouping' id='groupingToggleId'>Grouping??</span>"),$("#groupingToggleId").unbind().click(function(){_gMLwAq()}))}
function _W2GVhW(){if(gettingFilterDataNow)alertify.alert("Downloading required data.  Please wait a few seconds, then try again.");else if(null==filteredDataArray)alertify.error("Error.  No data");else{setTimeout(function(){dbSet("filterOptionsObject",filterOptionsObject)},100);for(var a=0;500>=a;a++)$("#row"+a).show();var b=_l5bqIP($("#timeboxDepStartId").val());isNaN(b)&&(b=0);var c=_l5bqIP($("#timeboxDepEndId").val());isNaN(c)&&(c=1440);var d=_l5bqIP($("#timeboxArrStartId").val());isNaN(d)&&(d=
0);var e=_l5bqIP($("#timeboxArrEndId").val());isNaN(e)&&(e=1440);var g=parseInt($("#minDaysId").val(),10);isNaN(g)&&(g=0);isNaN(h)&&(h=100);var h=parseInt($("#maxDaysId").val(),10);if(h<g)alertify.error("Error. Max Days less than min days."),setTimeout(function(){$("#clearFilterId").trigger("click")},500);else{$("#dhNoPrefId").prop("checked");var k=$("#dhNoDeadId").prop("checked"),f=$("#dhReqAnyId").prop("checked"),n=$("#dhReqFirstId").prop("checked"),l=$("#dhReqLastId").prop("checked"),r=$("#dhReqFirstOrLastId").prop("checked"),
u=$("#dhNoLastId").prop("checked"),A=$("#dhNoAaId").prop("checked"),G=parseInt($("#minTotalPayMinutesId").val(),10);isNaN(G)&&(G=0);var B=parseInt($("#minTotalPayMinutesFractionId").val(),10),v=parseInt($("#minPayAndCreditId").val(),10);isNaN(v)&&(v=0);var N=parseInt($("#minPayAndCreditFractionId").val(),10),O=parseInt($("#maxLegsId").val(),10);isNaN(O)&&(O=90);var P=parseInt($("#maxLegsPerSequenceId").val(),10);isNaN(P)&&(P=99);var J=parseInt($("#minLayoverId").val(),10);isNaN(J)&&(J=0);J*=60;var K=
parseInt($("#maxLayoverId").val(),10);isNaN(K)&&(K=90);K*=60;var L=parseInt($("#minTAFBId").val(),10);isNaN(L)&&(L=0);L*=60;var M=parseInt($("#maxTAFBId").val(),10);isNaN(M)&&(M=999);M*=60;var Q=$("#allNightersId").val(),C=$("#desiredLayoverCitiesId").val().trim().toUpperCase(),x=$("#prohCitiesId").val().trim().toUpperCase();x=x.replace("MEXICO","MTY MEX MZT PVR GDL BJX ZIH CUN CZM");var y=$("#prohLayoverCitiesId").val().trim().toUpperCase();y=y.replace("MEXICO","MTY MEX MZT PVR GDL BJX ZIH CUN CZM");
var D=$("#prohCoterminalCitiesId").val().trim().toUpperCase(),E=$("#prohDaysOfWeekId").val().trim().toUpperCase(),q=!1,R=!1;a=0;a:for(;a<=filteredDataArray.length;a++){var m=filteredDataArray[a];if("undefined"!=typeof m&&"null"!=m.status){R&&(R=!1,h--);var p=m.orig;p=p.substring(0,2)+":"+p.substring(2,4);p=_l5bqIP(p);if(b>c){if(!(b<p||p<c)){$("#"+m.rowId).hide();q=!0;continue}}else if(!(b<=p&&p<=c)){$("#"+m.rowId).hide();q=!0;continue}p=m.term;p=p.split("/")[0];p=p.substring(0,2)+":"+p.substring(2,
4);p=_l5bqIP(p);if(d>e)if(d<p||p<e)p<e&&(h++,R=!0);else{$("#"+m.rowId).hide();q=!0;continue}else if(!(d<=p&&p<=e)){$("#"+m.rowId).hide();q=!0;continue}p=parseInt(m.days);if(p<g||p>h)$("#"+m.rowId).hide(),q=!0;else if(f&&"0"==m.dhAnyLeg)$("#"+m.rowId).hide(),q=!0;else if("1"==m.dhAnyLeg&&1==k)$("#"+m.rowId).hide(),q=!0;else if("0"==m.dhFirstLeg&&1==n)$("#"+m.rowId).hide(),q=!0;else if("0"==m.dhLastLeg&&1==l)$("#"+m.rowId).hide(),q=!0;else if("1"==m.dhAnyLeg&&"0"==m.dhAA&&1==A)$("#"+m.rowId).hide(),
q=!0;else if(u&&m.dhLastLeg)$("#"+m.rowId).hide(),q=!0;else if(n&&"0"==m.dhFirstLeg)$("#"+m.rowId).hide(),q=!0;else if(l&&"0"==m.dhLastLeg)$("#"+m.rowId).hide(),q=!0;else if(r&&"0"==m.dhFirstLeg&&"0"==m.dhLastLeg)$("#"+m.rowId).hide(),q=!0;else if(p=parseInt(m.days,10),p<g||p>h)$("#"+m.rowId).hide(),q=!0;else{p=_l5bqIP(m.time);var t=_l5bqIP(G+":"+B);if(p<t)$("#"+m.rowId).hide(),q=!0;else if(p=parseInt(m.totalCredit,10),t=_l5bqIP(v+":"+N),p<t)$("#"+m.rowId).hide(),q=!0;else{p=0;if(-1<m.legs.indexOf("-")){t=
m.legs.split("-");var w=0;for(;w<t.length;w++){var F=parseInt(t[w],10);if(O<F){$("#"+m.rowId).hide();q=!0;continue a}p+=F}}else if(p=t=parseInt(m.legs,10),O<t){$("#"+m.rowId).hide();q=!0;continue}if(P<p)$("#"+m.rowId).hide(),q=!0;else{p=parseInt(m.minLayoverDur,10);t=parseInt(m.maxLayoverDur,10);if(K<J){alertify.error("Error. Max layover less than min layover.");setTimeout(function(){$("#clearFilterId").trigger("click")},500);return}if(p<J||t>K)$("#"+m.rowId).hide(),q=!0;else{if(M<L){alertify.error("Error. Max TAFB less than min TAFB.");
setTimeout(function(){$("#clearFilterId").trigger("click")},500);return}p=m.tafb;p=parseInt(p,10);if(p<L||p>M)$("#"+m.rowId).hide(),q=!0;else if("1"==m.allNighter&&"n"==Q)$("#"+m.rowId).hide(),q=!0;else{F=[];-1<m.layover.indexOf("-")?F=m.layover.split("-"):F[0]=m.layover;var z=!1,I=!1,H=[];C=C.replaceAll("   "," ");C=C.replaceAll("  "," ");-1<C.indexOf(",")||-1<C.indexOf(" ")?(C=C.replaceAll(" ",","),H=C.split(",")):H[0]=C.trim();if(0<H[0].length&&0==F[0].length)$("#"+m.rowId).hide(),q=!0;else{for(p=
0;p<F.length;p++)for(t=0;t<H.length;t++)w=H[t],3==w.length&&(I=!0),w==F[p]&&0<w.length&&(z=!0);if(1==I&&0==z)$("#"+m.rowId).hide(),q=!0;else{z=_xjH0Gf(m.content);I=[];x=x.replaceAll("   "," ");x=x.replaceAll("  "," ");-1<x.indexOf(",")||-1<x.indexOf(" ")?(x=x.replaceAll(" ",","),I=x.split(",")):I[0]=x.trim();var S=H=!1;for(p=0;p<z.length;p++)for(t=0;t<I.length;t++)w=I[t],3==w.length&&(S=!0),w==z[p]&&0<w.length&&(H=!0);if(1==S&&H)$("#"+m.rowId).hide(),q=!0;else{z=[];y=y.replaceAll("   "," ");y=y.replaceAll("  ",
" ");-1<y.indexOf(",")||-1<y.indexOf(" ")?(y=y.replaceAll(" ",","),z=y.split(",")):z[0]=y.trim();for(p=0;p<F.length;p++)for(t=0;t<z.length;t++)w=z[t],w==F[p]&&0<w.length&&($("#"+m.rowId).hide(),q=!0);F=m.depArr.split(" ");z=[];D=D.replaceAll("   "," ");D=D.replaceAll("  "," ");-1<D.indexOf(",")||-1<D.indexOf(" ")?(D=D.replaceAll(" ",","),z=D.split(",")):z[0]=D.trim();H=I=!1;for(p=0;p<F.length;p++)for(t=0;t<z.length;t++)w=z[t],3==w.length&&(H=!0),w==F[p]&&0<w.length&&(I=!0);if(1==H&&I)$("#"+m.rowId).hide(),
q=!0;else for(t=[],E=E.replaceAll("   "," "),E=E.replaceAll("  "," "),-1<E.indexOf(",")||-1<E.indexOf(" ")?(E=E.replaceAll(" ",","),t=E.split(",")):t[0]=E.trim(),p=0;p<t.length;p++)switch(t[p]){case "SUN":if("1"==m.workSun){$("#"+m.rowId).hide();q=!0;continue a}break;case "MON":if("1"==m.workMon){$("#"+m.rowId).hide();q=!0;continue a}break;case "TUE":if("1"==m.workTue){$("#"+m.rowId).hide();q=!0;continue a}break;case "WED":if("1"==m.workWed){$("#"+m.rowId).hide();q=!0;continue a}break;case "THU":if("1"==
m.workThu){$("#"+m.rowId).hide();q=!0;continue a}break;case "FRI":if("1"==m.workFri){$("#"+m.rowId).hide();q=!0;continue a}break;case "SAT":if("1"==m.workSat){$("#"+m.rowId).hide();q=!0;continue a}}}}}}}}}}}}q&&_hpLgXH("")}}}
function _hpLgXH(a){$("#filterStatusId").html(a+"<span class='clearTimeLinks' id='clearFilterId'>Clear Filtering</span>");$("#filterStatusId").show();$("#clearFilterId").unbind().click(function(){$("#filterStatusId").hide();for(var a=0;a<=filteredDataArray.length;a++){var c=filteredDataArray[a];"undefined"!=typeof c&&$("#"+c.rowId).show()}})}
function _0JECNe(){_piglsF();_WYcfTD();$("#minDaysId").val("none").selectmenu("refresh");_xIevNz("minDaysId","none");$("#maxDaysId").val("none").selectmenu("refresh");_xIevNz("maxDaysId","none");_Jkqwnw("true,false,false,false,false,false,false,false");_XyfUju();$("#minTotalPayMinutesId").val("noPref").selectmenu("refresh");_xIevNz("minTotalPayMinutesId","noPref");$("#minTotalPayMinutesFractionId").val("00").selectmenu("refresh");_xIevNz("minTotalPayMinutesFractionId","00");$("#minPayAndCreditId").val("noPref").selectmenu("refresh");
_xIevNz("minPayAndCreditId","noPref");$("#minPayAndCreditFractionId").val("00").selectmenu("refresh");_xIevNz("minPayAndCreditFractionId","00");$("#maxLegsId").val("noPref").selectmenu("refresh");_xIevNz("maxLegsId","noPref");$("#maxLegsPerSequenceId").val("noPref").selectmenu("refresh");_xIevNz("maxLegsPerSequenceId","noPref");$("#minLayoverId").val("00").selectmenu("refresh");_xIevNz("minLayoverId","00");$("#maxLayoverId").val("99").selectmenu("refresh");_xIevNz("maxLayoverId","99");$("#minTAFBId").val("00").selectmenu("refresh");
_xIevNz("minTAFBId","00");$("#maxTAFBId").val("999").selectmenu("refresh");_xIevNz("maxTAFBId","999");$("#allNightersId").val("y").selectmenu("refresh");_xIevNz("allNightersId","y");$("#desiredLayoverCitiesId").val("");_xIevNz("desiredLayoverCitiesId","");$("#prohCitiesId").val("");_xIevNz("prohCitiesId","");$("#prohLayoverCitiesId").val("");_xIevNz("prohLayoverCitiesId","");$("#prohCoterminalCitiesId").val("");_xIevNz("prohCoterminalCitiesId","");$("#prohDaysOfWeekId").val("");_xIevNz("prohDaysOfWeekId",
"")}function _piglsF(){$("#timeboxDepStartId").val("");$("#timeboxDepEndId").val("");_xIevNz("timeboxDepStartId","");_xIevNz("timeboxDepEndId","")}function _WYcfTD(){$("#timeboxArrStartId").val("");$("#timeboxArrEndId").val("");_xIevNz("timeboxArrStartId","");_xIevNz("timeboxArrEndId","")}
function _Uq6bBc(a,b,c){a.replace(/\//g,"");if(-1<b.indexOf("noDataWithEmpNumber"))return" -- <span class='red'>NO HSS DATA. <br />UNABLE TO LOAD HSS DATA.</span>";var d=b.split("\n"),e="",g="";a=[];for(var h=b="",k=0;k<d.length;k++){if(-1<d[k].indexOf("TL ")&&-1<d[k].indexOf("P/C ")&&-1<d[k].indexOf("TAFB ")){var f=d[k].indexOf("P/C");f=d[k].substring(f);break}if(18<d[k].length){if(-1==d[k].substring(0,10).indexOf("SKD ONDUTY")&&-1<d[k].substring(0,4).indexOf("SKD ")||-1<d[k].substring(0,4).indexOf("ACT ")||
-1<d[k].substring(0,4).indexOf("RSK "))0==e.length&&(e=d[k].substring(15,18),b=d[k].substring(19,23)),g=d[k].substring(26,29),h=d[k].substring(30,34);-1<d[k].indexOf("TL ")&&-1<d[k].indexOf("P/C ")&&a.push(g)}}d=e;for(k=0;k<a.length;k++)d+="-"+a[k];return 0<c.length?" -- "+d+"<span></span>\x3c!--alertHere--\x3e<span class='alert'>"+c+"</span>\x3c!--endAlertHere--\x3e<br />D:"+b+" A:"+h+" "+f:" -- "+d+"<span></span><br />D:"+b+" A:"+h+" "+f}
function _xjH0Gf(a){var b=[];a=a.split("\n");for(var c=/^[A-Z]{3}$/,d=0;d<a.length;d++)if(-1<a[d].substring(0,5).indexOf("SKD ")&&-1==a[d].indexOf("SKD ONDUTY")){var e=a[d].substring(15,18).trim();e.match(c)&&-1==$.inArray(e,b)&&b.push(e);e=a[d].substring(26,29).trim();e.match(c)&&-1==$.inArray(e,b)&&b.push(e)}return b}
function _HGoLI3(a,b){if(-1<b.indexOf("pilotLookup"))return b;a=a.replace(/\//g,"_");for(var c=b.split("\n"),d=0;d<c.length;d++)if(-1<c[d].indexOf("EMP NBR ")){var e=/EMP NBR [0-9]{6}/.exec(c[d]);e&&(e=e[0].replace("EMP NBR ","").trim(),c[d]=c[d].replace(e,"<span id='"+a+"-"+e+"' class='pilotLookup'>"+e+"</span>"))}return c.join("\n")}function _qyaNZJ(a){}
function determineEmployeeNumberOfPosOnHss(a,b){b.split("\n");if("CA"==a&&-1==b.indexOf("CAPT")||"RC"==a&&-1==b.indexOf("R/C")||"FO"==a&&-1==b.indexOf("F/O")||"FB"==a&&-1==b.indexOf("F/B")||"FC"==a&&-1==b.indexOf("F/C"))return"";"CA"==a&&(a="CAPT ");"RC"==a&&(a="R/C ");"FO"==a&&(a="F/O ");"FB"==a&&(a="F/B ");"FC"==a&&(a="F/C ");var c=b.split("\n");for(var d=0;d<c.length;d++){var e=c[d];if(-1<e.indexOf(a)){if(-1<e.indexOf("OPEN"))return"open";if(-1<e.indexOf("EMP NBR ")&&(e=/EMP NBR [0-9]{6}/.exec(c[d])))return e[0].replace("EMP NBR ",
"").trim()}}return""}function _TwivR2(a){a=a.split("\n");for(var b=0;b<a.length;b++){var c=a[b];if(-1<c.indexOf("BASE ")){if(-1<c.indexOf(" BOS "))return"BOS";if(-1<c.indexOf(" LGA "))return"LGA";if(-1<c.indexOf(" DCA "))return"DCA";if(-1<c.indexOf(" MIA "))return"MIA";if(-1<c.indexOf(" DFW "))break;if(-1<c.indexOf(" ORD "))return"ORD";if(-1<c.indexOf(" SLT "))return"SLT";if(-1<c.indexOf(" LAX "))return"LAX";if(-1<c.indexOf(" SFO "))return"SFO"}}return"DFW"}
function _zlhuCj(a){return"<p style='color:yellow'>Post and UnPost changes should be done through <span id='hiseqDisplay' class='hiseqHeader'>Auto Drop.</span><br />Refresh this display after you receive<br />notification of Auto Drop changes.<br />WARNING:  LiteSabre will sync your HISEQ to Auto Drop.<br />Making changes directly in the HISEQ WILL BE REVERSED<br />by LiteSabre if Auto Drop preferences are not set.</p>"+a}
function _N1IVzP(a,b){if("undefined"==typeof b||-1<b.indexOf("nsLink"))return b;for(var c=a.split("/")[3],d=b.split("\n"),e="",g=0;g<d.length;g++){var h=d[g].substring(0,10);h=h.trim();if(h.match("[0-9]{2}(JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC){1}")&&(-1<h.indexOf("DOM")||-1<h.indexOf("INT")))e=h.replace("DOM",""),e=e.replace("INT",""),e=e.trim();else if(h=h.substring(0,5).trim(),h.match("[0-9]{5}")){var k=d[g],f=_g6QpQG(99,9999),n="HSS/"+c+"/"+h.trim()+"/"+e;h="<span id='nsCommand"+f+"_"+
h.trim()+g+"' class='nsLink' data-command='"+n+"'>"+h.trim()+"</span>"+k.substring(5,k.length);d[g]=h}}return b=d.join("\n")}
function _27VgIe(a,b){if("undefined"==typeof b||-1<b.indexOf("nsLink"))return b;for(var c="",d=0,e=a.split("/"),g=1;g<e.length;g++)for(var h=0;h<monthArray.length;h++)if(-1<e[g].indexOf(monthArray[h])){c=monthArray[h];d=parseInt(e[g].substring(0,2),10);break}e=b.split("\n");for(h=0;h<e.length;h++)if(-1<e[h].substring(0,5).indexOf("SKD ")&&-1==e[h].indexOf("SKD ONDUTY")){g=e[h];var k=g.substring(10,14);var f=k.trim();var n=g.substring(4,6).trim();var l=parseInt(n,10);var r=g.substring(15,18).trim();
var u=c;if(7>l&&25<d)for(l=0;l<monthArray.length;l++)monthArray[l]==c&&(u=l==monthArray.length-1?monthArray[0]:monthArray[l+1]);l=_g6QpQG(99,9999);k="<span id='nsCommand"+f+l+h+"' class='nsLink' data-command='"+("NS/"+f+"/"+n+u+"/"+r)+"'>"+k+"</span>";g=g.substring(0,10)+k+g.substring(14,g.length);e[h]=g}return b=e.join("\n")}
function _YySzCr(a){if(-1<a.indexOf("removalLink")||-1<a.indexOf("addLink"))return a;a=a.split("\n");for(var b=!1,c=0;c<a.length;c++){var d=a[c];if(-1<d.indexOf("DD ST RMV ADD SEQ    FLT"))b=!0;else if(0!=b&&13<d.length&&!(-1<a[c].indexOf("APPEND"))){var e="",g="",h="",k="";if(d.substring(7,9).match("[0-9A-Z]{2}")){e=d.substring(7,9);var f=Math.floor(1E6*Math.random()+1);g=" <span id='_"+f+"' class='removalLink'>"+e+"</span> "}d.substring(11,13).match("[0-9A-Z]{2}")&&(h=d.substring(11,13),f=Math.floor(1E6*
Math.random()+1),k=" <span id='_"+f+"' class='addLink'>"+h+"</span> ");0<g.length&&(a[c]=a[c].replace(" "+e+" ",g));0<h.length&&(a[c]=a[c].replace(" "+h+" ",k))}}return a.join("\n").trim()}
function _0VehHv(){$(".removalLink").unbind().click(function(){var a=$("#"+this.id).offset(),b=$("#"+this.id).html(),c=(a.left+30).toFixed(0)+"px";$(".hoverPopup").css("top",(a.top-30).toFixed(0)+"px");$(".hoverPopup").css("left",c);$(".hoverPopup").html("<img src='images/wait22.gif'/>");getAddOr_RemovalCode("remove",b);$(".hoverPopup").show();$(".hoverPopup").unbind().click(function(){$(".hoverPopup").hide()})});$(".addLink").unbind().click(function(){var a=$("#"+this.id).offset(),b=$("#"+this.id).html(),
c=(a.left+30).toFixed(0)+"px";$(".hoverPopup").css("top",(a.top-30).toFixed(0)+"px");$(".hoverPopup").css("left",c);$(".hoverPopup").html("<img src='images/wait22.gif'/>");getAddOr_RemovalCode("add",b);$(".hoverPopup").show();$(".hoverPopup").unbind().click(function(){$(".hoverPopup").hide()})})}
function _Z7X7ra(a,b){var c=0;"generalDecsWindowDecsDataId"==a?c=dbGet(HI33_KEY_GENERAL):"seqPopupDecsDataId"==a&&(c=dbGet(HI33_KEY_SEQ));if("ALL"==b)$("#"+a).html(c),_5cAvYi();else{var d=c.split("\n"),e="",g="",h=!0,k=!1;for(c=0;c<d.length;c++){var f=d[c];h&&(e+=f+"\n");k&&(g+=f+"\n");-1<f.indexOf("SEN   NAME")&&(k=!0,h=!1)}e=e.trim();g=g.trim();d=g.split("    --------------");h=[];for(c=0;c<d.length;c++)f=d[c].trim(),0<c&&(f="    --------------"+f),h.push(f);d=[];g=[];for(c=0;c<h.length;c++){k=
h[c].split("\n");for(var n=0;n<k.length;n++)f=k[n],f=f.substring(0,2),"LC"==f&&d.push(k),"SC"==f&&g.push(k)}e+="\n";if("LC"==b){g=!1;for(c=0;c<d.length;c++)f=d[c].join("\n"),-1<f.indexOf("AVAIL DAYS-0")||(g=!0,e+=f+"\n");0==g&&(e+="\n\nNo long call pilots with more than 0 days available.");$("#"+a).html(e);_5cAvYi()}else if("SC"==b){d=!1;for(c=0;c<g.length;c++)f=g[c].join("\n"),-1<f.indexOf("AVAIL DAYS-0")||(d=!0,e+=f+"\n");0==d&&(e+="\n\nNo short call pilots with more than 0 days available.");$("#"+
a).html(e);_5cAvYi()}}}function _g6QpQG(a,b){a=Math.ceil(a);b=Math.floor(b);return Math.floor(Math.random()*(b-a))+a}
function _5ICQoL(a,b,c,d){if(0<c.length&&0==d.length)if($("#seqPopupDecsDataId").html("Starting drop test..."),weAreTestingOrTradingNow)alertify.error("query in progress.  Unable.");else{weAreTestingOrTradingNow=!0;var e=new _A7c7l8(empNum,0,c,9999999999999);d=new _A7c7l8("OPEN",0,"OPEN",0);var g=new Drop(e,d,0);g.dropSequence=c;g.dropType=$("#"+a+"DropTypeId").val();activeDrop="drop_"+g.one.seqNumberDate1+"_"+g.two.seqNumberDate1;g.direction=b==TRADE_CONSTANT.LIVE?DROP_CONSTANT.LIVE:DROP_CONSTANT.TEST;
dbSet(activeDrop,g);b==TRADE_CONSTANT.LIVE?setTimeout(function(){g.dropTripNow(DROP_CONSTANT.LIVE)},300):setTimeout(function(){g.dropTripNow(DROP_CONSTANT.TEST)},300)}else if(0==c.length&&0<d.length){c=new _4gHz1J("OPEN",0,0,"",null,null,null,null,null,null,null);d=new _4gHz1J(empNum,0,0,d,null,null,null,null,null,null,null);var h=new Trade(c,d,"");a=$("#"+a+"HtmdId").val();h.htmdCommand=a;activeTrade="trade_"+h.one.seqNumberDate1+"_"+h.two.seqNumberDate1;a=dbGet(activeTrade);null!=a.failReason&&
0<a.failReason.length?(dbSet(activeTrade,h),b="<pre><span style='color: yellow'>This pickup was tried previously in this session:</span>\n"+a.failReason+"\n<a class='postLink' href='#' id='quickTradeTryAgainId' data-action='"+activeTrade+"'>RETRY LIVE PICKUP</a>\n\n<a class='postLink' href='#' id='quickTradeTestAgainId' data-action='"+activeTrade+"'>RETRY TEST PICKUP</a></pre>",$("#seqPopupDecsDataId").html(b),$("#quickTradeTryAgainId").unbind().click(function(){var a=$(this).attr("data-action"),
b=dbGet(activeTrade,a);b.direction=TRADE_CONSTANT.LIVE;dbSet(activeTrade,b);setTimeout(function(){b.tradeNow(TRADE_CONSTANT.LIVE)},300)}),$("#quickTradeTestAgainId").unbind().click(function(){var a=$(this).attr("data-action"),b=dbGet(activeTrade,a);b.direction=TRADE_CONSTANT.TEST;dbSet(activeTrade,b);setTimeout(function(){b.tradeNow(TRADE_CONSTANT.TEST)},300)})):weAreTestingOrTradingNow?alertify.error("query in progress.  Unable."):(weAreTestingOrTradingNow=!0,h.direction=b==TRADE_CONSTANT.LIVE?TRADE_CONSTANT.LIVE:
TRADE_CONSTANT.TEST,dbSet(activeTrade,h),b==TRADE_CONSTANT.LIVE?setTimeout(function(){h.tradeNow(TRADE_CONSTANT.LIVE)},300):setTimeout(function(){h.tradeNow(TRADE_CONSTANT.TEST)},300))}else if(0<c.length&&0<d.length){e=new _4gHz1J(empNum,0,0,c,null,null,null,null,null,null,null);d=new _4gHz1J("OPEN",0,0,d,null,null,null,null,null,null,null);var k=new Trade(e,d,"");a=$("#"+a+"HtmdId").val();k.htmdCommand=a;activeTrade="trade_"+k.one.seqNumberDate1+"_"+k.two.seqNumberDate1;a=dbGet(activeTrade);null!=
a.failReason&&0<a.failReason.length?(dbSet(activeTrade,k),b="<pre><span style='color: yellow'>This trade was tried previously in this session:</span>\n"+a.failReason+"\n<a class='postLink' href='#' id='quickTradeTryAgainId' data-action='"+activeTrade+"'>RETRY LIVE TRADE</a>\n\n<a class='postLink' href='#' id='quickTradeTestAgainId' data-action='"+activeTrade+"'>RETRY TEST TRADE</a></pre>",$("#seqPopupDecsDataId").html(b),$("#quickTradeTryAgainId").unbind().click(function(){var a=$(this).attr("data-action"),
b=dbGet(activeTrade,a);b.direction=TRADE_CONSTANT.LIVE;dbSet(activeTrade,b);setTimeout(function(){b.tradeNow(TRADE_CONSTANT.LIVE)},300)}),$("#quickTradeTestAgainId").unbind().click(function(){var a=$(this).attr("data-action"),b=dbGet(activeTrade,a);b.direction=TRADE_CONSTANT.TEST;dbSet(activeTrade,b);setTimeout(function(){b.tradeNow(TRADE_CONSTANT.TEST)},300)})):weAreTestingOrTradingNow?alertify.error("query in progress.  Unable."):(weAreTestingOrTradingNow=!0,k.direction=b==TRADE_CONSTANT.LIVE?TRADE_CONSTANT.LIVE:
TRADE_CONSTANT.TEST,dbSet(activeTrade,k),b==TRADE_CONSTANT.LIVE?setTimeout(function(){k.tradeNow(TRADE_CONSTANT.LIVE)},300):setTimeout(function(){k.tradeNow(TRADE_CONSTANT.TEST)},300))}};